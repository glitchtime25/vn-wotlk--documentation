<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CMaNGOS_WoTLK: OutdoorPvPZM.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CMaNGOS_WoTLK
   &#160;<span id="projectnumber">0b6ed145724bbfe54f426dc34e27de563eb3bc54</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('OutdoorPvPZM_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">OutdoorPvPZM.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="OutdoorPvPZM_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * This file is part of the CMaNGOS Project. See AUTHORS file for Copyright information</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This program is free software; you can redistribute it and/or modify</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * the Free Software Foundation; either version 2 of the License, or</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * (at your option) any later version.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * GNU General Public License for more details.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * along with this program; if not, write to the Free Software</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160; </div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="OutdoorPvPZM_8h.html">OutdoorPvPZM.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="WorldPacket_8h.html">Server/WorldPacket.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="World_8h.html">World/World.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ObjectMgr_8h.html">Globals/ObjectMgr.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Object_8h.html">Entities/Object.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Creature_8h.html">Entities/Creature.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GameObject_8h.html">Entities/GameObject.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Player_8h.html">Entities/Player.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="classOutdoorPvPZM.html#a8351867658985b66dd97f39e68c16b94">   28</a></span>&#160;<a class="code" href="classOutdoorPvPZM.html#a8351867658985b66dd97f39e68c16b94">OutdoorPvPZM::OutdoorPvPZM</a>() : <a class="code" href="classOutdoorPvP.html">OutdoorPvP</a>(),</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    m_graveyardOwner(<a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598a66bbf321f9fe6b3387090eb97e230c68">TEAM_NONE</a>),</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    m_graveyardWorldState(<a class="code" href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afa2ef68d85fc560ce52167dcee8be9bf23">WORLD_STATE_ZM_GRAVEYARD_NEUTRAL</a>),</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    m_scoutWorldStateAlliance(<a class="code" href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afa4f3154af4bfda7523489c1e80a5096ac">WORLD_STATE_ZM_FLAG_NOT_READY_ALLIANCE</a>),</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    m_scoutWorldStateHorde(<a class="code" href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afaeb8badc00bfdf729000a519a4d1117a4">WORLD_STATE_ZM_FLAG_NOT_READY_HORDE</a>),</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    m_towersAlliance(0),</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    m_towersHorde(0)</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;{</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="comment">// init world states</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="classOutdoorPvPZM.html#af0678e39a71df6874bf9773ba7be2d77">m_towerWorldState</a>[0] = <a class="code" href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afac55307549ff7add419ecb0f05e4c5a19">WORLD_STATE_ZM_BEACON_EAST_UI_NEUTRAL</a>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="classOutdoorPvPZM.html#af0678e39a71df6874bf9773ba7be2d77">m_towerWorldState</a>[1] = <a class="code" href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afa2c14b12c3a9d84713bc48f8aeecae3cd">WORLD_STATE_ZM_BEACON_WEST_UI_NEUTRAL</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="classOutdoorPvPZM.html#a685086485c9d8f9fd51fbcb3aae93a34">m_towerMapState</a>[0] = <a class="code" href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afab4b31ad81a8dd0d8e078c869d0c0e6de">WORLD_STATE_ZM_BEACON_EAST_NEUTRAL</a>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="classOutdoorPvPZM.html#a685086485c9d8f9fd51fbcb3aae93a34">m_towerMapState</a>[1] = <a class="code" href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afa7c2426b451844451c24e0516ee3b8a4f">WORLD_STATE_ZM_BEACON_WEST_NEUTRAL</a>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; i : <a class="code" href="classOutdoorPvPZM.html#ad37419d26592351e7bbf78be9009ea8f">m_towerOwner</a>)</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        i = <a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598a66bbf321f9fe6b3387090eb97e230c68">TEAM_NONE</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="SharedDefines_8h.html#a4c4967436a7df01cd2084d30a527a030">PVP_TEAM_COUNT</a>; ++i)</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <a class="code" href="classOutdoorPvPZM.html#aa32ddac269481298570ae91953aecc56">m_playerCarryingFlag</a>[i] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <a class="code" href="classOutdoorPvPZM.html#adcca5bdb3c6600f60dc6494bd99b6936">m_flagReady</a>[i] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    }</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="comment">// initially set graveyard owner to neither faction</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="classOutdoorPvP.html#a413ccd03baef0d30bb683910127c9cd5">SetGraveYardLinkTeam</a>(<a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76aa0c104abe8f6acb4ce5d7d5adb6424f2">GRAVEYARD_ID_TWIN_SPIRE</a>, <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76ae3637963d16ad14b305f758133d23408">GRAVEYARD_ZONE_TWIN_SPIRE</a>, <a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598a0d7642ca24c34cbad90be16527e56513">TEAM_INVALID</a>, 530);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="classOutdoorPvPZM.html#a607d179459315d7ca246a7bff7aa8c19">   55</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classOutdoorPvPZM.html#a607d179459315d7ca246a7bff7aa8c19">OutdoorPvPZM::FillInitialWorldStates</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; data, <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&amp; count)</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;{</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="BattleGround_8h.html#aa8a3272ab1fd7959e6078e4790a9fb73">FillInitialWorldState</a>(data, count, <a class="code" href="classOutdoorPvPZM.html#a2aa5721d5c5ef0569ac9ba647f6dfe9a">m_scoutWorldStateAlliance</a>, <a class="code" href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea157b1e1da861f9cbb48bde5d13574ee1">WORLD_STATE_ADD</a>);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="BattleGround_8h.html#aa8a3272ab1fd7959e6078e4790a9fb73">FillInitialWorldState</a>(data, count, <a class="code" href="classOutdoorPvPZM.html#a42f4ba85c305dce7d4c8f9304da83020">m_scoutWorldStateHorde</a>, <a class="code" href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea157b1e1da861f9cbb48bde5d13574ee1">WORLD_STATE_ADD</a>);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="BattleGround_8h.html#aa8a3272ab1fd7959e6078e4790a9fb73">FillInitialWorldState</a>(data, count, <a class="code" href="classOutdoorPvPZM.html#abcde655fad59e22522049361088d3116">m_graveyardWorldState</a>, <a class="code" href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea157b1e1da861f9cbb48bde5d13574ee1">WORLD_STATE_ADD</a>);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a51fa16eff48f19cb18b9c8637fb8b4d8">MAX_ZM_TOWERS</a>; ++i)</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <a class="code" href="BattleGround_8h.html#aa8a3272ab1fd7959e6078e4790a9fb73">FillInitialWorldState</a>(data, count, <a class="code" href="classOutdoorPvPZM.html#af0678e39a71df6874bf9773ba7be2d77">m_towerWorldState</a>[i], <a class="code" href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea157b1e1da861f9cbb48bde5d13574ee1">WORLD_STATE_ADD</a>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <a class="code" href="BattleGround_8h.html#aa8a3272ab1fd7959e6078e4790a9fb73">FillInitialWorldState</a>(data, count, <a class="code" href="classOutdoorPvPZM.html#a685086485c9d8f9fd51fbcb3aae93a34">m_towerMapState</a>[i], <a class="code" href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea157b1e1da861f9cbb48bde5d13574ee1">WORLD_STATE_ADD</a>);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    }</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="classOutdoorPvPZM.html#aba24e6285ac45dd0594f557d5830ba7c">   68</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classOutdoorPvPZM.html#aba24e6285ac45dd0594f557d5830ba7c">OutdoorPvPZM::SendRemoveWorldStates</a>(<a class="code" href="classPlayer.html">Player</a>* player)</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;{</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    player-&gt;<a class="code" href="classPlayer.html#a8035374eea3f9bc259fd25ccff0fd48b">SendUpdateWorldState</a>(<a class="code" href="classOutdoorPvPZM.html#a2aa5721d5c5ef0569ac9ba647f6dfe9a">m_scoutWorldStateAlliance</a>, <a class="code" href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea0be58868d744d3848216104cecbc746d">WORLD_STATE_REMOVE</a>);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    player-&gt;<a class="code" href="classPlayer.html#a8035374eea3f9bc259fd25ccff0fd48b">SendUpdateWorldState</a>(<a class="code" href="classOutdoorPvPZM.html#a42f4ba85c305dce7d4c8f9304da83020">m_scoutWorldStateHorde</a>, <a class="code" href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea0be58868d744d3848216104cecbc746d">WORLD_STATE_REMOVE</a>);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    player-&gt;<a class="code" href="classPlayer.html#a8035374eea3f9bc259fd25ccff0fd48b">SendUpdateWorldState</a>(<a class="code" href="classOutdoorPvPZM.html#abcde655fad59e22522049361088d3116">m_graveyardWorldState</a>, <a class="code" href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea0be58868d744d3848216104cecbc746d">WORLD_STATE_REMOVE</a>);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a51fa16eff48f19cb18b9c8637fb8b4d8">MAX_ZM_TOWERS</a>; ++i)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        player-&gt;<a class="code" href="classPlayer.html#a8035374eea3f9bc259fd25ccff0fd48b">SendUpdateWorldState</a>(<a class="code" href="classOutdoorPvPZM.html#af0678e39a71df6874bf9773ba7be2d77">m_towerWorldState</a>[i], <a class="code" href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea0be58868d744d3848216104cecbc746d">WORLD_STATE_REMOVE</a>);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        player-&gt;<a class="code" href="classPlayer.html#a8035374eea3f9bc259fd25ccff0fd48b">SendUpdateWorldState</a>(<a class="code" href="classOutdoorPvPZM.html#a685086485c9d8f9fd51fbcb3aae93a34">m_towerMapState</a>[i], <a class="code" href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea0be58868d744d3848216104cecbc746d">WORLD_STATE_REMOVE</a>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="classOutdoorPvPZM.html#a88efaaf0801282a6f4cb3be17d37c45f">   81</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classOutdoorPvPZM.html#a88efaaf0801282a6f4cb3be17d37c45f">OutdoorPvPZM::HandlePlayerEnterZone</a>(<a class="code" href="classPlayer.html">Player</a>* player, <span class="keywordtype">bool</span> isMainZone)</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;{</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="classOutdoorPvP.html#aeeaaf6911658f453241d17c8ebc0441f">OutdoorPvP::HandlePlayerEnterZone</a>(player, isMainZone);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">// remove the buff from the player first; Sometimes on relog players still have the aura</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    player-&gt;<a class="code" href="classUnit.html#a1a38bdc4f3c0a9b9cfa22f51365e37a4">RemoveAurasDueToSpell</a>(<a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a8667eddcf05b225ba7445fb3cad41928">SPELL_TWIN_SPIRE_BLESSING</a>);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">// cast buff the the player which enters the zone</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">if</span> (player-&gt;<a class="code" href="classPlayer.html#af984d68ab11bb3f4081e0965593fbc9b">GetTeam</a>() == <a class="code" href="classOutdoorPvPZM.html#a8a52ef3c595dafeaf351b0c557ce0d89">m_graveyardOwner</a>)</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        player-&gt;<a class="code" href="classUnit.html#a211876b6b1dcea2eedcc52e754093d70">CastSpell</a>(player, <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a8667eddcf05b225ba7445fb3cad41928">SPELL_TWIN_SPIRE_BLESSING</a>, <a class="code" href="SpellDefines_8h.html#a8512d8ac830d80360b33fa46dc884a29ab89fa5cc12475f894d85c381bed7a2f2">TRIGGERED_OLD_TRIGGERED</a>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="classOutdoorPvPZM.html#a33774f8eb7112a68f38faaa470141f1f">   93</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classOutdoorPvPZM.html#a33774f8eb7112a68f38faaa470141f1f">OutdoorPvPZM::HandlePlayerLeaveZone</a>(<a class="code" href="classPlayer.html">Player</a>* player, <span class="keywordtype">bool</span> isMainZone)</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;{</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">// remove the buff from the player</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    player-&gt;<a class="code" href="classUnit.html#a1a38bdc4f3c0a9b9cfa22f51365e37a4">RemoveAurasDueToSpell</a>(<a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a8667eddcf05b225ba7445fb3cad41928">SPELL_TWIN_SPIRE_BLESSING</a>);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="classOutdoorPvP.html#a830f5545685c27a324a7ec20435b3a6a">OutdoorPvP::HandlePlayerLeaveZone</a>(player, isMainZone);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="classOutdoorPvPZM.html#a3031648dcc0b872af179e05e979c94fb">  101</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classOutdoorPvPZM.html#a3031648dcc0b872af179e05e979c94fb">OutdoorPvPZM::HandleCreatureCreate</a>(<a class="code" href="classCreature.html">Creature</a>* creature)</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;{</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">switch</span> (creature-&gt;<a class="code" href="classObject.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>())</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a8e429c7f604ee3e315decfff505d34e7">NPC_PVP_BEAM_RED</a>:</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="keywordflow">if</span> (creature-&gt;<a class="code" href="classWorldObject.html#a950bb10c341d39dff61c394009860ac3">GetPositionY</a>() &lt; 7000.0f)         <span class="comment">// East Beam</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                <a class="code" href="classOutdoorPvPZM.html#a0e56f1262e9b1d0eb39b94424ed9633d">m_beamTowerRed</a>[0] = creature-&gt;<a class="code" href="classObject.html#ae7e0c11556aeda48ab347a56b6b7bd6a">GetObjectGuid</a>();</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (creature-&gt;<a class="code" href="classWorldObject.html#a950bb10c341d39dff61c394009860ac3">GetPositionY</a>() &lt; 7300.0f)    <span class="comment">// Center Beam</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                <a class="code" href="classOutdoorPvPZM.html#a493769cdd2c1cd087db328dfc2545aa6">m_beamGraveyardRed</a> = creature-&gt;<a class="code" href="classObject.html#ae7e0c11556aeda48ab347a56b6b7bd6a">GetObjectGuid</a>();</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <span class="keywordflow">else</span>                                            <span class="comment">// West Beam</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                <a class="code" href="classOutdoorPvPZM.html#a0e56f1262e9b1d0eb39b94424ed9633d">m_beamTowerRed</a>[1] = creature-&gt;<a class="code" href="classObject.html#ae7e0c11556aeda48ab347a56b6b7bd6a">GetObjectGuid</a>();</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a83b1569453001bea78adba2c40ecbc9b">NPC_PVP_BEAM_BLUE</a>:</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <span class="keywordflow">if</span> (creature-&gt;<a class="code" href="classWorldObject.html#a950bb10c341d39dff61c394009860ac3">GetPositionY</a>() &lt; 7000.0f)         <span class="comment">// East Beam</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                <a class="code" href="classOutdoorPvPZM.html#a0b0ff9836b32eae4a07898e6f29a6481">m_beamTowerBlue</a>[0] = creature-&gt;<a class="code" href="classObject.html#ae7e0c11556aeda48ab347a56b6b7bd6a">GetObjectGuid</a>();</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (creature-&gt;<a class="code" href="classWorldObject.html#a950bb10c341d39dff61c394009860ac3">GetPositionY</a>() &lt; 7300.0f)    <span class="comment">// Center Beam</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                <a class="code" href="classOutdoorPvPZM.html#a3f777373eb5eb4f6af19d1e52bbc5e08">m_beamGraveyardBlue</a> = creature-&gt;<a class="code" href="classObject.html#ae7e0c11556aeda48ab347a56b6b7bd6a">GetObjectGuid</a>();</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <span class="keywordflow">else</span>                                            <span class="comment">// West Beam</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                <a class="code" href="classOutdoorPvPZM.html#a0b0ff9836b32eae4a07898e6f29a6481">m_beamTowerBlue</a>[1] = creature-&gt;<a class="code" href="classObject.html#ae7e0c11556aeda48ab347a56b6b7bd6a">GetObjectGuid</a>();</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;}</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="classOutdoorPvPZM.html#a6f8fb93b098f3f05c74c65e6106b24b4">  124</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classOutdoorPvPZM.html#a6f8fb93b098f3f05c74c65e6106b24b4">OutdoorPvPZM::HandleGameObjectCreate</a>(<a class="code" href="classGameObject.html">GameObject</a>* go)</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;{</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="classOutdoorPvP.html#a9f00799b60fbd21bd0bfbaeb63472d06">OutdoorPvP::HandleGameObjectCreate</a>(go);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">switch</span> (go-&gt;<a class="code" href="classObject.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>())</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a1db2dd581b1e2eaf109ad0a3baa5e712">GO_ZANGA_BANNER_EAST</a>:</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <a class="code" href="classOutdoorPvPZM.html#a130edc682b163a1e4f787d93beb4655c">m_towerBanners</a>[0] = go-&gt;<a class="code" href="classObject.html#ae7e0c11556aeda48ab347a56b6b7bd6a">GetObjectGuid</a>();</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76aacd14b847d075a48cd35d07465fe082b">GO_ZANGA_BANNER_WEST</a>:</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            <a class="code" href="classOutdoorPvPZM.html#a130edc682b163a1e4f787d93beb4655c">m_towerBanners</a>[1] = go-&gt;<a class="code" href="classObject.html#ae7e0c11556aeda48ab347a56b6b7bd6a">GetObjectGuid</a>();</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a7156317e039d1d76bed69f19aa1dc408">GO_ZANGA_BANNER_CENTER_ALLIANCE</a>:</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            <a class="code" href="classOutdoorPvPZM.html#a021dca76cce4714793e6eb1b34fa4bae">m_graveyardBannerAlliance</a> = go-&gt;<a class="code" href="classObject.html#ae7e0c11556aeda48ab347a56b6b7bd6a">GetObjectGuid</a>();</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a5aa6ffb2aa5bfe7bd354b84995c936ba">GO_ZANGA_BANNER_CENTER_HORDE</a>:</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <a class="code" href="classOutdoorPvPZM.html#a6c523916b4fb126debdc27a4eba4c452">m_graveyardBannerHorde</a> = go-&gt;<a class="code" href="classObject.html#ae7e0c11556aeda48ab347a56b6b7bd6a">GetObjectGuid</a>();</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76adb91f0aa6bbd0de2f64fda510af57e6e">GO_ZANGA_BANNER_CENTER_NEUTRAL</a>:</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <a class="code" href="classOutdoorPvPZM.html#a6dad807e068375fa1ba4a19e34ba3230">m_graveyardBannerNeutral</a> = go-&gt;<a class="code" href="classObject.html#ae7e0c11556aeda48ab347a56b6b7bd6a">GetObjectGuid</a>();</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;}</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">// Cast player spell on opponent kill</span></div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="classOutdoorPvPZM.html#a62f5f448fc56492003898dc5332d1452">  149</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classOutdoorPvPZM.html#a62f5f448fc56492003898dc5332d1452">OutdoorPvPZM::HandlePlayerKillInsideArea</a>(<a class="code" href="classPlayer.html">Player</a>* player, <a class="code" href="classUnit.html">Unit</a>* victim)</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;{</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> m_towerBanner : <a class="code" href="classOutdoorPvPZM.html#a130edc682b163a1e4f787d93beb4655c">m_towerBanners</a>)</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classGameObject.html">GameObject</a>* capturePoint = player-&gt;<a class="code" href="classWorldObject.html#a76c507a1b3adcebf2732572bc6b67fe0">GetMap</a>()-&gt;<a class="code" href="classMap.html#a0ec55b30f6494c6fe1e19b51c2e17ebb">GetGameObject</a>(m_towerBanner))</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <span class="comment">// check capture point range</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <a class="code" href="structGameObjectInfo.html">GameObjectInfo</a> <span class="keyword">const</span>* info = capturePoint-&gt;GetGOInfo();</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="keywordflow">if</span> (info &amp;&amp; player-&gt;<a class="code" href="classWorldObject.html#afd0488a6497cff9e233990646ec78011">IsWithinDistInMap</a>(capturePoint, info-&gt;<a class="code" href="structGameObjectInfo.html#afd134d96fc1c8a329b393643ab398de7">capturePoint</a>.radius))</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                player-&gt;<a class="code" href="classUnit.html#a211876b6b1dcea2eedcc52e754093d70">CastSpell</a>(<span class="keyword">nullptr</span>, player-&gt;<a class="code" href="classPlayer.html#af984d68ab11bb3f4081e0965593fbc9b">GetTeam</a>() == <a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598a360acb47017e8e0d3522e08575f3d1b2">ALLIANCE</a> ? <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a5c4d653b4870097135dd9c67e3abfe1f">SPELL_ZANGA_TOWER_TOKEN_ALLIANCE</a> : <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76af2a450462033ac554d6afa7570294cc6">SPELL_ZANGA_TOWER_TOKEN_HORDE</a>, <a class="code" href="SpellDefines_8h.html#a8512d8ac830d80360b33fa46dc884a29ab89fa5cc12475f894d85c381bed7a2f2">TRIGGERED_OLD_TRIGGERED</a>);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">// process the capture events</span></div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="classOutdoorPvPZM.html#acd70b3d2ce5e19e1a16b853fad2a2490">  167</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classOutdoorPvPZM.html#acd70b3d2ce5e19e1a16b853fad2a2490">OutdoorPvPZM::HandleEvent</a>(<a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> eventId, <a class="code" href="classObject.html">Object</a>* source, <a class="code" href="classObject.html">Object</a>* <span class="comment">/*target*/</span>)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;{</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">if</span> (!source-&gt;<a class="code" href="classObject.html#a85475682d62e51bfaf2133b51d41a619">IsGameObject</a>())</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="classGameObject.html">GameObject</a>* go = <span class="keyword">static_cast&lt;</span><a class="code" href="classGameObject.html">GameObject</a>*<span class="keyword">&gt;</span>(source);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a51fa16eff48f19cb18b9c8637fb8b4d8">MAX_ZM_TOWERS</a>; ++i)</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="OutdoorPvPZM_8h.html#a786bfa80dbf4a0f5aeb1a3ad97a96c29">zangarmarshTowers</a>[i] == go-&gt;<a class="code" href="classObject.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>())</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; 4; ++j)</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="OutdoorPvPZM_8h.html#ad18314a289c88e8a84e99408eb6844cc">zangarmarshTowerEvents</a>[i][j].eventEntry == eventId)</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                    <span class="comment">// prevent processing if the owner did not change (happens if progress event is called after contest event)</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="OutdoorPvPZM_8h.html#ad18314a289c88e8a84e99408eb6844cc">zangarmarshTowerEvents</a>[i][j].team != <a class="code" href="classOutdoorPvPZM.html#ad37419d26592351e7bbf78be9009ea8f">m_towerOwner</a>[i])</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                    {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="OutdoorPvPZM_8h.html#ad18314a289c88e8a84e99408eb6844cc">zangarmarshTowerEvents</a>[i][j].defenseMessage)</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                            <a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.SendDefenseMessage(<a class="code" href="OutdoorPvPMgr_8h.html#a8490f08a1cb6baaca1faa1e9559aa7b3a27002ae74384f88cd624dadd59dffff3">ZONE_ID_ZANGARMARSH</a>, <a class="code" href="OutdoorPvPZM_8h.html#ad18314a289c88e8a84e99408eb6844cc">zangarmarshTowerEvents</a>[i][j].defenseMessage);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="classOutdoorPvPZM.html#a1ba14c556bdc231a2627f49520e199d4">ProcessCaptureEvent</a>(go, i, <a class="code" href="OutdoorPvPZM_8h.html#ad18314a289c88e8a84e99408eb6844cc">zangarmarshTowerEvents</a>[i][j].team, <a class="code" href="OutdoorPvPZM_8h.html#ad18314a289c88e8a84e99408eb6844cc">zangarmarshTowerEvents</a>[i][j].worldState, <a class="code" href="OutdoorPvPZM_8h.html#ad18314a289c88e8a84e99408eb6844cc">zangarmarshTowerEvents</a>[i][j].mapState);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                    }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                    <span class="comment">// no need to iterate other events or towers</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="comment">// no need to iterate other towers</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="classOutdoorPvPZM.html#a1ba14c556bdc231a2627f49520e199d4">  201</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classOutdoorPvPZM.html#a1ba14c556bdc231a2627f49520e199d4">OutdoorPvPZM::ProcessCaptureEvent</a>(<a class="code" href="classGameObject.html">GameObject</a>* go, <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> towerId, <a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598">Team</a> team, <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> newWorldState, <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> newMapState)</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;{</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">if</span> (team == <a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598a360acb47017e8e0d3522e08575f3d1b2">ALLIANCE</a>)</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="comment">// update counter</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <a class="code" href="classOutdoorPvPZM.html#af81ddff732ec9b4e885fc911ddad995a">SetBeaconArtKit</a>(go, <a class="code" href="classOutdoorPvPZM.html#a0b0ff9836b32eae4a07898e6f29a6481">m_beamTowerBlue</a>[towerId], <a class="code" href="boss__netherspite_8cpp.html#abc1a2abf1bf92c4036064143db1c8210a498ef4d60d4df1a4b1d527cc826d51fa">SPELL_BEAM_BLUE</a>);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        ++<a class="code" href="classOutdoorPvPZM.html#a1944cc3ceb7b5c6f548ec96895b79f4f">m_towersAlliance</a>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classOutdoorPvPZM.html#a1944cc3ceb7b5c6f548ec96895b79f4f">m_towersAlliance</a> == <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a51fa16eff48f19cb18b9c8637fb8b4d8">MAX_ZM_TOWERS</a>)</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <span class="comment">// Send this defense message before updating scout state as this sends another</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            <a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.SendDefenseMessage(<a class="code" href="OutdoorPvPMgr_8h.html#a8490f08a1cb6baaca1faa1e9559aa7b3a27002ae74384f88cd624dadd59dffff3">ZONE_ID_ZANGARMARSH</a>, <a class="code" href="Language_8h.html#a1543d0f7021d0539b145b8297818fa51ac31dc30c3ea0149755273397f3014f9d">LANG_OPVP_ZM_CAPTURE_BOTH_BEACONS_A</a>);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            <span class="comment">// only add flag to scouts if team does not have captured graveyard already</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classOutdoorPvPZM.html#a8a52ef3c595dafeaf351b0c557ce0d89">m_graveyardOwner</a> != <a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598a360acb47017e8e0d3522e08575f3d1b2">ALLIANCE</a>)</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                <a class="code" href="classOutdoorPvPZM.html#a4aed2519e238ed8493f860cf45d422c5">UpdateScoutState</a>(<a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598a360acb47017e8e0d3522e08575f3d1b2">ALLIANCE</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (team == <a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598ae00f67931133b08b7de375111e800b42">HORDE</a>)</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="comment">// update counter</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <a class="code" href="classOutdoorPvPZM.html#af81ddff732ec9b4e885fc911ddad995a">SetBeaconArtKit</a>(go, <a class="code" href="classOutdoorPvPZM.html#a0e56f1262e9b1d0eb39b94424ed9633d">m_beamTowerRed</a>[towerId], <a class="code" href="boss__netherspite_8cpp.html#abc1a2abf1bf92c4036064143db1c8210a0072d62eb4483ba7042e74e81e3f7850">SPELL_BEAM_RED</a>);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        ++<a class="code" href="classOutdoorPvPZM.html#a3ef891c8062a1ffd393390395ebeeaee">m_towersHorde</a>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classOutdoorPvPZM.html#a3ef891c8062a1ffd393390395ebeeaee">m_towersHorde</a> == <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a51fa16eff48f19cb18b9c8637fb8b4d8">MAX_ZM_TOWERS</a>)</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="comment">// Send this defense message before updating scout state as this sends another</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.SendDefenseMessage(<a class="code" href="OutdoorPvPMgr_8h.html#a8490f08a1cb6baaca1faa1e9559aa7b3a27002ae74384f88cd624dadd59dffff3">ZONE_ID_ZANGARMARSH</a>, <a class="code" href="Language_8h.html#a1543d0f7021d0539b145b8297818fa51afb2770db954b0a0e5491c5465e9592a9">LANG_OPVP_ZM_CAPTURE_BOTH_BEACONS_H</a>);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="comment">// only add flag to scouts if team does not already have captured graveyard</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classOutdoorPvPZM.html#a8a52ef3c595dafeaf351b0c557ce0d89">m_graveyardOwner</a> != <a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598ae00f67931133b08b7de375111e800b42">HORDE</a>)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                <a class="code" href="classOutdoorPvPZM.html#a4aed2519e238ed8493f860cf45d422c5">UpdateScoutState</a>(<a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598ae00f67931133b08b7de375111e800b42">HORDE</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classOutdoorPvPZM.html#ad37419d26592351e7bbf78be9009ea8f">m_towerOwner</a>[towerId] == <a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598a360acb47017e8e0d3522e08575f3d1b2">ALLIANCE</a>)</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <a class="code" href="classOutdoorPvPZM.html#af81ddff732ec9b4e885fc911ddad995a">SetBeaconArtKit</a>(go, <a class="code" href="classOutdoorPvPZM.html#a0b0ff9836b32eae4a07898e6f29a6481">m_beamTowerBlue</a>[towerId], 0);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <span class="comment">// only remove flag from scouts if team does not already have captured graveyard</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classOutdoorPvPZM.html#a1944cc3ceb7b5c6f548ec96895b79f4f">m_towersAlliance</a> == <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a51fa16eff48f19cb18b9c8637fb8b4d8">MAX_ZM_TOWERS</a> &amp;&amp; <a class="code" href="classOutdoorPvPZM.html#a8a52ef3c595dafeaf351b0c557ce0d89">m_graveyardOwner</a> != <a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598a360acb47017e8e0d3522e08575f3d1b2">ALLIANCE</a>)</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                <a class="code" href="classOutdoorPvPZM.html#a4aed2519e238ed8493f860cf45d422c5">UpdateScoutState</a>(<a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598a360acb47017e8e0d3522e08575f3d1b2">ALLIANCE</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            <span class="comment">// update counter</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            --<a class="code" href="classOutdoorPvPZM.html#a1944cc3ceb7b5c6f548ec96895b79f4f">m_towersAlliance</a>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <a class="code" href="classOutdoorPvPZM.html#af81ddff732ec9b4e885fc911ddad995a">SetBeaconArtKit</a>(go, <a class="code" href="classOutdoorPvPZM.html#a0e56f1262e9b1d0eb39b94424ed9633d">m_beamTowerRed</a>[towerId], 0);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <span class="comment">// only remove flag from scouts if team does not already have captured graveyard</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classOutdoorPvPZM.html#a3ef891c8062a1ffd393390395ebeeaee">m_towersHorde</a> == <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a51fa16eff48f19cb18b9c8637fb8b4d8">MAX_ZM_TOWERS</a> &amp;&amp; <a class="code" href="classOutdoorPvPZM.html#a8a52ef3c595dafeaf351b0c557ce0d89">m_graveyardOwner</a> != <a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598ae00f67931133b08b7de375111e800b42">HORDE</a>)</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                <a class="code" href="classOutdoorPvPZM.html#a4aed2519e238ed8493f860cf45d422c5">UpdateScoutState</a>(<a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598ae00f67931133b08b7de375111e800b42">HORDE</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <span class="comment">// update counter</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            --<a class="code" href="classOutdoorPvPZM.html#a3ef891c8062a1ffd393390395ebeeaee">m_towersHorde</a>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="comment">// update tower state</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="classOutdoorPvP.html#ab332e2eafab4a8ab3f0f19ba7fce4ad4">SendUpdateWorldState</a>(<a class="code" href="classOutdoorPvPZM.html#af0678e39a71df6874bf9773ba7be2d77">m_towerWorldState</a>[towerId], <a class="code" href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea0be58868d744d3848216104cecbc746d">WORLD_STATE_REMOVE</a>);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="classOutdoorPvPZM.html#af0678e39a71df6874bf9773ba7be2d77">m_towerWorldState</a>[towerId] = newWorldState;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <a class="code" href="classOutdoorPvP.html#ab332e2eafab4a8ab3f0f19ba7fce4ad4">SendUpdateWorldState</a>(<a class="code" href="classOutdoorPvPZM.html#af0678e39a71df6874bf9773ba7be2d77">m_towerWorldState</a>[towerId], <a class="code" href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea157b1e1da861f9cbb48bde5d13574ee1">WORLD_STATE_ADD</a>);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="classOutdoorPvP.html#ab332e2eafab4a8ab3f0f19ba7fce4ad4">SendUpdateWorldState</a>(<a class="code" href="classOutdoorPvPZM.html#a685086485c9d8f9fd51fbcb3aae93a34">m_towerMapState</a>[towerId], <a class="code" href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea0be58868d744d3848216104cecbc746d">WORLD_STATE_REMOVE</a>);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="classOutdoorPvPZM.html#a685086485c9d8f9fd51fbcb3aae93a34">m_towerMapState</a>[towerId] = newMapState;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="classOutdoorPvP.html#ab332e2eafab4a8ab3f0f19ba7fce4ad4">SendUpdateWorldState</a>(<a class="code" href="classOutdoorPvPZM.html#a685086485c9d8f9fd51fbcb3aae93a34">m_towerMapState</a>[towerId], <a class="code" href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea157b1e1da861f9cbb48bde5d13574ee1">WORLD_STATE_ADD</a>);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="comment">// update capture point owner</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <a class="code" href="classOutdoorPvPZM.html#ad37419d26592351e7bbf78be9009ea8f">m_towerOwner</a>[towerId] = team;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="comment">// the are no DB exceptions in this case</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;}</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">// Handle scout activation, when both beacons are captured</span></div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="classOutdoorPvPZM.html#a4aed2519e238ed8493f860cf45d422c5">  278</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classOutdoorPvPZM.html#a4aed2519e238ed8493f860cf45d422c5">OutdoorPvPZM::UpdateScoutState</a>(<a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598">Team</a> team, <span class="keywordtype">bool</span> spawned)</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;{</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">if</span> (team == <a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598a360acb47017e8e0d3522e08575f3d1b2">ALLIANCE</a>)</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <a class="code" href="classOutdoorPvP.html#ab332e2eafab4a8ab3f0f19ba7fce4ad4">SendUpdateWorldState</a>(<a class="code" href="classOutdoorPvPZM.html#a2aa5721d5c5ef0569ac9ba647f6dfe9a">m_scoutWorldStateAlliance</a>, <a class="code" href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea0be58868d744d3848216104cecbc746d">WORLD_STATE_REMOVE</a>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <a class="code" href="classOutdoorPvPZM.html#a2aa5721d5c5ef0569ac9ba647f6dfe9a">m_scoutWorldStateAlliance</a> = spawned ? <a class="code" href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afa42df7782fa0120a8734288c33d6706ef">WORLD_STATE_ZM_FLAG_READY_ALLIANCE</a> : <a class="code" href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afa4f3154af4bfda7523489c1e80a5096ac">WORLD_STATE_ZM_FLAG_NOT_READY_ALLIANCE</a>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <a class="code" href="classOutdoorPvP.html#ab332e2eafab4a8ab3f0f19ba7fce4ad4">SendUpdateWorldState</a>(<a class="code" href="classOutdoorPvPZM.html#a2aa5721d5c5ef0569ac9ba647f6dfe9a">m_scoutWorldStateAlliance</a>, <a class="code" href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea157b1e1da861f9cbb48bde5d13574ee1">WORLD_STATE_ADD</a>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <a class="code" href="classOutdoorPvPZM.html#adcca5bdb3c6600f60dc6494bd99b6936">m_flagReady</a>[<a class="code" href="SharedDefines_8h.html#aaef27027c4c75a728cc6832f67fdde73a1b041a7182855cdebe29c9d46caf7e3a">TEAM_INDEX_ALLIANCE</a>] = spawned;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keywordflow">if</span> (spawned)</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.SendDefenseMessage(<a class="code" href="OutdoorPvPMgr_8h.html#a8490f08a1cb6baaca1faa1e9559aa7b3a27002ae74384f88cd624dadd59dffff3">ZONE_ID_ZANGARMARSH</a>, <a class="code" href="Language_8h.html#a1543d0f7021d0539b145b8297818fa51abcbc87b7490c30184f78d7a27952a136">LANG_OPVP_ZM_SPAWN_FIELD_SCOUT_A</a>);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <a class="code" href="classOutdoorPvP.html#ab332e2eafab4a8ab3f0f19ba7fce4ad4">SendUpdateWorldState</a>(<a class="code" href="classOutdoorPvPZM.html#a42f4ba85c305dce7d4c8f9304da83020">m_scoutWorldStateHorde</a>, <a class="code" href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea0be58868d744d3848216104cecbc746d">WORLD_STATE_REMOVE</a>);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <a class="code" href="classOutdoorPvPZM.html#a42f4ba85c305dce7d4c8f9304da83020">m_scoutWorldStateHorde</a> = spawned ? <a class="code" href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afa320253d4c167b06034b3b5600d435dd3">WORLD_STATE_ZM_FLAG_READY_HORDE</a> : <a class="code" href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afaeb8badc00bfdf729000a519a4d1117a4">WORLD_STATE_ZM_FLAG_NOT_READY_HORDE</a>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <a class="code" href="classOutdoorPvP.html#ab332e2eafab4a8ab3f0f19ba7fce4ad4">SendUpdateWorldState</a>(<a class="code" href="classOutdoorPvPZM.html#a42f4ba85c305dce7d4c8f9304da83020">m_scoutWorldStateHorde</a>, <a class="code" href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea157b1e1da861f9cbb48bde5d13574ee1">WORLD_STATE_ADD</a>);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <a class="code" href="classOutdoorPvPZM.html#adcca5bdb3c6600f60dc6494bd99b6936">m_flagReady</a>[<a class="code" href="SharedDefines_8h.html#aaef27027c4c75a728cc6832f67fdde73aa37f1b5a8aa98e2f4a4cebd68094ac3e">TEAM_INDEX_HORDE</a>] = spawned;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordflow">if</span> (spawned)</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.SendDefenseMessage(<a class="code" href="OutdoorPvPMgr_8h.html#a8490f08a1cb6baaca1faa1e9559aa7b3a27002ae74384f88cd624dadd59dffff3">ZONE_ID_ZANGARMARSH</a>, <a class="code" href="Language_8h.html#a1543d0f7021d0539b145b8297818fa51a6b27edec966ce04fbd5335236f9990bf">LANG_OPVP_ZM_SPAWN_FIELD_SCOUT_H</a>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;}</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">// Handle the graveyard banner use</span></div>
<div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="classOutdoorPvPZM.html#aa554dc86388e7e0f50d15985ad9ce1c0">  305</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classOutdoorPvPZM.html#aa554dc86388e7e0f50d15985ad9ce1c0">OutdoorPvPZM::HandleGameObjectUse</a>(<a class="code" href="classPlayer.html">Player</a>* player, <a class="code" href="classGameObject.html">GameObject</a>* go)</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;{</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598">Team</a> team = player-&gt;<a class="code" href="classPlayer.html#af984d68ab11bb3f4081e0965593fbc9b">GetTeam</a>();</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">switch</span> (go-&gt;<a class="code" href="classObject.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>())</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76adb91f0aa6bbd0de2f64fda510af57e6e">GO_ZANGA_BANNER_CENTER_NEUTRAL</a>:</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a7156317e039d1d76bed69f19aa1dc408">GO_ZANGA_BANNER_CENTER_ALLIANCE</a>:</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <span class="keywordflow">if</span> (team == <a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598a360acb47017e8e0d3522e08575f3d1b2">ALLIANCE</a> || !player-&gt;<a class="code" href="classUnit.html#affec6e6e8d949d59b14ab26d446451e9">HasAura</a>(<a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76ae49fca8aef45665f51ed399b469cc4db">SPELL_BATTLE_STANDARD_HORDE</a>))</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a5aa6ffb2aa5bfe7bd354b84995c936ba">GO_ZANGA_BANNER_CENTER_HORDE</a>:</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <span class="keywordflow">if</span> (team == <a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598ae00f67931133b08b7de375111e800b42">HORDE</a> || !player-&gt;<a class="code" href="classUnit.html#affec6e6e8d949d59b14ab26d446451e9">HasAura</a>(<a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76aca50e572de2cef83f3fdc7523ae9efbf">SPELL_BATTLE_STANDARD_ALLIANCE</a>))</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment">// disable old banners - note the alliance and horde banners can despawn by self</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classOutdoorPvPZM.html#a8a52ef3c595dafeaf351b0c557ce0d89">m_graveyardOwner</a> == <a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598a360acb47017e8e0d3522e08575f3d1b2">ALLIANCE</a>)</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <a class="code" href="classOutdoorPvP.html#aebd1508a68fc7c7938dcfeff64f84752">RespawnGO</a>(go, <a class="code" href="classOutdoorPvPZM.html#a021dca76cce4714793e6eb1b34fa4bae">m_graveyardBannerAlliance</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <a class="code" href="classOutdoorPvPZM.html#af81ddff732ec9b4e885fc911ddad995a">SetBeaconArtKit</a>(go, <a class="code" href="classOutdoorPvPZM.html#a3f777373eb5eb4f6af19d1e52bbc5e08">m_beamGraveyardBlue</a>, 0);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classOutdoorPvPZM.html#a8a52ef3c595dafeaf351b0c557ce0d89">m_graveyardOwner</a> == <a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598ae00f67931133b08b7de375111e800b42">HORDE</a>)</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <a class="code" href="classOutdoorPvP.html#aebd1508a68fc7c7938dcfeff64f84752">RespawnGO</a>(go, <a class="code" href="classOutdoorPvPZM.html#a6c523916b4fb126debdc27a4eba4c452">m_graveyardBannerHorde</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <a class="code" href="classOutdoorPvPZM.html#af81ddff732ec9b4e885fc911ddad995a">SetBeaconArtKit</a>(go, <a class="code" href="classOutdoorPvPZM.html#a493769cdd2c1cd087db328dfc2545aa6">m_beamGraveyardRed</a>, 0);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <a class="code" href="classOutdoorPvP.html#aebd1508a68fc7c7938dcfeff64f84752">RespawnGO</a>(go, <a class="code" href="classOutdoorPvPZM.html#a6dad807e068375fa1ba4a19e34ba3230">m_graveyardBannerNeutral</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">if</span> (team == <a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598a360acb47017e8e0d3522e08575f3d1b2">ALLIANCE</a>)</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="comment">// change banners</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <a class="code" href="classOutdoorPvP.html#aebd1508a68fc7c7938dcfeff64f84752">RespawnGO</a>(go, <a class="code" href="classOutdoorPvPZM.html#a021dca76cce4714793e6eb1b34fa4bae">m_graveyardBannerAlliance</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <a class="code" href="classOutdoorPvPZM.html#af81ddff732ec9b4e885fc911ddad995a">SetBeaconArtKit</a>(go, <a class="code" href="classOutdoorPvPZM.html#a3f777373eb5eb4f6af19d1e52bbc5e08">m_beamGraveyardBlue</a>, <a class="code" href="boss__netherspite_8cpp.html#abc1a2abf1bf92c4036064143db1c8210a498ef4d60d4df1a4b1d527cc826d51fa">SPELL_BEAM_BLUE</a>);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="comment">// update world state</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <a class="code" href="classOutdoorPvP.html#ab332e2eafab4a8ab3f0f19ba7fce4ad4">SendUpdateWorldState</a>(<a class="code" href="classOutdoorPvPZM.html#abcde655fad59e22522049361088d3116">m_graveyardWorldState</a>, <a class="code" href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea0be58868d744d3848216104cecbc746d">WORLD_STATE_REMOVE</a>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <a class="code" href="classOutdoorPvPZM.html#abcde655fad59e22522049361088d3116">m_graveyardWorldState</a> = <a class="code" href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afa5b3fb2b2bf3b867cc7622b3de14ba32f">WORLD_STATE_ZM_GRAVEYARD_ALLIANCE</a>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <a class="code" href="classOutdoorPvP.html#ab332e2eafab4a8ab3f0f19ba7fce4ad4">SendUpdateWorldState</a>(<a class="code" href="classOutdoorPvPZM.html#abcde655fad59e22522049361088d3116">m_graveyardWorldState</a>, <a class="code" href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea157b1e1da861f9cbb48bde5d13574ee1">WORLD_STATE_ADD</a>);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="comment">// remove player flag aura</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        player-&gt;<a class="code" href="classUnit.html#a1a38bdc4f3c0a9b9cfa22f51365e37a4">RemoveAurasDueToSpell</a>(<a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76aca50e572de2cef83f3fdc7523ae9efbf">SPELL_BATTLE_STANDARD_ALLIANCE</a>);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="comment">// send defense message</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.SendDefenseMessage(<a class="code" href="OutdoorPvPMgr_8h.html#a8490f08a1cb6baaca1faa1e9559aa7b3a27002ae74384f88cd624dadd59dffff3">ZONE_ID_ZANGARMARSH</a>, <a class="code" href="Language_8h.html#a1543d0f7021d0539b145b8297818fa51afe67ad7b28dc0a9619d351453590745d">LANG_OPVP_ZM_CAPTURE_GRAVEYARD_A</a>);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="comment">// change banners</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <a class="code" href="classOutdoorPvP.html#aebd1508a68fc7c7938dcfeff64f84752">RespawnGO</a>(go, <a class="code" href="classOutdoorPvPZM.html#a6c523916b4fb126debdc27a4eba4c452">m_graveyardBannerHorde</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <a class="code" href="classOutdoorPvPZM.html#af81ddff732ec9b4e885fc911ddad995a">SetBeaconArtKit</a>(go, <a class="code" href="classOutdoorPvPZM.html#a493769cdd2c1cd087db328dfc2545aa6">m_beamGraveyardRed</a>, <a class="code" href="boss__netherspite_8cpp.html#abc1a2abf1bf92c4036064143db1c8210a0072d62eb4483ba7042e74e81e3f7850">SPELL_BEAM_RED</a>);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="comment">// update world state</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <a class="code" href="classOutdoorPvP.html#ab332e2eafab4a8ab3f0f19ba7fce4ad4">SendUpdateWorldState</a>(<a class="code" href="classOutdoorPvPZM.html#abcde655fad59e22522049361088d3116">m_graveyardWorldState</a>, <a class="code" href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea0be58868d744d3848216104cecbc746d">WORLD_STATE_REMOVE</a>);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <a class="code" href="classOutdoorPvPZM.html#abcde655fad59e22522049361088d3116">m_graveyardWorldState</a> = <a class="code" href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afa4fe4500c4c5103c5ed335dd0e0d82e05">WORLD_STATE_ZM_GRAVEYARD_HORDE</a>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <a class="code" href="classOutdoorPvP.html#ab332e2eafab4a8ab3f0f19ba7fce4ad4">SendUpdateWorldState</a>(<a class="code" href="classOutdoorPvPZM.html#abcde655fad59e22522049361088d3116">m_graveyardWorldState</a>, <a class="code" href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea157b1e1da861f9cbb48bde5d13574ee1">WORLD_STATE_ADD</a>);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="comment">// remove player flag aura</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        player-&gt;<a class="code" href="classUnit.html#a1a38bdc4f3c0a9b9cfa22f51365e37a4">RemoveAurasDueToSpell</a>(<a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76ae49fca8aef45665f51ed399b469cc4db">SPELL_BATTLE_STANDARD_HORDE</a>);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <span class="comment">// send defense message</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.SendDefenseMessage(<a class="code" href="OutdoorPvPMgr_8h.html#a8490f08a1cb6baaca1faa1e9559aa7b3a27002ae74384f88cd624dadd59dffff3">ZONE_ID_ZANGARMARSH</a>, <a class="code" href="Language_8h.html#a1543d0f7021d0539b145b8297818fa51ae1b289c9cf9fea0a9a71626ea06c6d2e">LANG_OPVP_ZM_CAPTURE_GRAVEYARD_H</a>);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="comment">// change the graveyard link</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <a class="code" href="classOutdoorPvP.html#a413ccd03baef0d30bb683910127c9cd5">SetGraveYardLinkTeam</a>(<a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76aa0c104abe8f6acb4ce5d7d5adb6424f2">GRAVEYARD_ID_TWIN_SPIRE</a>, <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76ae3637963d16ad14b305f758133d23408">GRAVEYARD_ZONE_TWIN_SPIRE</a>, team, 530);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="classOutdoorPvP.html#a413ccd03baef0d30bb683910127c9cd5">SetGraveYardLinkTeam</a>(<a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76aa0c104abe8f6acb4ce5d7d5adb6424f2">GRAVEYARD_ID_TWIN_SPIRE</a>, <a class="code" href="OutdoorPvPMgr_8h.html#a8490f08a1cb6baaca1faa1e9559aa7b3a4743ed034ae03a75f29b1502d82832fc">ZONE_ID_STEAMVAULT</a>, team, 545);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <a class="code" href="classOutdoorPvP.html#a413ccd03baef0d30bb683910127c9cd5">SetGraveYardLinkTeam</a>(<a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76aa0c104abe8f6acb4ce5d7d5adb6424f2">GRAVEYARD_ID_TWIN_SPIRE</a>, <a class="code" href="OutdoorPvPMgr_8h.html#a8490f08a1cb6baaca1faa1e9559aa7b3a4027741dc7a9c1044691fba3d68e6e87">ZONE_ID_UNDERBOG</a>, team, 546);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="classOutdoorPvP.html#a413ccd03baef0d30bb683910127c9cd5">SetGraveYardLinkTeam</a>(<a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76aa0c104abe8f6acb4ce5d7d5adb6424f2">GRAVEYARD_ID_TWIN_SPIRE</a>, <a class="code" href="OutdoorPvPMgr_8h.html#a8490f08a1cb6baaca1faa1e9559aa7b3a5178ed738d0c04946a1a8dcfba9845b5">ZONE_ID_SLAVE_PENS</a>, team, 547);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="classOutdoorPvP.html#a413ccd03baef0d30bb683910127c9cd5">SetGraveYardLinkTeam</a>(<a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76aa0c104abe8f6acb4ce5d7d5adb6424f2">GRAVEYARD_ID_TWIN_SPIRE</a>, <a class="code" href="OutdoorPvPMgr_8h.html#a8490f08a1cb6baaca1faa1e9559aa7b3a0e9468752e5d37ca06bb8e2bd0ccd581">ZONE_ID_SERPENTSHRINE_CAVERN</a>, team, 548);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="comment">// apply zone buff</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classOutdoorPvPZM.html#a8a52ef3c595dafeaf351b0c557ce0d89">m_graveyardOwner</a> != <a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598a66bbf321f9fe6b3387090eb97e230c68">TEAM_NONE</a>)</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <a class="code" href="classOutdoorPvP.html#a5df6833a8833282ace1550cb332243de">BuffTeam</a>(<a class="code" href="classOutdoorPvPZM.html#a8a52ef3c595dafeaf351b0c557ce0d89">m_graveyardOwner</a>, <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a8667eddcf05b225ba7445fb3cad41928">SPELL_TWIN_SPIRE_BLESSING</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="classOutdoorPvP.html#a5df6833a8833282ace1550cb332243de">BuffTeam</a>(team, <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a8667eddcf05b225ba7445fb3cad41928">SPELL_TWIN_SPIRE_BLESSING</a>);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="comment">// reset scout so that team cannot take flag</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <a class="code" href="classOutdoorPvPZM.html#a4aed2519e238ed8493f860cf45d422c5">UpdateScoutState</a>(team, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="comment">// update graveyard owner</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="code" href="classOutdoorPvPZM.html#a8a52ef3c595dafeaf351b0c557ce0d89">m_graveyardOwner</a> = team;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="comment">// return true when completed successfully</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="comment">// this is required for the proper despawn of the flag; it won&#39;t stop further DB scripts from being executed</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;}</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">// Handle the ZM beacons - this is done by npcs which have certain auras</span></div>
<div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="classOutdoorPvPZM.html#af81ddff732ec9b4e885fc911ddad995a">  398</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classOutdoorPvPZM.html#af81ddff732ec9b4e885fc911ddad995a">OutdoorPvPZM::SetBeaconArtKit</a>(<span class="keyword">const</span> <a class="code" href="classWorldObject.html">WorldObject</a>* objRef, <a class="code" href="classObjectGuid.html">ObjectGuid</a> creatureGuid, <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> auraId)</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;{</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classCreature.html">Creature</a>* beam = objRef-&gt;<a class="code" href="classWorldObject.html#a76c507a1b3adcebf2732572bc6b67fe0">GetMap</a>()-&gt;<a class="code" href="classMap.html#ae312641f498f3df725b4156156b7f012">GetCreature</a>(creatureGuid))</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keywordflow">if</span> (auraId)</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            beam-&gt;CastSpell(beam, auraId, <a class="code" href="SpellDefines_8h.html#a8512d8ac830d80360b33fa46dc884a29ab89fa5cc12475f894d85c381bed7a2f2">TRIGGERED_OLD_TRIGGERED</a>);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            beam-&gt;RemoveAllAuras();</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;}</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">// Check condition for ZM flag NPCs</span></div>
<div class="line"><a name="l00410"></a><span class="lineno"><a class="line" href="classOutdoorPvPZM.html#a0e02f4c544495872a2b0e7fa0911815d">  410</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classOutdoorPvPZM.html#a0e02f4c544495872a2b0e7fa0911815d">OutdoorPvPZM::IsConditionFulfilled</a>(<a class="code" href="classPlayer.html">Player</a> <span class="keyword">const</span>* <span class="comment">/*source*/</span>, <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> conditionId, <a class="code" href="classWorldObject.html">WorldObject</a> <span class="keyword">const</span>* <span class="comment">/*conditionSource*/</span>, <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <span class="comment">/*conditionSourceType*/</span>)</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;{</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">switch</span> (conditionId)</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a99c5dbdaef53e1e9e27b71dadeef2f9e">OPVP_COND_ZM_ALLY_SCOUT_FLAG_READY</a>:</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classOutdoorPvPZM.html#adcca5bdb3c6600f60dc6494bd99b6936">m_flagReady</a>[<a class="code" href="SharedDefines_8h.html#aaef27027c4c75a728cc6832f67fdde73a1b041a7182855cdebe29c9d46caf7e3a">TEAM_INDEX_ALLIANCE</a>] &amp;&amp; !<a class="code" href="classOutdoorPvPZM.html#aa32ddac269481298570ae91953aecc56">m_playerCarryingFlag</a>[<a class="code" href="SharedDefines_8h.html#aaef27027c4c75a728cc6832f67fdde73a1b041a7182855cdebe29c9d46caf7e3a">TEAM_INDEX_ALLIANCE</a>];</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76aae9b661b6a80f8d0abac901f397ad298">OPVP_COND_ZM_HORDE_SCOUT_FLAG_READY</a>:</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classOutdoorPvPZM.html#adcca5bdb3c6600f60dc6494bd99b6936">m_flagReady</a>[<a class="code" href="SharedDefines_8h.html#aaef27027c4c75a728cc6832f67fdde73aa37f1b5a8aa98e2f4a4cebd68094ac3e">TEAM_INDEX_HORDE</a>] &amp;&amp; !<a class="code" href="classOutdoorPvPZM.html#aa32ddac269481298570ae91953aecc56">m_playerCarryingFlag</a>[<a class="code" href="SharedDefines_8h.html#aaef27027c4c75a728cc6832f67fdde73aa37f1b5a8aa98e2f4a4cebd68094ac3e">TEAM_INDEX_HORDE</a>];</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;}</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">// Handle condition state change by checking the aura existance on players</span></div>
<div class="line"><a name="l00424"></a><span class="lineno"><a class="line" href="classOutdoorPvPZM.html#a5e3532690b90769f48cd6f53bffa42f6">  424</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classOutdoorPvPZM.html#a5e3532690b90769f48cd6f53bffa42f6">OutdoorPvPZM::HandleConditionStateChange</a>(<a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> conditionId, <span class="keywordtype">bool</span> state)</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;{</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="comment">// state = false -&gt; flag dropped</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="comment">// state = true -&gt; flag picked up</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">switch</span> (conditionId)</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a99c5dbdaef53e1e9e27b71dadeef2f9e">OPVP_COND_ZM_ALLY_SCOUT_FLAG_READY</a>:</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <a class="code" href="classOutdoorPvPZM.html#aa32ddac269481298570ae91953aecc56">m_playerCarryingFlag</a>[<a class="code" href="SharedDefines_8h.html#aaef27027c4c75a728cc6832f67fdde73a1b041a7182855cdebe29c9d46caf7e3a">TEAM_INDEX_ALLIANCE</a>] = state;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76aae9b661b6a80f8d0abac901f397ad298">OPVP_COND_ZM_HORDE_SCOUT_FLAG_READY</a>:</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <a class="code" href="classOutdoorPvPZM.html#aa32ddac269481298570ae91953aecc56">m_playerCarryingFlag</a>[<a class="code" href="SharedDefines_8h.html#aaef27027c4c75a728cc6832f67fdde73aa37f1b5a8aa98e2f4a4cebd68094ac3e">TEAM_INDEX_HORDE</a>] = state;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;}</div>
<div class="ttc" id="aBattleGround_8h_html_aa8a3272ab1fd7959e6078e4790a9fb73"><div class="ttname"><a href="BattleGround_8h.html#aa8a3272ab1fd7959e6078e4790a9fb73">FillInitialWorldState</a></div><div class="ttdeci">void FillInitialWorldState(ByteBuffer &amp;data, uint32 &amp;count, uint32 state, uint32 value)</div><div class="ttdef"><b>Definition:</b> <a href="BattleGround_8h_source.html#l00771">BattleGround.h:771</a></div></div>
<div class="ttc" id="aCreature_8h_html"><div class="ttname"><a href="Creature_8h.html">Creature.h</a></div></div>
<div class="ttc" id="aDefine_8h_html_a15a8d014fadf85c99a2268d8cbd00767"><div class="ttname"><a href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a></div><div class="ttdeci">std::uint8_t uint8</div><div class="ttdef"><b>Definition:</b> <a href="Define_8h_source.html#l00118">Define.h:118</a></div></div>
<div class="ttc" id="aDefine_8h_html_a22f78cc9780bf32aff91ae17c3101c8d"><div class="ttname"><a href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a></div><div class="ttdeci">std::uint32_t uint32</div><div class="ttdef"><b>Definition:</b> <a href="Define_8h_source.html#l00116">Define.h:116</a></div></div>
<div class="ttc" id="aGameObject_8h_html"><div class="ttname"><a href="GameObject_8h.html">GameObject.h</a></div></div>
<div class="ttc" id="aLanguage_8h_html_a1543d0f7021d0539b145b8297818fa51a6b27edec966ce04fbd5335236f9990bf"><div class="ttname"><a href="Language_8h.html#a1543d0f7021d0539b145b8297818fa51a6b27edec966ce04fbd5335236f9990bf">LANG_OPVP_ZM_SPAWN_FIELD_SCOUT_H</a></div><div class="ttdeci">@ LANG_OPVP_ZM_SPAWN_FIELD_SCOUT_H</div><div class="ttdef"><b>Definition:</b> <a href="Language_8h_source.html#l01121">Language.h:1121</a></div></div>
<div class="ttc" id="aLanguage_8h_html_a1543d0f7021d0539b145b8297818fa51abcbc87b7490c30184f78d7a27952a136"><div class="ttname"><a href="Language_8h.html#a1543d0f7021d0539b145b8297818fa51abcbc87b7490c30184f78d7a27952a136">LANG_OPVP_ZM_SPAWN_FIELD_SCOUT_A</a></div><div class="ttdeci">@ LANG_OPVP_ZM_SPAWN_FIELD_SCOUT_A</div><div class="ttdef"><b>Definition:</b> <a href="Language_8h_source.html#l01122">Language.h:1122</a></div></div>
<div class="ttc" id="aLanguage_8h_html_a1543d0f7021d0539b145b8297818fa51ac31dc30c3ea0149755273397f3014f9d"><div class="ttname"><a href="Language_8h.html#a1543d0f7021d0539b145b8297818fa51ac31dc30c3ea0149755273397f3014f9d">LANG_OPVP_ZM_CAPTURE_BOTH_BEACONS_A</a></div><div class="ttdeci">@ LANG_OPVP_ZM_CAPTURE_BOTH_BEACONS_A</div><div class="ttdef"><b>Definition:</b> <a href="Language_8h_source.html#l01120">Language.h:1120</a></div></div>
<div class="ttc" id="aLanguage_8h_html_a1543d0f7021d0539b145b8297818fa51ae1b289c9cf9fea0a9a71626ea06c6d2e"><div class="ttname"><a href="Language_8h.html#a1543d0f7021d0539b145b8297818fa51ae1b289c9cf9fea0a9a71626ea06c6d2e">LANG_OPVP_ZM_CAPTURE_GRAVEYARD_H</a></div><div class="ttdeci">@ LANG_OPVP_ZM_CAPTURE_GRAVEYARD_H</div><div class="ttdef"><b>Definition:</b> <a href="Language_8h_source.html#l01123">Language.h:1123</a></div></div>
<div class="ttc" id="aLanguage_8h_html_a1543d0f7021d0539b145b8297818fa51afb2770db954b0a0e5491c5465e9592a9"><div class="ttname"><a href="Language_8h.html#a1543d0f7021d0539b145b8297818fa51afb2770db954b0a0e5491c5465e9592a9">LANG_OPVP_ZM_CAPTURE_BOTH_BEACONS_H</a></div><div class="ttdeci">@ LANG_OPVP_ZM_CAPTURE_BOTH_BEACONS_H</div><div class="ttdef"><b>Definition:</b> <a href="Language_8h_source.html#l01119">Language.h:1119</a></div></div>
<div class="ttc" id="aLanguage_8h_html_a1543d0f7021d0539b145b8297818fa51afe67ad7b28dc0a9619d351453590745d"><div class="ttname"><a href="Language_8h.html#a1543d0f7021d0539b145b8297818fa51afe67ad7b28dc0a9619d351453590745d">LANG_OPVP_ZM_CAPTURE_GRAVEYARD_A</a></div><div class="ttdeci">@ LANG_OPVP_ZM_CAPTURE_GRAVEYARD_A</div><div class="ttdef"><b>Definition:</b> <a href="Language_8h_source.html#l01124">Language.h:1124</a></div></div>
<div class="ttc" id="aObjectMgr_8h_html"><div class="ttname"><a href="ObjectMgr_8h.html">ObjectMgr.h</a></div></div>
<div class="ttc" id="aObject_8h_html"><div class="ttname"><a href="Object_8h.html">Object.h</a></div></div>
<div class="ttc" id="aOutdoorPvPMgr_8h_html_a8490f08a1cb6baaca1faa1e9559aa7b3a0e9468752e5d37ca06bb8e2bd0ccd581"><div class="ttname"><a href="OutdoorPvPMgr_8h.html#a8490f08a1cb6baaca1faa1e9559aa7b3a0e9468752e5d37ca06bb8e2bd0ccd581">ZONE_ID_SERPENTSHRINE_CAVERN</a></div><div class="ttdeci">@ ZONE_ID_SERPENTSHRINE_CAVERN</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPMgr_8h_source.html#l00068">OutdoorPvPMgr.h:68</a></div></div>
<div class="ttc" id="aOutdoorPvPMgr_8h_html_a8490f08a1cb6baaca1faa1e9559aa7b3a27002ae74384f88cd624dadd59dffff3"><div class="ttname"><a href="OutdoorPvPMgr_8h.html#a8490f08a1cb6baaca1faa1e9559aa7b3a27002ae74384f88cd624dadd59dffff3">ZONE_ID_ZANGARMARSH</a></div><div class="ttdeci">@ ZONE_ID_ZANGARMARSH</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPMgr_8h_source.html#l00067">OutdoorPvPMgr.h:67</a></div></div>
<div class="ttc" id="aOutdoorPvPMgr_8h_html_a8490f08a1cb6baaca1faa1e9559aa7b3a4027741dc7a9c1044691fba3d68e6e87"><div class="ttname"><a href="OutdoorPvPMgr_8h.html#a8490f08a1cb6baaca1faa1e9559aa7b3a4027741dc7a9c1044691fba3d68e6e87">ZONE_ID_UNDERBOG</a></div><div class="ttdeci">@ ZONE_ID_UNDERBOG</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPMgr_8h_source.html#l00070">OutdoorPvPMgr.h:70</a></div></div>
<div class="ttc" id="aOutdoorPvPMgr_8h_html_a8490f08a1cb6baaca1faa1e9559aa7b3a4743ed034ae03a75f29b1502d82832fc"><div class="ttname"><a href="OutdoorPvPMgr_8h.html#a8490f08a1cb6baaca1faa1e9559aa7b3a4743ed034ae03a75f29b1502d82832fc">ZONE_ID_STEAMVAULT</a></div><div class="ttdeci">@ ZONE_ID_STEAMVAULT</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPMgr_8h_source.html#l00069">OutdoorPvPMgr.h:69</a></div></div>
<div class="ttc" id="aOutdoorPvPMgr_8h_html_a8490f08a1cb6baaca1faa1e9559aa7b3a5178ed738d0c04946a1a8dcfba9845b5"><div class="ttname"><a href="OutdoorPvPMgr_8h.html#a8490f08a1cb6baaca1faa1e9559aa7b3a5178ed738d0c04946a1a8dcfba9845b5">ZONE_ID_SLAVE_PENS</a></div><div class="ttdeci">@ ZONE_ID_SLAVE_PENS</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPMgr_8h_source.html#l00071">OutdoorPvPMgr.h:71</a></div></div>
<div class="ttc" id="aOutdoorPvPZM_8h_html"><div class="ttname"><a href="OutdoorPvPZM_8h.html">OutdoorPvPZM.h</a></div></div>
<div class="ttc" id="aOutdoorPvPZM_8h_html_a3079f8999dacb018b6653f9e020dfe76a1db2dd581b1e2eaf109ad0a3baa5e712"><div class="ttname"><a href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a1db2dd581b1e2eaf109ad0a3baa5e712">GO_ZANGA_BANNER_EAST</a></div><div class="ttdeci">@ GO_ZANGA_BANNER_EAST</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00041">OutdoorPvPZM.h:41</a></div></div>
<div class="ttc" id="aOutdoorPvPZM_8h_html_a3079f8999dacb018b6653f9e020dfe76a51fa16eff48f19cb18b9c8637fb8b4d8"><div class="ttname"><a href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a51fa16eff48f19cb18b9c8637fb8b4d8">MAX_ZM_TOWERS</a></div><div class="ttdeci">@ MAX_ZM_TOWERS</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00029">OutdoorPvPZM.h:29</a></div></div>
<div class="ttc" id="aOutdoorPvPZM_8h_html_a3079f8999dacb018b6653f9e020dfe76a5aa6ffb2aa5bfe7bd354b84995c936ba"><div class="ttname"><a href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a5aa6ffb2aa5bfe7bd354b84995c936ba">GO_ZANGA_BANNER_CENTER_HORDE</a></div><div class="ttdeci">@ GO_ZANGA_BANNER_CENTER_HORDE</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00043">OutdoorPvPZM.h:43</a></div></div>
<div class="ttc" id="aOutdoorPvPZM_8h_html_a3079f8999dacb018b6653f9e020dfe76a5c4d653b4870097135dd9c67e3abfe1f"><div class="ttname"><a href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a5c4d653b4870097135dd9c67e3abfe1f">SPELL_ZANGA_TOWER_TOKEN_ALLIANCE</a></div><div class="ttdeci">@ SPELL_ZANGA_TOWER_TOKEN_ALLIANCE</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00051">OutdoorPvPZM.h:51</a></div></div>
<div class="ttc" id="aOutdoorPvPZM_8h_html_a3079f8999dacb018b6653f9e020dfe76a7156317e039d1d76bed69f19aa1dc408"><div class="ttname"><a href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a7156317e039d1d76bed69f19aa1dc408">GO_ZANGA_BANNER_CENTER_ALLIANCE</a></div><div class="ttdeci">@ GO_ZANGA_BANNER_CENTER_ALLIANCE</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00042">OutdoorPvPZM.h:42</a></div></div>
<div class="ttc" id="aOutdoorPvPZM_8h_html_a3079f8999dacb018b6653f9e020dfe76a83b1569453001bea78adba2c40ecbc9b"><div class="ttname"><a href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a83b1569453001bea78adba2c40ecbc9b">NPC_PVP_BEAM_BLUE</a></div><div class="ttdeci">@ NPC_PVP_BEAM_BLUE</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00037">OutdoorPvPZM.h:37</a></div></div>
<div class="ttc" id="aOutdoorPvPZM_8h_html_a3079f8999dacb018b6653f9e020dfe76a8667eddcf05b225ba7445fb3cad41928"><div class="ttname"><a href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a8667eddcf05b225ba7445fb3cad41928">SPELL_TWIN_SPIRE_BLESSING</a></div><div class="ttdeci">@ SPELL_TWIN_SPIRE_BLESSING</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00047">OutdoorPvPZM.h:47</a></div></div>
<div class="ttc" id="aOutdoorPvPZM_8h_html_a3079f8999dacb018b6653f9e020dfe76a8e429c7f604ee3e315decfff505d34e7"><div class="ttname"><a href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a8e429c7f604ee3e315decfff505d34e7">NPC_PVP_BEAM_RED</a></div><div class="ttdeci">@ NPC_PVP_BEAM_RED</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00036">OutdoorPvPZM.h:36</a></div></div>
<div class="ttc" id="aOutdoorPvPZM_8h_html_a3079f8999dacb018b6653f9e020dfe76a99c5dbdaef53e1e9e27b71dadeef2f9e"><div class="ttname"><a href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76a99c5dbdaef53e1e9e27b71dadeef2f9e">OPVP_COND_ZM_ALLY_SCOUT_FLAG_READY</a></div><div class="ttdeci">@ OPVP_COND_ZM_ALLY_SCOUT_FLAG_READY</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00078">OutdoorPvPZM.h:78</a></div></div>
<div class="ttc" id="aOutdoorPvPZM_8h_html_a3079f8999dacb018b6653f9e020dfe76aa0c104abe8f6acb4ce5d7d5adb6424f2"><div class="ttname"><a href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76aa0c104abe8f6acb4ce5d7d5adb6424f2">GRAVEYARD_ID_TWIN_SPIRE</a></div><div class="ttdeci">@ GRAVEYARD_ID_TWIN_SPIRE</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00058">OutdoorPvPZM.h:58</a></div></div>
<div class="ttc" id="aOutdoorPvPZM_8h_html_a3079f8999dacb018b6653f9e020dfe76aacd14b847d075a48cd35d07465fe082b"><div class="ttname"><a href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76aacd14b847d075a48cd35d07465fe082b">GO_ZANGA_BANNER_WEST</a></div><div class="ttdeci">@ GO_ZANGA_BANNER_WEST</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00040">OutdoorPvPZM.h:40</a></div></div>
<div class="ttc" id="aOutdoorPvPZM_8h_html_a3079f8999dacb018b6653f9e020dfe76aae9b661b6a80f8d0abac901f397ad298"><div class="ttname"><a href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76aae9b661b6a80f8d0abac901f397ad298">OPVP_COND_ZM_HORDE_SCOUT_FLAG_READY</a></div><div class="ttdeci">@ OPVP_COND_ZM_HORDE_SCOUT_FLAG_READY</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00079">OutdoorPvPZM.h:79</a></div></div>
<div class="ttc" id="aOutdoorPvPZM_8h_html_a3079f8999dacb018b6653f9e020dfe76aca50e572de2cef83f3fdc7523ae9efbf"><div class="ttname"><a href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76aca50e572de2cef83f3fdc7523ae9efbf">SPELL_BATTLE_STANDARD_ALLIANCE</a></div><div class="ttdeci">@ SPELL_BATTLE_STANDARD_ALLIANCE</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00048">OutdoorPvPZM.h:48</a></div></div>
<div class="ttc" id="aOutdoorPvPZM_8h_html_a3079f8999dacb018b6653f9e020dfe76adb91f0aa6bbd0de2f64fda510af57e6e"><div class="ttname"><a href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76adb91f0aa6bbd0de2f64fda510af57e6e">GO_ZANGA_BANNER_CENTER_NEUTRAL</a></div><div class="ttdeci">@ GO_ZANGA_BANNER_CENTER_NEUTRAL</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00044">OutdoorPvPZM.h:44</a></div></div>
<div class="ttc" id="aOutdoorPvPZM_8h_html_a3079f8999dacb018b6653f9e020dfe76ae3637963d16ad14b305f758133d23408"><div class="ttname"><a href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76ae3637963d16ad14b305f758133d23408">GRAVEYARD_ZONE_TWIN_SPIRE</a></div><div class="ttdeci">@ GRAVEYARD_ZONE_TWIN_SPIRE</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00059">OutdoorPvPZM.h:59</a></div></div>
<div class="ttc" id="aOutdoorPvPZM_8h_html_a3079f8999dacb018b6653f9e020dfe76ae49fca8aef45665f51ed399b469cc4db"><div class="ttname"><a href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76ae49fca8aef45665f51ed399b469cc4db">SPELL_BATTLE_STANDARD_HORDE</a></div><div class="ttdeci">@ SPELL_BATTLE_STANDARD_HORDE</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00049">OutdoorPvPZM.h:49</a></div></div>
<div class="ttc" id="aOutdoorPvPZM_8h_html_a3079f8999dacb018b6653f9e020dfe76af2a450462033ac554d6afa7570294cc6"><div class="ttname"><a href="OutdoorPvPZM_8h.html#a3079f8999dacb018b6653f9e020dfe76af2a450462033ac554d6afa7570294cc6">SPELL_ZANGA_TOWER_TOKEN_HORDE</a></div><div class="ttdeci">@ SPELL_ZANGA_TOWER_TOKEN_HORDE</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00052">OutdoorPvPZM.h:52</a></div></div>
<div class="ttc" id="aOutdoorPvPZM_8h_html_a786bfa80dbf4a0f5aeb1a3ad97a96c29"><div class="ttname"><a href="OutdoorPvPZM_8h.html#a786bfa80dbf4a0f5aeb1a3ad97a96c29">zangarmarshTowers</a></div><div class="ttdeci">static const uint32 zangarmarshTowers[MAX_ZM_TOWERS]</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00107">OutdoorPvPZM.h:107</a></div></div>
<div class="ttc" id="aOutdoorPvPZM_8h_html_ad18314a289c88e8a84e99408eb6844cc"><div class="ttname"><a href="OutdoorPvPZM_8h.html#ad18314a289c88e8a84e99408eb6844cc">zangarmarshTowerEvents</a></div><div class="ttdeci">static const ZangarmarshTowerEvent zangarmarshTowerEvents[MAX_ZM_TOWERS][4]</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00091">OutdoorPvPZM.h:91</a></div></div>
<div class="ttc" id="aPlayer_8h_html"><div class="ttname"><a href="Player_8h.html">Player.h</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a4c4967436a7df01cd2084d30a527a030"><div class="ttname"><a href="SharedDefines_8h.html#a4c4967436a7df01cd2084d30a527a030">PVP_TEAM_COUNT</a></div><div class="ttdeci">#define PVP_TEAM_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l00361">SharedDefines.h:361</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a9c13bb5b1d69698f9b47900990eaa598"><div class="ttname"><a href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598">Team</a></div><div class="ttdeci">Team</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l00338">SharedDefines.h:339</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a9c13bb5b1d69698f9b47900990eaa598a0d7642ca24c34cbad90be16527e56513"><div class="ttname"><a href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598a0d7642ca24c34cbad90be16527e56513">TEAM_INVALID</a></div><div class="ttdeci">@ TEAM_INVALID</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l00342">SharedDefines.h:342</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a9c13bb5b1d69698f9b47900990eaa598a360acb47017e8e0d3522e08575f3d1b2"><div class="ttname"><a href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598a360acb47017e8e0d3522e08575f3d1b2">ALLIANCE</a></div><div class="ttdeci">@ ALLIANCE</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l00344">SharedDefines.h:344</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a9c13bb5b1d69698f9b47900990eaa598a66bbf321f9fe6b3387090eb97e230c68"><div class="ttname"><a href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598a66bbf321f9fe6b3387090eb97e230c68">TEAM_NONE</a></div><div class="ttdeci">@ TEAM_NONE</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l00340">SharedDefines.h:340</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a9c13bb5b1d69698f9b47900990eaa598ae00f67931133b08b7de375111e800b42"><div class="ttname"><a href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598ae00f67931133b08b7de375111e800b42">HORDE</a></div><div class="ttdeci">@ HORDE</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l00343">SharedDefines.h:343</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_aaef27027c4c75a728cc6832f67fdde73a1b041a7182855cdebe29c9d46caf7e3a"><div class="ttname"><a href="SharedDefines_8h.html#aaef27027c4c75a728cc6832f67fdde73a1b041a7182855cdebe29c9d46caf7e3a">TEAM_INDEX_ALLIANCE</a></div><div class="ttdeci">@ TEAM_INDEX_ALLIANCE</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l00356">SharedDefines.h:356</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_aaef27027c4c75a728cc6832f67fdde73aa37f1b5a8aa98e2f4a4cebd68094ac3e"><div class="ttname"><a href="SharedDefines_8h.html#aaef27027c4c75a728cc6832f67fdde73aa37f1b5a8aa98e2f4a4cebd68094ac3e">TEAM_INDEX_HORDE</a></div><div class="ttdeci">@ TEAM_INDEX_HORDE</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l00357">SharedDefines.h:357</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_ad51700cbf56343b3933b97ab94bfc6aea0be58868d744d3848216104cecbc746d"><div class="ttname"><a href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea0be58868d744d3848216104cecbc746d">WORLD_STATE_REMOVE</a></div><div class="ttdeci">@ WORLD_STATE_REMOVE</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l02197">SharedDefines.h:2197</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_ad51700cbf56343b3933b97ab94bfc6aea157b1e1da861f9cbb48bde5d13574ee1"><div class="ttname"><a href="SharedDefines_8h.html#ad51700cbf56343b3933b97ab94bfc6aea157b1e1da861f9cbb48bde5d13574ee1">WORLD_STATE_ADD</a></div><div class="ttdeci">@ WORLD_STATE_ADD</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l02199">SharedDefines.h:2198</a></div></div>
<div class="ttc" id="aSpellDefines_8h_html_a8512d8ac830d80360b33fa46dc884a29ab89fa5cc12475f894d85c381bed7a2f2"><div class="ttname"><a href="SpellDefines_8h.html#a8512d8ac830d80360b33fa46dc884a29ab89fa5cc12475f894d85c381bed7a2f2">TRIGGERED_OLD_TRIGGERED</a></div><div class="ttdeci">@ TRIGGERED_OLD_TRIGGERED</div><div class="ttdef"><b>Definition:</b> <a href="SpellDefines_8h_source.html#l00725">SpellDefines.h:725</a></div></div>
<div class="ttc" id="aWorldPacket_8h_html"><div class="ttname"><a href="WorldPacket_8h.html">WorldPacket.h</a></div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_a959b435acc811d82cb1889593d19f7afa2c14b12c3a9d84713bc48f8aeecae3cd"><div class="ttname"><a href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afa2c14b12c3a9d84713bc48f8aeecae3cd">WORLD_STATE_ZM_BEACON_WEST_UI_NEUTRAL</a></div><div class="ttdeci">@ WORLD_STATE_ZM_BEACON_WEST_UI_NEUTRAL</div><div class="ttdef"><b>Definition:</b> <a href="WorldStateDefines_8h_source.html#l00254">WorldStateDefines.h:254</a></div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_a959b435acc811d82cb1889593d19f7afa2ef68d85fc560ce52167dcee8be9bf23"><div class="ttname"><a href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afa2ef68d85fc560ce52167dcee8be9bf23">WORLD_STATE_ZM_GRAVEYARD_NEUTRAL</a></div><div class="ttdeci">@ WORLD_STATE_ZM_GRAVEYARD_NEUTRAL</div><div class="ttdef"><b>Definition:</b> <a href="WorldStateDefines_8h_source.html#l00266">WorldStateDefines.h:266</a></div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_a959b435acc811d82cb1889593d19f7afa320253d4c167b06034b3b5600d435dd3"><div class="ttname"><a href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afa320253d4c167b06034b3b5600d435dd3">WORLD_STATE_ZM_FLAG_READY_HORDE</a></div><div class="ttdeci">@ WORLD_STATE_ZM_FLAG_READY_HORDE</div><div class="ttdef"><b>Definition:</b> <a href="WorldStateDefines_8h_source.html#l00268">WorldStateDefines.h:268</a></div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_a959b435acc811d82cb1889593d19f7afa42df7782fa0120a8734288c33d6706ef"><div class="ttname"><a href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afa42df7782fa0120a8734288c33d6706ef">WORLD_STATE_ZM_FLAG_READY_ALLIANCE</a></div><div class="ttdeci">@ WORLD_STATE_ZM_FLAG_READY_ALLIANCE</div><div class="ttdef"><b>Definition:</b> <a href="WorldStateDefines_8h_source.html#l00270">WorldStateDefines.h:270</a></div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_a959b435acc811d82cb1889593d19f7afa4f3154af4bfda7523489c1e80a5096ac"><div class="ttname"><a href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afa4f3154af4bfda7523489c1e80a5096ac">WORLD_STATE_ZM_FLAG_NOT_READY_ALLIANCE</a></div><div class="ttdeci">@ WORLD_STATE_ZM_FLAG_NOT_READY_ALLIANCE</div><div class="ttdef"><b>Definition:</b> <a href="WorldStateDefines_8h_source.html#l00271">WorldStateDefines.h:271</a></div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_a959b435acc811d82cb1889593d19f7afa4fe4500c4c5103c5ed335dd0e0d82e05"><div class="ttname"><a href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afa4fe4500c4c5103c5ed335dd0e0d82e05">WORLD_STATE_ZM_GRAVEYARD_HORDE</a></div><div class="ttdeci">@ WORLD_STATE_ZM_GRAVEYARD_HORDE</div><div class="ttdef"><b>Definition:</b> <a href="WorldStateDefines_8h_source.html#l00265">WorldStateDefines.h:265</a></div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_a959b435acc811d82cb1889593d19f7afa5b3fb2b2bf3b867cc7622b3de14ba32f"><div class="ttname"><a href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afa5b3fb2b2bf3b867cc7622b3de14ba32f">WORLD_STATE_ZM_GRAVEYARD_ALLIANCE</a></div><div class="ttdeci">@ WORLD_STATE_ZM_GRAVEYARD_ALLIANCE</div><div class="ttdef"><b>Definition:</b> <a href="WorldStateDefines_8h_source.html#l00264">WorldStateDefines.h:264</a></div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_a959b435acc811d82cb1889593d19f7afa7c2426b451844451c24e0516ee3b8a4f"><div class="ttname"><a href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afa7c2426b451844451c24e0516ee3b8a4f">WORLD_STATE_ZM_BEACON_WEST_NEUTRAL</a></div><div class="ttdeci">@ WORLD_STATE_ZM_BEACON_WEST_NEUTRAL</div><div class="ttdef"><b>Definition:</b> <a href="WorldStateDefines_8h_source.html#l00262">WorldStateDefines.h:262</a></div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_a959b435acc811d82cb1889593d19f7afab4b31ad81a8dd0d8e078c869d0c0e6de"><div class="ttname"><a href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afab4b31ad81a8dd0d8e078c869d0c0e6de">WORLD_STATE_ZM_BEACON_EAST_NEUTRAL</a></div><div class="ttdeci">@ WORLD_STATE_ZM_BEACON_EAST_NEUTRAL</div><div class="ttdef"><b>Definition:</b> <a href="WorldStateDefines_8h_source.html#l00258">WorldStateDefines.h:258</a></div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_a959b435acc811d82cb1889593d19f7afac55307549ff7add419ecb0f05e4c5a19"><div class="ttname"><a href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afac55307549ff7add419ecb0f05e4c5a19">WORLD_STATE_ZM_BEACON_EAST_UI_NEUTRAL</a></div><div class="ttdeci">@ WORLD_STATE_ZM_BEACON_EAST_UI_NEUTRAL</div><div class="ttdef"><b>Definition:</b> <a href="WorldStateDefines_8h_source.html#l00250">WorldStateDefines.h:250</a></div></div>
<div class="ttc" id="aWorldStateDefines_8h_html_a959b435acc811d82cb1889593d19f7afaeb8badc00bfdf729000a519a4d1117a4"><div class="ttname"><a href="WorldStateDefines_8h.html#a959b435acc811d82cb1889593d19f7afaeb8badc00bfdf729000a519a4d1117a4">WORLD_STATE_ZM_FLAG_NOT_READY_HORDE</a></div><div class="ttdeci">@ WORLD_STATE_ZM_FLAG_NOT_READY_HORDE</div><div class="ttdef"><b>Definition:</b> <a href="WorldStateDefines_8h_source.html#l00269">WorldStateDefines.h:269</a></div></div>
<div class="ttc" id="aWorld_8h_html"><div class="ttname"><a href="World_8h.html">World.h</a></div></div>
<div class="ttc" id="aboss__netherspite_8cpp_html_abc1a2abf1bf92c4036064143db1c8210a0072d62eb4483ba7042e74e81e3f7850"><div class="ttname"><a href="boss__netherspite_8cpp.html#abc1a2abf1bf92c4036064143db1c8210a0072d62eb4483ba7042e74e81e3f7850">SPELL_BEAM_RED</a></div><div class="ttdeci">@ SPELL_BEAM_RED</div><div class="ttdef"><b>Definition:</b> <a href="boss__netherspite_8cpp_source.html#l00070">boss_netherspite.cpp:70</a></div></div>
<div class="ttc" id="aboss__netherspite_8cpp_html_abc1a2abf1bf92c4036064143db1c8210a498ef4d60d4df1a4b1d527cc826d51fa"><div class="ttname"><a href="boss__netherspite_8cpp.html#abc1a2abf1bf92c4036064143db1c8210a498ef4d60d4df1a4b1d527cc826d51fa">SPELL_BEAM_BLUE</a></div><div class="ttdeci">@ SPELL_BEAM_BLUE</div><div class="ttdef"><b>Definition:</b> <a href="boss__netherspite_8cpp_source.html#l00069">boss_netherspite.cpp:69</a></div></div>
<div class="ttc" id="aclassCreature_html"><div class="ttname"><a href="classCreature.html">Creature</a></div><div class="ttdef"><b>Definition:</b> <a href="Creature_8h_source.html#l00544">Creature.h:545</a></div></div>
<div class="ttc" id="aclassGameObject_html"><div class="ttname"><a href="classGameObject.html">GameObject</a></div><div class="ttdef"><b>Definition:</b> <a href="GameObject_8h_source.html#l00740">GameObject.h:741</a></div></div>
<div class="ttc" id="aclassMap_html_a0ec55b30f6494c6fe1e19b51c2e17ebb"><div class="ttname"><a href="classMap.html#a0ec55b30f6494c6fe1e19b51c2e17ebb">Map::GetGameObject</a></div><div class="ttdeci">GameObject * GetGameObject(ObjectGuid guid)</div><div class="ttdoc">Function return gameobject that in world at CURRENT map.</div><div class="ttdef"><b>Definition:</b> <a href="Map_8cpp_source.html#l02270">Map.cpp:2270</a></div></div>
<div class="ttc" id="aclassMap_html_ae312641f498f3df725b4156156b7f012"><div class="ttname"><a href="classMap.html#ae312641f498f3df725b4156156b7f012">Map::GetCreature</a></div><div class="ttdeci">Creature * GetCreature(ObjectGuid guid)</div><div class="ttdoc">Function return creature (non-pet and then most summoned by spell creatures) that in world at CURRENT...</div><div class="ttdef"><b>Definition:</b> <a href="Map_8cpp_source.html#l02219">Map.cpp:2219</a></div></div>
<div class="ttc" id="aclassObjectGuid_html"><div class="ttname"><a href="classObjectGuid.html">ObjectGuid</a></div><div class="ttdef"><b>Definition:</b> <a href="ObjectGuid_8h_source.html#l00087">ObjectGuid.h:88</a></div></div>
<div class="ttc" id="aclassObject_html"><div class="ttname"><a href="classObject.html">Object</a></div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00386">Object.h:387</a></div></div>
<div class="ttc" id="aclassObject_html_a85475682d62e51bfaf2133b51d41a619"><div class="ttname"><a href="classObject.html#a85475682d62e51bfaf2133b51d41a619">Object::IsGameObject</a></div><div class="ttdeci">bool IsGameObject() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00640">Object.h:640</a></div></div>
<div class="ttc" id="aclassObject_html_aa627fe2967ed0e0ed1d8aeeb4365a961"><div class="ttname"><a href="classObject.html#aa627fe2967ed0e0ed1d8aeeb4365a961">Object::GetEntry</a></div><div class="ttdeci">uint32 GetEntry() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00416">Object.h:416</a></div></div>
<div class="ttc" id="aclassObject_html_ae7e0c11556aeda48ab347a56b6b7bd6a"><div class="ttname"><a href="classObject.html#ae7e0c11556aeda48ab347a56b6b7bd6a">Object::GetObjectGuid</a></div><div class="ttdeci">ObjectGuid const  &amp; GetObjectGuid() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00409">Object.h:409</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a021dca76cce4714793e6eb1b34fa4bae"><div class="ttname"><a href="classOutdoorPvPZM.html#a021dca76cce4714793e6eb1b34fa4bae">OutdoorPvPZM::m_graveyardBannerAlliance</a></div><div class="ttdeci">ObjectGuid m_graveyardBannerAlliance</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00156">OutdoorPvPZM.h:156</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a0b0ff9836b32eae4a07898e6f29a6481"><div class="ttname"><a href="classOutdoorPvPZM.html#a0b0ff9836b32eae4a07898e6f29a6481">OutdoorPvPZM::m_beamTowerBlue</a></div><div class="ttdeci">ObjectGuid m_beamTowerBlue[MAX_ZM_TOWERS]</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00160">OutdoorPvPZM.h:160</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a0e02f4c544495872a2b0e7fa0911815d"><div class="ttname"><a href="classOutdoorPvPZM.html#a0e02f4c544495872a2b0e7fa0911815d">OutdoorPvPZM::IsConditionFulfilled</a></div><div class="ttdeci">bool IsConditionFulfilled(Player const *source, uint32 conditionId, WorldObject const *conditionSource, uint32 conditionSourceType) override</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8cpp_source.html#l00410">OutdoorPvPZM.cpp:410</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a0e56f1262e9b1d0eb39b94424ed9633d"><div class="ttname"><a href="classOutdoorPvPZM.html#a0e56f1262e9b1d0eb39b94424ed9633d">OutdoorPvPZM::m_beamTowerRed</a></div><div class="ttdeci">ObjectGuid m_beamTowerRed[MAX_ZM_TOWERS]</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00161">OutdoorPvPZM.h:161</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a130edc682b163a1e4f787d93beb4655c"><div class="ttname"><a href="classOutdoorPvPZM.html#a130edc682b163a1e4f787d93beb4655c">OutdoorPvPZM::m_towerBanners</a></div><div class="ttdeci">ObjectGuid m_towerBanners[MAX_ZM_TOWERS]</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00155">OutdoorPvPZM.h:155</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a1944cc3ceb7b5c6f548ec96895b79f4f"><div class="ttname"><a href="classOutdoorPvPZM.html#a1944cc3ceb7b5c6f548ec96895b79f4f">OutdoorPvPZM::m_towersAlliance</a></div><div class="ttdeci">uint8 m_towersAlliance</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00149">OutdoorPvPZM.h:149</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a1ba14c556bdc231a2627f49520e199d4"><div class="ttname"><a href="classOutdoorPvPZM.html#a1ba14c556bdc231a2627f49520e199d4">OutdoorPvPZM::ProcessCaptureEvent</a></div><div class="ttdeci">bool ProcessCaptureEvent(GameObject *go, uint32 towerId, Team team, uint32 newWorldState, uint32 newMapState)</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8cpp_source.html#l00201">OutdoorPvPZM.cpp:201</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a2aa5721d5c5ef0569ac9ba647f6dfe9a"><div class="ttname"><a href="classOutdoorPvPZM.html#a2aa5721d5c5ef0569ac9ba647f6dfe9a">OutdoorPvPZM::m_scoutWorldStateAlliance</a></div><div class="ttdeci">uint32 m_scoutWorldStateAlliance</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00147">OutdoorPvPZM.h:147</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a3031648dcc0b872af179e05e979c94fb"><div class="ttname"><a href="classOutdoorPvPZM.html#a3031648dcc0b872af179e05e979c94fb">OutdoorPvPZM::HandleCreatureCreate</a></div><div class="ttdeci">void HandleCreatureCreate(Creature *creature) override</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8cpp_source.html#l00101">OutdoorPvPZM.cpp:101</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a33774f8eb7112a68f38faaa470141f1f"><div class="ttname"><a href="classOutdoorPvPZM.html#a33774f8eb7112a68f38faaa470141f1f">OutdoorPvPZM::HandlePlayerLeaveZone</a></div><div class="ttdeci">void HandlePlayerLeaveZone(Player *player, bool isMainZone) override</div><div class="ttdoc">Function that removes a player from the players of the affected outdoor pvp zones.</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8cpp_source.html#l00093">OutdoorPvPZM.cpp:93</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a3ef891c8062a1ffd393390395ebeeaee"><div class="ttname"><a href="classOutdoorPvPZM.html#a3ef891c8062a1ffd393390395ebeeaee">OutdoorPvPZM::m_towersHorde</a></div><div class="ttdeci">uint8 m_towersHorde</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00150">OutdoorPvPZM.h:150</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a3f777373eb5eb4f6af19d1e52bbc5e08"><div class="ttname"><a href="classOutdoorPvPZM.html#a3f777373eb5eb4f6af19d1e52bbc5e08">OutdoorPvPZM::m_beamGraveyardBlue</a></div><div class="ttdeci">ObjectGuid m_beamGraveyardBlue</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00162">OutdoorPvPZM.h:162</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a42f4ba85c305dce7d4c8f9304da83020"><div class="ttname"><a href="classOutdoorPvPZM.html#a42f4ba85c305dce7d4c8f9304da83020">OutdoorPvPZM::m_scoutWorldStateHorde</a></div><div class="ttdeci">uint32 m_scoutWorldStateHorde</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00148">OutdoorPvPZM.h:148</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a493769cdd2c1cd087db328dfc2545aa6"><div class="ttname"><a href="classOutdoorPvPZM.html#a493769cdd2c1cd087db328dfc2545aa6">OutdoorPvPZM::m_beamGraveyardRed</a></div><div class="ttdeci">ObjectGuid m_beamGraveyardRed</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00163">OutdoorPvPZM.h:163</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a4aed2519e238ed8493f860cf45d422c5"><div class="ttname"><a href="classOutdoorPvPZM.html#a4aed2519e238ed8493f860cf45d422c5">OutdoorPvPZM::UpdateScoutState</a></div><div class="ttdeci">void UpdateScoutState(Team team, bool spawned)</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8cpp_source.html#l00278">OutdoorPvPZM.cpp:278</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a5e3532690b90769f48cd6f53bffa42f6"><div class="ttname"><a href="classOutdoorPvPZM.html#a5e3532690b90769f48cd6f53bffa42f6">OutdoorPvPZM::HandleConditionStateChange</a></div><div class="ttdeci">void HandleConditionStateChange(uint32 conditionId, bool state) override</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8cpp_source.html#l00424">OutdoorPvPZM.cpp:424</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a607d179459315d7ca246a7bff7aa8c19"><div class="ttname"><a href="classOutdoorPvPZM.html#a607d179459315d7ca246a7bff7aa8c19">OutdoorPvPZM::FillInitialWorldStates</a></div><div class="ttdeci">void FillInitialWorldStates(WorldPacket &amp;data, uint32 &amp;count) override</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8cpp_source.html#l00055">OutdoorPvPZM.cpp:55</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a62f5f448fc56492003898dc5332d1452"><div class="ttname"><a href="classOutdoorPvPZM.html#a62f5f448fc56492003898dc5332d1452">OutdoorPvPZM::HandlePlayerKillInsideArea</a></div><div class="ttdeci">void HandlePlayerKillInsideArea(Player *player, Unit *) override</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8cpp_source.html#l00149">OutdoorPvPZM.cpp:149</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a685086485c9d8f9fd51fbcb3aae93a34"><div class="ttname"><a href="classOutdoorPvPZM.html#a685086485c9d8f9fd51fbcb3aae93a34">OutdoorPvPZM::m_towerMapState</a></div><div class="ttdeci">uint32 m_towerMapState[MAX_ZM_TOWERS]</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00141">OutdoorPvPZM.h:141</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a6c523916b4fb126debdc27a4eba4c452"><div class="ttname"><a href="classOutdoorPvPZM.html#a6c523916b4fb126debdc27a4eba4c452">OutdoorPvPZM::m_graveyardBannerHorde</a></div><div class="ttdeci">ObjectGuid m_graveyardBannerHorde</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00157">OutdoorPvPZM.h:157</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a6dad807e068375fa1ba4a19e34ba3230"><div class="ttname"><a href="classOutdoorPvPZM.html#a6dad807e068375fa1ba4a19e34ba3230">OutdoorPvPZM::m_graveyardBannerNeutral</a></div><div class="ttdeci">ObjectGuid m_graveyardBannerNeutral</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00158">OutdoorPvPZM.h:158</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a6f8fb93b098f3f05c74c65e6106b24b4"><div class="ttname"><a href="classOutdoorPvPZM.html#a6f8fb93b098f3f05c74c65e6106b24b4">OutdoorPvPZM::HandleGameObjectCreate</a></div><div class="ttdeci">void HandleGameObjectCreate(GameObject *go) override</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8cpp_source.html#l00124">OutdoorPvPZM.cpp:124</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a8351867658985b66dd97f39e68c16b94"><div class="ttname"><a href="classOutdoorPvPZM.html#a8351867658985b66dd97f39e68c16b94">OutdoorPvPZM::OutdoorPvPZM</a></div><div class="ttdeci">OutdoorPvPZM()</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8cpp_source.html#l00028">OutdoorPvPZM.cpp:28</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a88efaaf0801282a6f4cb3be17d37c45f"><div class="ttname"><a href="classOutdoorPvPZM.html#a88efaaf0801282a6f4cb3be17d37c45f">OutdoorPvPZM::HandlePlayerEnterZone</a></div><div class="ttdeci">void HandlePlayerEnterZone(Player *player, bool isMainZone) override</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8cpp_source.html#l00081">OutdoorPvPZM.cpp:81</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_a8a52ef3c595dafeaf351b0c557ce0d89"><div class="ttname"><a href="classOutdoorPvPZM.html#a8a52ef3c595dafeaf351b0c557ce0d89">OutdoorPvPZM::m_graveyardOwner</a></div><div class="ttdeci">Team m_graveyardOwner</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00144">OutdoorPvPZM.h:144</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_aa32ddac269481298570ae91953aecc56"><div class="ttname"><a href="classOutdoorPvPZM.html#aa32ddac269481298570ae91953aecc56">OutdoorPvPZM::m_playerCarryingFlag</a></div><div class="ttdeci">bool m_playerCarryingFlag[PVP_TEAM_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00153">OutdoorPvPZM.h:153</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_aa554dc86388e7e0f50d15985ad9ce1c0"><div class="ttname"><a href="classOutdoorPvPZM.html#aa554dc86388e7e0f50d15985ad9ce1c0">OutdoorPvPZM::HandleGameObjectUse</a></div><div class="ttdeci">bool HandleGameObjectUse(Player *player, GameObject *go) override</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8cpp_source.html#l00305">OutdoorPvPZM.cpp:305</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_aba24e6285ac45dd0594f557d5830ba7c"><div class="ttname"><a href="classOutdoorPvPZM.html#aba24e6285ac45dd0594f557d5830ba7c">OutdoorPvPZM::SendRemoveWorldStates</a></div><div class="ttdeci">void SendRemoveWorldStates(Player *player) override</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8cpp_source.html#l00068">OutdoorPvPZM.cpp:68</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_abcde655fad59e22522049361088d3116"><div class="ttname"><a href="classOutdoorPvPZM.html#abcde655fad59e22522049361088d3116">OutdoorPvPZM::m_graveyardWorldState</a></div><div class="ttdeci">uint32 m_graveyardWorldState</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00146">OutdoorPvPZM.h:146</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_acd70b3d2ce5e19e1a16b853fad2a2490"><div class="ttname"><a href="classOutdoorPvPZM.html#acd70b3d2ce5e19e1a16b853fad2a2490">OutdoorPvPZM::HandleEvent</a></div><div class="ttdeci">bool HandleEvent(uint32 eventId, Object *source, Object *target) override</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8cpp_source.html#l00167">OutdoorPvPZM.cpp:167</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_ad37419d26592351e7bbf78be9009ea8f"><div class="ttname"><a href="classOutdoorPvPZM.html#ad37419d26592351e7bbf78be9009ea8f">OutdoorPvPZM::m_towerOwner</a></div><div class="ttdeci">Team m_towerOwner[MAX_ZM_TOWERS]</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00143">OutdoorPvPZM.h:143</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_adcca5bdb3c6600f60dc6494bd99b6936"><div class="ttname"><a href="classOutdoorPvPZM.html#adcca5bdb3c6600f60dc6494bd99b6936">OutdoorPvPZM::m_flagReady</a></div><div class="ttdeci">bool m_flagReady[PVP_TEAM_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00152">OutdoorPvPZM.h:152</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_af0678e39a71df6874bf9773ba7be2d77"><div class="ttname"><a href="classOutdoorPvPZM.html#af0678e39a71df6874bf9773ba7be2d77">OutdoorPvPZM::m_towerWorldState</a></div><div class="ttdeci">uint32 m_towerWorldState[MAX_ZM_TOWERS]</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8h_source.html#l00140">OutdoorPvPZM.h:140</a></div></div>
<div class="ttc" id="aclassOutdoorPvPZM_html_af81ddff732ec9b4e885fc911ddad995a"><div class="ttname"><a href="classOutdoorPvPZM.html#af81ddff732ec9b4e885fc911ddad995a">OutdoorPvPZM::SetBeaconArtKit</a></div><div class="ttdeci">void SetBeaconArtKit(const WorldObject *objRef, ObjectGuid creatureGuid, uint32 auraId)</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvPZM_8cpp_source.html#l00398">OutdoorPvPZM.cpp:398</a></div></div>
<div class="ttc" id="aclassOutdoorPvP_html"><div class="ttname"><a href="classOutdoorPvP.html">OutdoorPvP</a></div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvP_8h_source.html#l00046">OutdoorPvP.h:47</a></div></div>
<div class="ttc" id="aclassOutdoorPvP_html_a413ccd03baef0d30bb683910127c9cd5"><div class="ttname"><a href="classOutdoorPvP.html#a413ccd03baef0d30bb683910127c9cd5">OutdoorPvP::SetGraveYardLinkTeam</a></div><div class="ttdeci">void SetGraveYardLinkTeam(uint32 id, uint32 locKey, Team team, uint32 mapId)</div><div class="ttdoc">Function that adds a player to the players of the affected outdoor pvp zones.</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvP_8cpp_source.html#l00032">OutdoorPvP.cpp:32</a></div></div>
<div class="ttc" id="aclassOutdoorPvP_html_a5df6833a8833282ace1550cb332243de"><div class="ttname"><a href="classOutdoorPvP.html#a5df6833a8833282ace1550cb332243de">OutdoorPvP::BuffTeam</a></div><div class="ttdeci">void BuffTeam(Team team, uint32 spellId, bool remove=false, const uint32 areaId=0)</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvP_8cpp_source.html#l00143">OutdoorPvP.cpp:143</a></div></div>
<div class="ttc" id="aclassOutdoorPvP_html_a830f5545685c27a324a7ec20435b3a6a"><div class="ttname"><a href="classOutdoorPvP.html#a830f5545685c27a324a7ec20435b3a6a">OutdoorPvP::HandlePlayerLeaveZone</a></div><div class="ttdeci">virtual void HandlePlayerLeaveZone(Player *, bool)</div><div class="ttdoc">Function that removes a player from the players of the affected outdoor pvp zones.</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvP_8cpp_source.html#l00049">OutdoorPvP.cpp:49</a></div></div>
<div class="ttc" id="aclassOutdoorPvP_html_a9f00799b60fbd21bd0bfbaeb63472d06"><div class="ttname"><a href="classOutdoorPvP.html#a9f00799b60fbd21bd0bfbaeb63472d06">OutdoorPvP::HandleGameObjectCreate</a></div><div class="ttdeci">virtual void HandleGameObjectCreate(GameObject *)</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvP_8cpp_source.html#l00080">OutdoorPvP.cpp:80</a></div></div>
<div class="ttc" id="aclassOutdoorPvP_html_ab332e2eafab4a8ab3f0f19ba7fce4ad4"><div class="ttname"><a href="classOutdoorPvP.html#ab332e2eafab4a8ab3f0f19ba7fce4ad4">OutdoorPvP::SendUpdateWorldState</a></div><div class="ttdeci">void SendUpdateWorldState(uint32 field, uint32 value)</div><div class="ttdoc">Function that updates the world state for all the players of the outdoor pvp zone.</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvP_8cpp_source.html#l00067">OutdoorPvP.cpp:67</a></div></div>
<div class="ttc" id="aclassOutdoorPvP_html_aebd1508a68fc7c7938dcfeff64f84752"><div class="ttname"><a href="classOutdoorPvP.html#aebd1508a68fc7c7938dcfeff64f84752">OutdoorPvP::RespawnGO</a></div><div class="ttdeci">void RespawnGO(const WorldObject *objRef, ObjectGuid goGuid, bool respawn)</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvP_8cpp_source.html#l00202">OutdoorPvP.cpp:202</a></div></div>
<div class="ttc" id="aclassOutdoorPvP_html_aeeaaf6911658f453241d17c8ebc0441f"><div class="ttname"><a href="classOutdoorPvP.html#aeeaaf6911658f453241d17c8ebc0441f">OutdoorPvP::HandlePlayerEnterZone</a></div><div class="ttdeci">virtual void HandlePlayerEnterZone(Player *, bool)</div><div class="ttdef"><b>Definition:</b> <a href="OutdoorPvP_8cpp_source.html#l00038">OutdoorPvP.cpp:38</a></div></div>
<div class="ttc" id="aclassPlayer_html"><div class="ttname"><a href="classPlayer.html">Player</a></div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l01063">Player.h:1064</a></div></div>
<div class="ttc" id="aclassPlayer_html_a8035374eea3f9bc259fd25ccff0fd48b"><div class="ttname"><a href="classPlayer.html#a8035374eea3f9bc259fd25ccff0fd48b">Player::SendUpdateWorldState</a></div><div class="ttdeci">void SendUpdateWorldState(uint32 Field, uint32 Value) const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l08826">Player.cpp:8826</a></div></div>
<div class="ttc" id="aclassPlayer_html_af984d68ab11bb3f4081e0965593fbc9b"><div class="ttname"><a href="classPlayer.html#af984d68ab11bb3f4081e0965593fbc9b">Player::GetTeam</a></div><div class="ttdeci">Team GetTeam() const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l02035">Player.h:2035</a></div></div>
<div class="ttc" id="aclassUnit_html"><div class="ttname"><a href="classUnit.html">Unit</a></div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l01147">Unit.h:1148</a></div></div>
<div class="ttc" id="aclassUnit_html_a1a38bdc4f3c0a9b9cfa22f51365e37a4"><div class="ttname"><a href="classUnit.html#a1a38bdc4f3c0a9b9cfa22f51365e37a4">Unit::RemoveAurasDueToSpell</a></div><div class="ttdeci">void RemoveAurasDueToSpell(uint32 spellId, SpellAuraHolder *except=nullptr, AuraRemoveMode mode=AURA_REMOVE_BY_DEFAULT)</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8cpp_source.html#l06262">Unit.cpp:6262</a></div></div>
<div class="ttc" id="aclassUnit_html_a211876b6b1dcea2eedcc52e754093d70"><div class="ttname"><a href="classUnit.html#a211876b6b1dcea2eedcc52e754093d70">Unit::CastSpell</a></div><div class="ttdeci">SpellCastResult CastSpell(Unit *Victim, uint32 spellId, uint32 triggeredFlags, Item *castItem=nullptr, Aura *triggeredByAura=nullptr, ObjectGuid originalCaster=ObjectGuid(), SpellEntry const *triggeredBy=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8cpp_source.html#l01479">Unit.cpp:1479</a></div></div>
<div class="ttc" id="aclassUnit_html_affec6e6e8d949d59b14ab26d446451e9"><div class="ttname"><a href="classUnit.html#affec6e6e8d949d59b14ab26d446451e9">Unit::HasAura</a></div><div class="ttdeci">bool HasAura(uint32 spellId, SpellEffectIndex effIndex) const</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8cpp_source.html#l06743">Unit.cpp:6743</a></div></div>
<div class="ttc" id="aclassWorldObject_html"><div class="ttname"><a href="classWorldObject.html">WorldObject</a></div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00946">Object.h:947</a></div></div>
<div class="ttc" id="aclassWorldObject_html_a76c507a1b3adcebf2732572bc6b67fe0"><div class="ttname"><a href="classWorldObject.html#a76c507a1b3adcebf2732572bc6b67fe0">WorldObject::GetMap</a></div><div class="ttdeci">Map * GetMap() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l01170">Object.h:1170</a></div></div>
<div class="ttc" id="aclassWorldObject_html_a950bb10c341d39dff61c394009860ac3"><div class="ttname"><a href="classWorldObject.html#a950bb10c341d39dff61c394009860ac3">WorldObject::GetPositionY</a></div><div class="ttdeci">float GetPositionY() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00969">Object.h:969</a></div></div>
<div class="ttc" id="aclassWorldObject_html_afd0488a6497cff9e233990646ec78011"><div class="ttname"><a href="classWorldObject.html#afd0488a6497cff9e233990646ec78011">WorldObject::IsWithinDistInMap</a></div><div class="ttdeci">bool IsWithinDistInMap(WorldObject const *obj, float dist2compare, bool is3D=true, bool ignorePhase=false) const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l01100">Object.h:1100</a></div></div>
<div class="ttc" id="aclassWorldPacket_html"><div class="ttname"><a href="classWorldPacket.html">WorldPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="WorldPacket_8h_source.html#l00029">WorldPacket.h:30</a></div></div>
<div class="ttc" id="agroup__world_html_ga05dfb35c344e5b947a19e4284e7f5fa7"><div class="ttname"><a href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a></div><div class="ttdeci">#define sWorld</div><div class="ttdef"><b>Definition:</b> <a href="World_8h_source.html#l00832">World.h:832</a></div></div>
<div class="ttc" id="astructGameObjectInfo_html"><div class="ttname"><a href="structGameObjectInfo.html">GameObjectInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="GameObject_8h_source.html#l00040">GameObject.h:41</a></div></div>
<div class="ttc" id="astructGameObjectInfo_html_afd134d96fc1c8a329b393643ab398de7"><div class="ttname"><a href="structGameObjectInfo.html#afd134d96fc1c8a329b393643ab398de7">GameObjectInfo::capturePoint</a></div><div class="ttdeci">struct GameObjectInfo::@995::@1021 capturePoint</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_1699be727a800b1d059c6f7f2b91d2ee.html">game</a></li><li class="navelem"><a class="el" href="dir_3b4419ce1c19202fff74081fbfc8468f.html">OutdoorPvP</a></li><li class="navelem"><a class="el" href="OutdoorPvPZM_8cpp.html">OutdoorPvPZM.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
