<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CMaNGOS_WoTLK: CharacterHandler.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CMaNGOS_WoTLK
   &#160;<span id="projectnumber">0b6ed145724bbfe54f426dc34e27de563eb3bc54</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('CharacterHandler_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">CharacterHandler.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="CharacterHandler_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * This file is part of the CMaNGOS Project. See AUTHORS file for Copyright information</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This program is free software; you can redistribute it and/or modify</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * the Free Software Foundation; either version 2 of the License, or</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * (at your option) any later version.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * GNU General Public License for more details.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * along with this program; if not, write to the Free Software</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160; </div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Common_8h.html">Common.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DatabaseEnv_8h.html">Database/DatabaseEnv.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="WorldPacket_8h.html">Server/WorldPacket.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SharedDefines_8h.html">Globals/SharedDefines.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="WorldSession_8h.html">Server/WorldSession.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Opcodes_8h.html">Server/Opcodes.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Log_8h.html">Log.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="World_8h.html">World/World.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ObjectMgr_8h.html">Globals/ObjectMgr.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Player_8h.html">Entities/Player.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Guild_8h.html">Guilds/Guild.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GuildMgr_8h.html">Guilds/GuildMgr.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ObjectAccessor_8h.html">Globals/ObjectAccessor.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Group_8h.html">Groups/Group.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DatabaseImpl_8h.html">Database/DatabaseImpl.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PlayerDump_8h.html">Tools/PlayerDump.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SocialMgr_8h.html">Social/SocialMgr.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GMTicketMgr_8h.html">GMTickets/GMTicketMgr.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Util_8h.html">Util/Util.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Language_8h.html">Tools/Language.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SpellMgr_8h.html">Spells/SpellMgr.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Calendar_8h.html">Calendar/Calendar.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ScriptDevAIMgr_8h.html">AI/ScriptDevAI/ScriptDevAIMgr.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Anticheat_8hpp.html">Anticheat/Anticheat.hpp</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#ifdef BUILD_PLAYERBOT</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PlayerbotMgr_8h.html">PlayerBot/Base/PlayerbotMgr.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">// config option SkipCinematics supported values</span></div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="CharacterHandler_8cpp.html#a5538fde73e2411a8b1e68584ca93f929">   49</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="CharacterHandler_8cpp.html#a5538fde73e2411a8b1e68584ca93f929">CinematicsSkipMode</a></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="CharacterHandler_8cpp.html#a5538fde73e2411a8b1e68584ca93f929a34858259fd5de0fbaf13b4e3ac478ca9">   51</a></span>&#160;    <a class="code" href="CharacterHandler_8cpp.html#a5538fde73e2411a8b1e68584ca93f929a34858259fd5de0fbaf13b4e3ac478ca9">CINEMATICS_SKIP_NONE</a>      = 0,</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="CharacterHandler_8cpp.html#a5538fde73e2411a8b1e68584ca93f929a74a1e111318489dc9e5b74af3fbc8108">   52</a></span>&#160;    <a class="code" href="CharacterHandler_8cpp.html#a5538fde73e2411a8b1e68584ca93f929a74a1e111318489dc9e5b74af3fbc8108">CINEMATICS_SKIP_SAME_RACE</a> = 1,</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="CharacterHandler_8cpp.html#a5538fde73e2411a8b1e68584ca93f929a709faaa3b56083f6a97cbbe0a7de854a">   53</a></span>&#160;    <a class="code" href="CharacterHandler_8cpp.html#a5538fde73e2411a8b1e68584ca93f929a709faaa3b56083f6a97cbbe0a7de854a">CINEMATICS_SKIP_ALL</a>       = 2,</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;};</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="classLoginQueryHolder.html">   56</a></span>&#160;<span class="keyword">class </span><a class="code" href="classLoginQueryHolder.html">LoginQueryHolder</a> : <span class="keyword">public</span> <a class="code" href="classSqlQueryHolder.html">SqlQueryHolder</a></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;{</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="classLoginQueryHolder.html#abc8056182803af44a062fe6153fdd009">   59</a></span>&#160;        <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <a class="code" href="classLoginQueryHolder.html#abc8056182803af44a062fe6153fdd009">m_accountId</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">   60</a></span>&#160;        <a class="code" href="classObjectGuid.html">ObjectGuid</a> <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="classLoginQueryHolder.html#a0e1a9e1b505ba40d08daee432eaa40c1">   62</a></span>&#160;        <a class="code" href="classLoginQueryHolder.html#a0e1a9e1b505ba40d08daee432eaa40c1">LoginQueryHolder</a>(<a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> accountId, <a class="code" href="classObjectGuid.html">ObjectGuid</a> guid)</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            : <a class="code" href="classLoginQueryHolder.html#abc8056182803af44a062fe6153fdd009">m_accountId</a>(accountId), <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>(guid) { }</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="classLoginQueryHolder.html#a8cdce5befc3b7f8727eef78ab1f768a2">   64</a></span>&#160;        <a class="code" href="classObjectGuid.html">ObjectGuid</a> <a class="code" href="classLoginQueryHolder.html#a8cdce5befc3b7f8727eef78ab1f768a2">GetGuid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>; }</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="classLoginQueryHolder.html#ac44ea5d53fa90dae955bfaa3f472ecea">   65</a></span>&#160;        <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <a class="code" href="classLoginQueryHolder.html#ac44ea5d53fa90dae955bfaa3f472ecea">GetAccountId</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classLoginQueryHolder.html#abc8056182803af44a062fe6153fdd009">m_accountId</a>; }</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classLoginQueryHolder.html#ae21aca0c9ccc627e084b4a535b3f5774">Initialize</a>();</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;};</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="classLoginQueryHolder.html#ae21aca0c9ccc627e084b4a535b3f5774">   69</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classLoginQueryHolder.html#ae21aca0c9ccc627e084b4a535b3f5774">LoginQueryHolder::Initialize</a>()</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="classSqlQueryHolder.html#a8ad1b3829b242ecdc11e4eb192700411">SetSize</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a13e3b1b23530ab3ae516dd6b39df0164">MAX_PLAYER_LOGIN_QUERY</a>);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordtype">bool</span> res = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="comment">// NOTE: all fields in `characters` must be read to prevent lost character data at next save in case wrong DB structure.</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="comment">// !!! NOTE: including unused `zone`,`online`</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642aa864417297e6e075121ff8dd2757ef60">PLAYER_LOGIN_QUERY_LOADFROM</a>,            <span class="stringliteral">&quot;SELECT guid, account, name, race, class, gender, level, xp, money, playerBytes, playerBytes2, playerFlags,&quot;</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                     <span class="stringliteral">&quot;position_x, position_y, position_z, map, orientation, taximask, cinematic, totaltime, leveltime, rest_bonus, logout_time, is_logout_resting, resettalents_cost,&quot;</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                     <span class="stringliteral">&quot;resettalents_time, trans_x, trans_y, trans_z, trans_o, transguid, extra_flags, stable_slots, at_login, zone, online, death_expire_time, taxi_path, dungeon_difficulty,&quot;</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                     <span class="stringliteral">&quot;arenaPoints, totalHonorPoints, todayHonorPoints, yesterdayHonorPoints, totalKills, todayKills, yesterdayKills, chosenTitle, knownCurrencies, watchedFaction, drunk,&quot;</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                     <span class="stringliteral">&quot;health, power1, power2, power3, power4, power5, power6, power7, specCount, activeSpec, exploredZones, equipmentCache, ammoId, knownTitles, actionBars, grantableLevels, fishingSteps FROM characters WHERE guid = &#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642ac1eb349d009f9d7a7e7a3ef7f18a8f63">PLAYER_LOGIN_QUERY_LOADGROUP</a>,           <span class="stringliteral">&quot;SELECT groupId FROM group_member WHERE memberGuid =&#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642aa23f10e5d515a25800dd4acb52d08d0a">PLAYER_LOGIN_QUERY_LOADBOUNDINSTANCES</a>,  <span class="stringliteral">&quot;SELECT id, permanent, map, difficulty, ExtendState, resettime FROM character_instance LEFT JOIN instance ON instance = id WHERE guid = &#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a06cc5da29aab7d209f1b8da694db8edd">PLAYER_LOGIN_QUERY_LOADAURAS</a>,           <span class="stringliteral">&quot;SELECT caster_guid,item_guid,spell,stackcount,remaincharges,basepoints0,basepoints1,basepoints2,periodictime0,periodictime1,periodictime2,maxduration,remaintime,effIndexMask FROM character_aura WHERE guid = &#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642aeb879c41577dc7be5186acdf474d6574">PLAYER_LOGIN_QUERY_LOADSPELLS</a>,          <span class="stringliteral">&quot;SELECT spell,active,disabled FROM character_spell WHERE guid = &#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a00dd65bcb8f3f76b7d1bb9a73dc17b23">PLAYER_LOGIN_QUERY_LOADQUESTSTATUS</a>,     <span class="stringliteral">&quot;SELECT quest,status,rewarded,explored,timer,mobcount1,mobcount2,mobcount3,mobcount4,itemcount1,itemcount2,itemcount3,itemcount4,itemcount5,itemcount6 FROM character_queststatus WHERE guid = &#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a3771ef320923994fe080bad3ebc8b688">PLAYER_LOGIN_QUERY_LOADDAILYQUESTSTATUS</a>, <span class="stringliteral">&quot;SELECT quest FROM character_queststatus_daily WHERE guid = &#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a40bc9a6ec7b1760a318e0a5870fb0f8d">PLAYER_LOGIN_QUERY_LOADWEEKLYQUESTSTATUS</a>, <span class="stringliteral">&quot;SELECT quest FROM character_queststatus_weekly WHERE guid = &#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642af91c61849cfdbf00a4a8f358bff3d1c8">PLAYER_LOGIN_QUERY_LOADMONTHLYQUESTSTATUS</a>, <span class="stringliteral">&quot;SELECT quest FROM character_queststatus_monthly WHERE guid = &#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642abea8ddb688cf3387fd3fc35022a3204e">PLAYER_LOGIN_QUERY_LOADREPUTATION</a>,      <span class="stringliteral">&quot;SELECT faction,standing,flags FROM character_reputation WHERE guid = &#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642abaf70704b4b0e70eaed15e4896b731da">PLAYER_LOGIN_QUERY_LOADINVENTORY</a>,       <span class="stringliteral">&quot;SELECT itemEntry, creatorGuid, giftCreatorGuid, count, duration, charges, flags, enchantments, randomPropertyId, durability, playedTime, text, bag, slot, item, item_template FROM character_inventory JOIN item_instance ON character_inventory.item = item_instance.guid WHERE character_inventory.guid = &#39;%u&#39; ORDER BY bag,slot&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642ad052d533f5378a0e60db33d78c60e0a8">PLAYER_LOGIN_QUERY_LOADITEMLOOT</a>,        <span class="stringliteral">&quot;SELECT guid,itemid,amount,suffix,property FROM item_loot WHERE owner_guid = &#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642ad3c8d171252da69387457c5dddce714f">PLAYER_LOGIN_QUERY_LOADACTIONS</a>,         <span class="stringliteral">&quot;SELECT spec,button,action,type FROM character_action WHERE guid = &#39;%u&#39; ORDER BY button&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642aba118cadfad173228ea66b69e739c711">PLAYER_LOGIN_QUERY_LOADSOCIALLIST</a>,      <span class="stringliteral">&quot;SELECT friend,flags,note FROM character_social WHERE guid = &#39;%u&#39; LIMIT 255&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642ae9216998b69fa858b6780e203241d117">PLAYER_LOGIN_QUERY_LOADHOMEBIND</a>,        <span class="stringliteral">&quot;SELECT map,zone,position_x,position_y,position_z FROM character_homebind WHERE guid = &#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a8c575e6dc940a1a4d1277a656fcdfe60">PLAYER_LOGIN_QUERY_LOADSPELLCOOLDOWNS</a>,  <span class="stringliteral">&quot;SELECT SpellId, SpellExpireTime, Category, CategoryExpireTime, ItemId FROM character_spell_cooldown WHERE guid = &#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.getConfig(<a class="code" href="group__world.html#gga0400d571bb6627ef2b170a4e0dc846cdaec39fe9ae0432b5e3abcb811a3780221">CONFIG_BOOL_DECLINED_NAMES_USED</a>))</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642ad57b61dd818a616646de6c6e57154d8f">PLAYER_LOGIN_QUERY_LOADDECLINEDNAMES</a>,   <span class="stringliteral">&quot;SELECT genitive, dative, accusative, instrumental, prepositional FROM character_declinedname WHERE guid = &#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="comment">// in other case still be dummy query</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642aee7d6602e43e3970bf2b24db6e97154e">PLAYER_LOGIN_QUERY_LOADGUILD</a>,           <span class="stringliteral">&quot;SELECT guildid, `rank` FROM guild_member WHERE guid = &#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a6d91db9c68a8f36f8a8390cb044852a0">PLAYER_LOGIN_QUERY_LOADARENAINFO</a>,       <span class="stringliteral">&quot;SELECT arenateamid, played_week, played_season, wons_season, personal_rating FROM arena_team_member WHERE guid=&#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a4219879b7fa4550411f2670b0872ae45">PLAYER_LOGIN_QUERY_LOADACHIEVEMENTS</a>,    <span class="stringliteral">&quot;SELECT achievement, date FROM character_achievement WHERE guid = &#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a18e0c0dc016c2aa6afe7d8c43d006abd">PLAYER_LOGIN_QUERY_LOADCRITERIAPROGRESS</a>, <span class="stringliteral">&quot;SELECT criteria, counter, date FROM character_achievement_progress WHERE guid = &#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a903ca7a2027f440330df9f00fe8d3d29">PLAYER_LOGIN_QUERY_LOADEQUIPMENTSETS</a>,   <span class="stringliteral">&quot;SELECT setguid, setindex, name, iconname, ignore_mask, item0, item1, item2, item3, item4, item5, item6, item7, item8, item9, item10, item11, item12, item13, item14, item15, item16, item17, item18 FROM character_equipmentsets WHERE guid = &#39;%u&#39; ORDER BY setindex&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a97bce1dc64bf2059df5a173255e8c5e7">PLAYER_LOGIN_QUERY_LOADBGDATA</a>,          <span class="stringliteral">&quot;SELECT instance_id, team, join_x, join_y, join_z, join_o, join_map, mount_spell FROM character_battleground_data WHERE guid = &#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a2b6eb374a123089b8fa336e17de99431">PLAYER_LOGIN_QUERY_LOADACCOUNTDATA</a>,     <span class="stringliteral">&quot;SELECT type, time, data FROM character_account_data WHERE guid=&#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a7a44d50344023d3fbba4791cc21997b7">PLAYER_LOGIN_QUERY_LOADTALENTS</a>,         <span class="stringliteral">&quot;SELECT talent_id, current_rank, spec FROM character_talent WHERE guid = &#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642af144f19fc5f4e92cd7415470735b2921">PLAYER_LOGIN_QUERY_LOADSKILLS</a>,          <span class="stringliteral">&quot;SELECT skill, value, max FROM character_skills WHERE guid = &#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a5ddbdb8d9b9edfbcef7e957a065b48bc">PLAYER_LOGIN_QUERY_LOADGLYPHS</a>,          <span class="stringliteral">&quot;SELECT spec, slot, glyph FROM character_glyphs WHERE guid=&#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a5c3bcef63025a700f7ec01c154ac4218">PLAYER_LOGIN_QUERY_LOADMAILS</a>,           <span class="stringliteral">&quot;SELECT id,messageType,sender,receiver,subject,body,expire_time,deliver_time,money,cod,checked,stationery,mailTemplateId,has_items FROM mail WHERE receiver = &#39;%u&#39; ORDER BY id DESC&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642aa7cea6898bd5dd2528f16a4f7a396f72">PLAYER_LOGIN_QUERY_LOADMAILEDITEMS</a>,     <span class="stringliteral">&quot;SELECT itemEntry, creatorGuid, giftCreatorGuid, count, duration, charges, flags, enchantments, randomPropertyId, durability, playedTime, text, mail_id, item_guid, item_template FROM mail_items JOIN item_instance ON item_guid = guid WHERE receiver = &#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    res &amp;= <a class="code" href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SetPQuery</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a7171ad6691531a79150ce894048fbbe8">PLAYER_LOGIN_QUERY_LOADRANDOMBATTLEGROUND</a>, <span class="stringliteral">&quot;SELECT guid FROM character_battleground_random WHERE guid = &#39;%u&#39;&quot;</span>, <a class="code" href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">m_guid</a>.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">// don&#39;t call WorldSession directly</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">// it may get deleted before the query callbacks get executed</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">// instead pass an account id to this handler</span></div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="classCharacterHandler.html">  120</a></span>&#160;<span class="keyword">class </span><a class="code" href="classCharacterHandler.html">CharacterHandler</a></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;{</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="classCharacterHandler.html#aa9b46c35b9554aab57c99fbc0e82bd1e">  123</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classCharacterHandler.html#aa9b46c35b9554aab57c99fbc0e82bd1e">HandleCharEnumCallback</a>(<a class="code" href="classQueryResult.html">QueryResult</a>* result, <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> account)</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <a class="code" href="classWorldSession.html">WorldSession</a>* session = <a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.FindSession(account);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <span class="keywordflow">if</span> (!session)</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                <span class="keyword">delete</span> result;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            session-&gt;<a class="code" href="classWorldSession.html#a7421f32307b83922c994cca13c467d09">HandleCharEnum</a>(result);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="classCharacterHandler.html#add40fc9a8afdfbc3404a3572e4278a80">  134</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classCharacterHandler.html#add40fc9a8afdfbc3404a3572e4278a80">HandlePlayerLoginCallback</a>(<a class="code" href="classQueryResult.html">QueryResult</a>* <span class="comment">/*dummy*/</span>, <a class="code" href="classSqlQueryHolder.html">SqlQueryHolder</a>* holder)</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <span class="keywordflow">if</span> (!holder) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classWorldSession.html">WorldSession</a>* session = <a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.FindSession(((<a class="code" href="classLoginQueryHolder.html">LoginQueryHolder</a>*)holder)-&gt;GetAccountId()))</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                session-&gt;HandlePlayerLogin((<a class="code" href="classLoginQueryHolder.html">LoginQueryHolder</a>*)holder);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="preprocessor">#ifdef BUILD_PLAYERBOT</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="comment">// This callback is different from the normal HandlePlayerLoginCallback in that it</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="comment">// sets up the bot&#39;s world session and also stores the pointer to the bot player in the master&#39;s</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="comment">// world session m_playerBots map</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordtype">void</span> HandlePlayerBotLoginCallback(<a class="code" href="classQueryResult.html">QueryResult</a>* <span class="comment">/*dummy*/</span>, <a class="code" href="classSqlQueryHolder.html">SqlQueryHolder</a>* holder)</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <span class="keywordflow">if</span> (!holder)</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <a class="code" href="classLoginQueryHolder.html">LoginQueryHolder</a>* lqh = (<a class="code" href="classLoginQueryHolder.html">LoginQueryHolder</a>*) holder;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <a class="code" href="classWorldSession.html">WorldSession</a>* masterSession = <a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.FindSession(lqh-&gt;<a class="code" href="classLoginQueryHolder.html#ac44ea5d53fa90dae955bfaa3f472ecea">GetAccountId</a>());</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordflow">if</span> (! masterSession || <a class="code" href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>.GetPlayer(lqh-&gt;<a class="code" href="classLoginQueryHolder.html#a8cdce5befc3b7f8727eef78ab1f768a2">GetGuid</a>()))</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                <span class="keyword">delete</span> holder;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <span class="comment">// The bot&#39;s WorldSession is owned by the bot&#39;s Player object</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            <span class="comment">// The bot&#39;s WorldSession is deleted by PlayerbotMgr::LogoutPlayerBot</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            <a class="code" href="classWorldSession.html">WorldSession</a>* botSession = <span class="keyword">new</span> <a class="code" href="classWorldSession.html">WorldSession</a>(lqh-&gt;<a class="code" href="classLoginQueryHolder.html#ac44ea5d53fa90dae955bfaa3f472ecea">GetAccountId</a>(), <span class="keyword">nullptr</span>, <a class="code" href="Common_8h.html#ad02db78fbe7773265246ca3010f23f6fa5d534fd54528d86d0f997fa130159df0">SEC_PLAYER</a>, masterSession-&gt;<a class="code" href="classWorldSession.html#abfd2c7f7bb4dad71df7d71992d250af3">GetExpansion</a>(), 0, <a class="code" href="Locales_8h.html#a900ed91bceba26c1e05048bd3a9ec4fd">DEFAULT_LOCALE</a>, masterSession-&gt;<a class="code" href="classWorldSession.html#a507d36d62e25aa6af085c1ff9d276143">GetAccountName</a>(), 0, masterSession-&gt;<a class="code" href="classWorldSession.html#a90b597b1f9fd50438e1a555bd31aee54">GetRecruitingFriendId</a>(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            botSession-&gt;SetNoAnticheat();</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            botSession-&gt;<a class="code" href="classWorldSession.html#a49473749c6f07121ea8bbedff4a563d4">HandlePlayerLogin</a>(lqh); <span class="comment">// will delete lqh</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            masterSession-&gt;<a class="code" href="classWorldSession.html#ae448834fe91656409fc30f46d11e2481">GetPlayer</a>()-&gt;GetPlayerbotMgr()-&gt;OnBotLogin(botSession-&gt;<a class="code" href="classWorldSession.html#ae448834fe91656409fc30f46d11e2481">GetPlayer</a>());</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="CharacterHandler_8cpp.html#aa0e715c35c0552d96d932be83fa51f06">  168</a></span>&#160;} <a class="code" href="CharacterHandler_8cpp.html#aa0e715c35c0552d96d932be83fa51f06">chrHandler</a>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="classWorldSession.html#a7421f32307b83922c994cca13c467d09">  170</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a7421f32307b83922c994cca13c467d09">WorldSession::HandleCharEnum</a>(<a class="code" href="classQueryResult.html">QueryResult</a>* result)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;{</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacad19e6875231d938b8821ad48962e864c">SMSG_CHAR_ENUM</a>, 100);                  <span class="comment">// we guess size</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> num = 0;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    data &lt;&lt; num;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">if</span> (result)</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">do</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> guidlow = (*result)[0].GetUInt32();</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <a class="code" href="Log_8h.html#adbee991aac31d91a88ae6276d32ba9f6">DETAIL_LOG</a>(<span class="stringliteral">&quot;Build enum data for char guid %u from account %u.&quot;</span>, guidlow, <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>());</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classPlayer.html#a8130bd3a5158505f20dd68ecca1008b9">Player::BuildEnumData</a>(result, data))</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                ++num;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">while</span> (result-&gt;<a class="code" href="classQueryResult.html#a8f1f135d431fe357bf2b9373dc8d59be">NextRow</a>());</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keyword">delete</span> result;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    data.<a class="code" href="classByteBuffer.html#a1c6679ea7a9b1eb27762460f87b25836">put</a>&lt;<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&gt;(0, num);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="classWorldSession.html#a5c059cf7f3ade617eb581df7c15d2c20">m_anticheat</a>-&gt;SendCharEnum(std::move(data));</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="classWorldSession.html#a2a51e88cab8c007756b59edf45776fac">  197</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a2a51e88cab8c007756b59edf45776fac">WorldSession::HandleCharEnumOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; <span class="comment">/*recv_data*/</span>)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;{</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a>.<a class="code" href="classDatabase.html#a7ca2df98b64655a7d7e0cb21bbde220d">AsyncPQuery</a>(&amp;<a class="code" href="CharacterHandler_8cpp.html#aa0e715c35c0552d96d932be83fa51f06">chrHandler</a>, &amp;<a class="code" href="classCharacterHandler.html#aa9b46c35b9554aab57c99fbc0e82bd1e">CharacterHandler::HandleCharEnumCallback</a>, <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>(),</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                                  !<a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.getConfig(<a class="code" href="group__world.html#gga0400d571bb6627ef2b170a4e0dc846cdaec39fe9ae0432b5e3abcb811a3780221">CONFIG_BOOL_DECLINED_NAMES_USED</a>) ?</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                                  <span class="comment">//   ------- Query Without Declined Names --------</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                                  <span class="comment">//           0               1                2                3                 4                  5                       6                        7</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                                  <span class="stringliteral">&quot;SELECT characters.guid, characters.name, characters.race, characters.class, characters.gender, characters.playerBytes, characters.playerBytes2, characters.level, &quot;</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                                  <span class="comment">//   8                9               10                     11                     12                     13                    14</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                                  <span class="stringliteral">&quot;characters.zone, characters.map, characters.position_x, characters.position_y, characters.position_z, guild_member.guildid, characters.playerFlags, &quot;</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                                  <span class="comment">//  15                    16                   17                     18                   19</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                                  <span class="stringliteral">&quot;characters.at_login, character_pet.entry, character_pet.modelid, character_pet.level, characters.equipmentCache &quot;</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                                  <span class="stringliteral">&quot;FROM characters LEFT JOIN character_pet ON characters.guid=character_pet.owner AND character_pet.slot=&#39;%u&#39; &quot;</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                                  <span class="stringliteral">&quot;LEFT JOIN guild_member ON characters.guid = guild_member.guid &quot;</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                                  <span class="stringliteral">&quot;WHERE characters.account = &#39;%u&#39; ORDER BY characters.guid&quot;</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                                  :</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                                  <span class="comment">//   --------- Query With Declined Names ---------</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                                  <span class="comment">//           0               1                2                3                 4                  5                       6                        7</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                                  <span class="stringliteral">&quot;SELECT characters.guid, characters.name, characters.race, characters.class, characters.gender, characters.playerBytes, characters.playerBytes2, characters.level, &quot;</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                                  <span class="comment">//   8                9               10                     11                     12                     13                    14</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                                  <span class="stringliteral">&quot;characters.zone, characters.map, characters.position_x, characters.position_y, characters.position_z, guild_member.guildid, characters.playerFlags, &quot;</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                                  <span class="comment">//  15                    16                   17                     18                   19                         20</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                                  <span class="stringliteral">&quot;characters.at_login, character_pet.entry, character_pet.modelid, character_pet.level, characters.equipmentCache, character_declinedname.genitive &quot;</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                                  <span class="stringliteral">&quot;FROM characters LEFT JOIN character_pet ON characters.guid = character_pet.owner AND character_pet.slot=&#39;%u&#39; &quot;</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                                  <span class="stringliteral">&quot;LEFT JOIN character_declinedname ON characters.guid = character_declinedname.guid &quot;</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                                  <span class="stringliteral">&quot;LEFT JOIN guild_member ON characters.guid = guild_member.guid &quot;</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                                  <span class="stringliteral">&quot;WHERE characters.account = &#39;%u&#39; ORDER BY characters.guid&quot;</span>,</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                                  <a class="code" href="Pet_8h.html#a006372e9693754ac0d923d8764ec55fdafd6db825b6f344f6f64ae53dc19cf503">PET_SAVE_AS_CURRENT</a>, <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>());</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;}</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="classWorldSession.html#abb51ac5b8c3910c53d21fb22f7b95557">  227</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#abb51ac5b8c3910c53d21fb22f7b95557">WorldSession::HandleCharCreateOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; recv_data)</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;{</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    std::string name;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> race_, class_;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    recv_data &gt;&gt; name;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    recv_data &gt;&gt; race_;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    recv_data &gt;&gt; class_;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="comment">// extract other data required for player creating</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> gender, skin, face, hairStyle, hairColor, facialHair, outfitId;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    recv_data &gt;&gt; gender &gt;&gt; skin &gt;&gt; face;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    recv_data &gt;&gt; hairStyle &gt;&gt; hairColor &gt;&gt; facialHair &gt;&gt; outfitId;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca1d84124a3d18181fdb53f5ebd6507ade">SMSG_CHAR_CREATE</a>, 1);                  <span class="comment">// returned with diff.values in all cases</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classWorldSession.html#a38f29ba7dc5216093dd812cf3e7861df">GetSecurity</a>() == <a class="code" href="Common_8h.html#ad02db78fbe7773265246ca3010f23f6fa5d534fd54528d86d0f997fa130159df0">SEC_PLAYER</a>)</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> mask = <a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.getConfig(<a class="code" href="group__world.html#gga89a532a320ff8bd5866836fee5541232a540fd779b1a8afca1bc0697c0edc0aee">CONFIG_UINT32_CHARACTERS_CREATING_DISABLED</a>))</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <span class="keywordtype">bool</span> disabled = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598">Team</a> team = <a class="code" href="classPlayer.html#a073c8943818a762ba4a6ce8894023ff8">Player::TeamForRace</a>(race_);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="keywordflow">switch</span> (team)</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598a360acb47017e8e0d3522e08575f3d1b2">ALLIANCE</a>: disabled = (mask &amp; (1 &lt;&lt; 0)) != 0; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598ae00f67931133b08b7de375111e800b42">HORDE</a>:    disabled = (mask &amp; (1 &lt;&lt; 1)) != 0; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="keywordflow">if</span> (disabled)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa5e45748def73078b9ee42fe6c878ffef">CHAR_CREATE_DISABLED</a>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="structChrClassesEntry.html">ChrClassesEntry</a> <span class="keyword">const</span>* classEntry = <a class="code" href="DBCStores_8cpp.html#a265eb72f883a94d0125d0dd7126661ad">sChrClassesStore</a>.LookupEntry(class_);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="structChrRacesEntry.html">ChrRacesEntry</a> <span class="keyword">const</span>* raceEntry = <a class="code" href="DBCStores_8cpp.html#a857892c526a4a01f7ff3568f4975b0e1">sChrRacesStore</a>.LookupEntry(race_);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">if</span> (!classEntry || !raceEntry)</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa8dc3d6ad0bcd95cb44ad97a29b849843">CHAR_CREATE_FAILED</a>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <a class="code" href="Log_8h.html#ab5487500f5b4b12072043104b916d582">sLog</a>.outError(<span class="stringliteral">&quot;Account:[%u] attempted to create character of invalid Class (%u) or Race (%u)&quot;</span>, <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>(), class_, race_);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classPlayer.html#ae59b0fc7554f98d467ed950286a213b0">Player::ValidateAppearance</a>(race_, class_, gender, hairStyle, hairColor, face, facialHair, skin, <span class="keyword">true</span>))</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa8dc3d6ad0bcd95cb44ad97a29b849843">CHAR_CREATE_FAILED</a>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <a class="code" href="Log_8h.html#ab5487500f5b4b12072043104b916d582">sLog</a>.outError(<span class="stringliteral">&quot;Account:[%u] attempted to create character with invalid appearance attributes&quot;</span>, <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>());</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="comment">// prevent character creating Expansion race without Expansion account</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">if</span> (raceEntry-&gt;<a class="code" href="structChrRacesEntry.html#ab6547f8b08d4d1bf57a37f9574b71e43">expansion</a> &gt; <a class="code" href="classWorldSession.html#abfd2c7f7bb4dad71df7d71992d250af3">GetExpansion</a>())</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa3e2128339eca33a7240f0d258637d431">CHAR_CREATE_EXPANSION</a>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <a class="code" href="Log_8h.html#ab5487500f5b4b12072043104b916d582">sLog</a>.outError(<span class="stringliteral">&quot;Expansion %u account:[%d] tried to Create character with expansion %u race (%u)&quot;</span>, <a class="code" href="classWorldSession.html#abfd2c7f7bb4dad71df7d71992d250af3">GetExpansion</a>(), <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>(), raceEntry-&gt;<a class="code" href="structChrRacesEntry.html#ab6547f8b08d4d1bf57a37f9574b71e43">expansion</a>, race_);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="comment">// prevent character creating Expansion class without Expansion account</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">if</span> (classEntry-&gt;<a class="code" href="structChrClassesEntry.html#a7c57eabd8d94849cd8536b013a8d4138">expansion</a> &gt; <a class="code" href="classWorldSession.html#abfd2c7f7bb4dad71df7d71992d250af3">GetExpansion</a>())</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aad104648ca7e733c8b0a65b3f7514d4a9">CHAR_CREATE_EXPANSION_CLASS</a>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <a class="code" href="Log_8h.html#ab5487500f5b4b12072043104b916d582">sLog</a>.outError(<span class="stringliteral">&quot;Expansion %u account:[%d] tried to Create character with expansion %u class (%u)&quot;</span>, <a class="code" href="classWorldSession.html#abfd2c7f7bb4dad71df7d71992d250af3">GetExpansion</a>(), <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>(), classEntry-&gt;<a class="code" href="structChrClassesEntry.html#a7c57eabd8d94849cd8536b013a8d4138">expansion</a>, class_);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="comment">// prevent character creating with invalid name</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="ObjectMgr_8cpp.html#ae3678f78a873175a8a779937c1aa599a">normalizePlayerName</a>(name))</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa41fdb6b918224b5ce47d005e2a093199">CHAR_NAME_NO_NAME</a>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <a class="code" href="Log_8h.html#ab5487500f5b4b12072043104b916d582">sLog</a>.outError(<span class="stringliteral">&quot;Account:[%u] attempted to create character with invalid name&quot;</span>, <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>());</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="comment">// check name limitations</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> res = <a class="code" href="classObjectMgr.html#a80758dd5cc7374b44e74dffa91313344">ObjectMgr::CheckPlayerName</a>(name, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">if</span> (res != <a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aafca76ecee9b164b52012ea3427c9a118">CHAR_NAME_SUCCESS</a>)</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(res);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classWorldSession.html#a38f29ba7dc5216093dd812cf3e7861df">GetSecurity</a>() == <a class="code" href="Common_8h.html#ad02db78fbe7773265246ca3010f23f6fa5d534fd54528d86d0f997fa130159df0">SEC_PLAYER</a> &amp;&amp; <a class="code" href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>.IsReservedName(name))</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    {</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa9024b1c807949588cc207e9242002148">CHAR_NAME_RESERVED</a>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>.GetPlayerGuidByName(name))</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aaca4b04bb07e94f4bb4445b24fabedca7">CHAR_CREATE_NAME_IN_USE</a>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <a class="code" href="classQueryResult.html">QueryResult</a>* resultacct = <a class="code" href="group__mangosd.html#ga8dc09682b17696c62c0fae61abccbdb1">LoginDatabase</a>.<a class="code" href="classDatabase.html#ae9332e6ba803852091f432bc329a62bc">PQuery</a>(<span class="stringliteral">&quot;SELECT SUM(numchars) FROM realmcharacters WHERE acctid = &#39;%u&#39;&quot;</span>, <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>());</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">if</span> (resultacct)</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <a class="code" href="classField.html">Field</a>* fields = resultacct-&gt;<a class="code" href="classQueryResult.html#ae59bcb12d59b9a369953be91ddb5c446">Fetch</a>();</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> acctcharcount = fields[0].<a class="code" href="classField.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="keyword">delete</span> resultacct;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="keywordflow">if</span> (acctcharcount &gt;= <a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.getConfig(<a class="code" href="group__world.html#gga89a532a320ff8bd5866836fee5541232add9fb2b536122274bbd42f8994aaa2fc">CONFIG_UINT32_CHARACTERS_PER_ACCOUNT</a>))</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aae9578a926860e8c4c4fe0eb5b0d567c5">CHAR_CREATE_ACCOUNT_LIMIT</a>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <a class="code" href="classQueryResult.html">QueryResult</a>* result = <a class="code" href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a>.<a class="code" href="classDatabase.html#ae9332e6ba803852091f432bc329a62bc">PQuery</a>(<span class="stringliteral">&quot;SELECT COUNT(guid) FROM characters WHERE account = &#39;%u&#39;&quot;</span>, <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>());</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> charcount = 0;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">if</span> (result)</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <a class="code" href="classField.html">Field</a>* fields = result-&gt;<a class="code" href="classQueryResult.html#ae59bcb12d59b9a369953be91ddb5c446">Fetch</a>();</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        charcount = fields[0].<a class="code" href="classField.html#a090beafdf8b41555058a87d00443498a">GetUInt8</a>();</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keyword">delete</span> result;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <span class="keywordflow">if</span> (charcount &gt;= <a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.getConfig(<a class="code" href="group__world.html#gga89a532a320ff8bd5866836fee5541232addaa1b29c3f2503ecff3269db83b3d92">CONFIG_UINT32_CHARACTERS_PER_REALM</a>))</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aacd59224d34fa71417f4558c829caa550">CHAR_CREATE_SERVER_LIMIT</a>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="comment">// speedup check for heroic class disabled case</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> heroic_free_slots = <a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.getConfig(<a class="code" href="group__world.html#gga89a532a320ff8bd5866836fee5541232a00f2821d5cc58a3a548e1479a7809289">CONFIG_UINT32_HEROIC_CHARACTERS_PER_REALM</a>);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">if</span> (heroic_free_slots == 0 &amp;&amp; <a class="code" href="classWorldSession.html#a38f29ba7dc5216093dd812cf3e7861df">GetSecurity</a>() == <a class="code" href="Common_8h.html#ad02db78fbe7773265246ca3010f23f6fa5d534fd54528d86d0f997fa130159df0">SEC_PLAYER</a> &amp;&amp; class_ == <a class="code" href="SharedDefines_8h.html#a86e4e3df7a5142175aa5df522d3346cfa7f7b30426fd386c181799196c1739058">CLASS_DEATH_KNIGHT</a>)</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aafafdb22b13087b1c7fcdbd2ec35a83ee">CHAR_CREATE_UNIQUE_CLASS_LIMIT</a>;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="comment">// speedup check for heroic class disabled case</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> req_level_for_heroic = <a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.getConfig(<a class="code" href="group__world.html#gga89a532a320ff8bd5866836fee5541232aa815963af8980c2ed02597ed95fc1eae">CONFIG_UINT32_MIN_LEVEL_FOR_HEROIC_CHARACTER_CREATING</a>);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classWorldSession.html#a38f29ba7dc5216093dd812cf3e7861df">GetSecurity</a>() == <a class="code" href="Common_8h.html#ad02db78fbe7773265246ca3010f23f6fa5d534fd54528d86d0f997fa130159df0">SEC_PLAYER</a> &amp;&amp; class_ == <a class="code" href="SharedDefines_8h.html#a86e4e3df7a5142175aa5df522d3346cfa7f7b30426fd386c181799196c1739058">CLASS_DEATH_KNIGHT</a> &amp;&amp; req_level_for_heroic &gt; <a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.getConfig(<a class="code" href="group__world.html#gga89a532a320ff8bd5866836fee5541232a7baa2c71b7b249a1cfdc13d4e8da705a">CONFIG_UINT32_MAX_PLAYER_LEVEL</a>))</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa7e858f0e14ce0ac739265b672ecb70a9">CHAR_CREATE_LEVEL_REQUIREMENT</a>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordtype">bool</span> AllowTwoSideAccounts = <a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.getConfig(<a class="code" href="group__world.html#gga0400d571bb6627ef2b170a4e0dc846cda730f3090db5320398b2c697b41860fd3">CONFIG_BOOL_ALLOW_TWO_SIDE_ACCOUNTS</a>) || <a class="code" href="classWorldSession.html#a38f29ba7dc5216093dd812cf3e7861df">GetSecurity</a>() &gt; <a class="code" href="Common_8h.html#ad02db78fbe7773265246ca3010f23f6fa5d534fd54528d86d0f997fa130159df0">SEC_PLAYER</a>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="CharacterHandler_8cpp.html#a5538fde73e2411a8b1e68584ca93f929">CinematicsSkipMode</a> skipCinematics = <a class="code" href="CharacterHandler_8cpp.html#a5538fde73e2411a8b1e68584ca93f929">CinematicsSkipMode</a>(<a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.getConfig(<a class="code" href="group__world.html#gga89a532a320ff8bd5866836fee5541232aa10d2c065ce909a43fe9b0b9aee1118c">CONFIG_UINT32_SKIP_CINEMATICS</a>));</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordtype">bool</span> have_same_race = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="comment">// if 0 then allowed creating without any characters</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordtype">bool</span> have_req_level_for_heroic = (req_level_for_heroic == 0);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">if</span> (!AllowTwoSideAccounts || skipCinematics == <a class="code" href="CharacterHandler_8cpp.html#a5538fde73e2411a8b1e68584ca93f929a74a1e111318489dc9e5b74af3fbc8108">CINEMATICS_SKIP_SAME_RACE</a> || class_ == <a class="code" href="SharedDefines_8h.html#a86e4e3df7a5142175aa5df522d3346cfa7f7b30426fd386c181799196c1739058">CLASS_DEATH_KNIGHT</a>)</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <a class="code" href="classQueryResult.html">QueryResult</a>* result2 = <a class="code" href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a>.<a class="code" href="classDatabase.html#ae9332e6ba803852091f432bc329a62bc">PQuery</a>(<span class="stringliteral">&quot;SELECT level,race,class FROM characters WHERE account = &#39;%u&#39; %s&quot;</span>,</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                               <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>(), (skipCinematics == <a class="code" href="CharacterHandler_8cpp.html#a5538fde73e2411a8b1e68584ca93f929a74a1e111318489dc9e5b74af3fbc8108">CINEMATICS_SKIP_SAME_RACE</a> || class_ == <a class="code" href="SharedDefines_8h.html#a86e4e3df7a5142175aa5df522d3346cfa7f7b30426fd386c181799196c1739058">CLASS_DEATH_KNIGHT</a>) ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;LIMIT 1&quot;</span>);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="keywordflow">if</span> (result2)</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            <a class="code" href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598">Team</a> team_ = <a class="code" href="classPlayer.html#a073c8943818a762ba4a6ce8894023ff8">Player::TeamForRace</a>(race_);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <a class="code" href="classField.html">Field</a>* field = result2-&gt;<a class="code" href="classQueryResult.html#ae59bcb12d59b9a369953be91ddb5c446">Fetch</a>();</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> acc_race  = field[1].<a class="code" href="classField.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classWorldSession.html#a38f29ba7dc5216093dd812cf3e7861df">GetSecurity</a>() == <a class="code" href="Common_8h.html#ad02db78fbe7773265246ca3010f23f6fa5d534fd54528d86d0f997fa130159df0">SEC_PLAYER</a> &amp;&amp; class_ == <a class="code" href="SharedDefines_8h.html#a86e4e3df7a5142175aa5df522d3346cfa7f7b30426fd386c181799196c1739058">CLASS_DEATH_KNIGHT</a>)</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> acc_class = field[2].<a class="code" href="classField.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                <span class="keywordflow">if</span> (acc_class == <a class="code" href="SharedDefines_8h.html#a86e4e3df7a5142175aa5df522d3346cfa7f7b30426fd386c181799196c1739058">CLASS_DEATH_KNIGHT</a>)</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                    <span class="keywordflow">if</span> (heroic_free_slots &gt; 0)</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                        --heroic_free_slots;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                    <span class="keywordflow">if</span> (heroic_free_slots == 0)</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                    {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                        data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aafafdb22b13087b1c7fcdbd2ec35a83ee">CHAR_CREATE_UNIQUE_CLASS_LIMIT</a>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                        <span class="keyword">delete</span> result2;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                    }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                }</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                <span class="keywordflow">if</span> (!have_req_level_for_heroic)</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                {</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> acc_level = field[0].<a class="code" href="classField.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                    <span class="keywordflow">if</span> (acc_level &gt;= req_level_for_heroic)</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                        have_req_level_for_heroic = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="comment">// need to check team only for first character</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            <span class="comment">// TODO: what to if account already has characters of both races?</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <span class="keywordflow">if</span> (!AllowTwoSideAccounts)</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            {</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                <span class="keywordflow">if</span> (acc_race == 0 || <a class="code" href="classPlayer.html#a073c8943818a762ba4a6ce8894023ff8">Player::TeamForRace</a>(acc_race) != team_)</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                    data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aae86a5e3cb6a59c8b3afc5d7a6c4c43d8">CHAR_CREATE_PVP_TEAMS_VIOLATION</a>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                    <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                    <span class="keyword">delete</span> result2;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            <span class="comment">// search same race for cinematic or same class if need</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <span class="comment">// TODO: check if cinematic already shown? (already logged in?; cinematic field)</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="keywordflow">while</span> ((skipCinematics == <a class="code" href="CharacterHandler_8cpp.html#a5538fde73e2411a8b1e68584ca93f929a74a1e111318489dc9e5b74af3fbc8108">CINEMATICS_SKIP_SAME_RACE</a> &amp;&amp; !have_same_race) || class_ == <a class="code" href="SharedDefines_8h.html#a86e4e3df7a5142175aa5df522d3346cfa7f7b30426fd386c181799196c1739058">CLASS_DEATH_KNIGHT</a>)</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                <span class="keywordflow">if</span> (!result2-&gt;<a class="code" href="classQueryResult.html#a8f1f135d431fe357bf2b9373dc8d59be">NextRow</a>())</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                field = result2-&gt;<a class="code" href="classQueryResult.html#ae59bcb12d59b9a369953be91ddb5c446">Fetch</a>();</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                acc_race = field[1].<a class="code" href="classField.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                <span class="keywordflow">if</span> (!have_same_race)</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                    have_same_race = race_ == acc_race;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classWorldSession.html#a38f29ba7dc5216093dd812cf3e7861df">GetSecurity</a>() == <a class="code" href="Common_8h.html#ad02db78fbe7773265246ca3010f23f6fa5d534fd54528d86d0f997fa130159df0">SEC_PLAYER</a> &amp;&amp; class_ == <a class="code" href="SharedDefines_8h.html#a86e4e3df7a5142175aa5df522d3346cfa7f7b30426fd386c181799196c1739058">CLASS_DEATH_KNIGHT</a>)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                    <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> acc_class = field[2].<a class="code" href="classField.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                    <span class="keywordflow">if</span> (acc_class == <a class="code" href="SharedDefines_8h.html#a86e4e3df7a5142175aa5df522d3346cfa7f7b30426fd386c181799196c1739058">CLASS_DEATH_KNIGHT</a>)</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                    {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                        <span class="keywordflow">if</span> (heroic_free_slots &gt; 0)</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                            --heroic_free_slots;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                        <span class="keywordflow">if</span> (heroic_free_slots == 0)</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                        {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                            data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aafafdb22b13087b1c7fcdbd2ec35a83ee">CHAR_CREATE_UNIQUE_CLASS_LIMIT</a>;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                            <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                            <span class="keyword">delete</span> result2;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                        }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                    }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                    <span class="keywordflow">if</span> (!have_req_level_for_heroic)</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                    {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                        <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> acc_level = field[0].<a class="code" href="classField.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                        <span class="keywordflow">if</span> (acc_level &gt;= req_level_for_heroic)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                            have_req_level_for_heroic = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                    }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            <span class="keyword">delete</span> result2;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    }</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classWorldSession.html#a38f29ba7dc5216093dd812cf3e7861df">GetSecurity</a>() == <a class="code" href="Common_8h.html#ad02db78fbe7773265246ca3010f23f6fa5d534fd54528d86d0f997fa130159df0">SEC_PLAYER</a> &amp;&amp; class_ == <a class="code" href="SharedDefines_8h.html#a86e4e3df7a5142175aa5df522d3346cfa7f7b30426fd386c181799196c1739058">CLASS_DEATH_KNIGHT</a> &amp;&amp; !have_req_level_for_heroic)</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa7e858f0e14ce0ac739265b672ecb70a9">CHAR_CREATE_LEVEL_REQUIREMENT</a>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160; </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <a class="code" href="classPlayer.html">Player</a>* pNewChar = <span class="keyword">new</span> <a class="code" href="classPlayer.html">Player</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordflow">if</span> (!pNewChar-&gt;<a class="code" href="classPlayer.html#ab09c33760081b99a1d4d9b5156ee71ee">Create</a>(<a class="code" href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>.GeneratePlayerLowGuid(), name, race_, class_, gender, skin, face, hairStyle, hairColor, facialHair, outfitId))</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="comment">// Player not create (race/class problem?)</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="keyword">delete</span> pNewChar;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aab3ed2d1de06c181e73e923e49c604552">CHAR_CREATE_ERROR</a>;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    }</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160; </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">if</span> ((have_same_race &amp;&amp; skipCinematics == <a class="code" href="CharacterHandler_8cpp.html#a5538fde73e2411a8b1e68584ca93f929a74a1e111318489dc9e5b74af3fbc8108">CINEMATICS_SKIP_SAME_RACE</a>) || skipCinematics == <a class="code" href="CharacterHandler_8cpp.html#a5538fde73e2411a8b1e68584ca93f929a709faaa3b56083f6a97cbbe0a7de854a">CINEMATICS_SKIP_ALL</a>)</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        pNewChar-&gt;<a class="code" href="classPlayer.html#a521ab0ff1df28db6683bec51fb39293e">setCinematic</a>(1);                          <span class="comment">// not show intro</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    pNewChar-&gt;<a class="code" href="classPlayer.html#a67ac5859ee04767ae673f4bd92f615aa">SetAtLoginFlag</a>(<a class="code" href="Player_8h.html#aa6b2dcfd7e0c4f62b238241afe792fcba603335736eef48aeea31b0efd812373d">AT_LOGIN_FIRST</a>);               <span class="comment">// First login</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="comment">// Player created, save it now</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    pNewChar-&gt;<a class="code" href="classPlayer.html#a0a493134d9edc25a43ed9f6d111be9ac">SaveToDB</a>();</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    charcount += 1;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <a class="code" href="group__mangosd.html#ga8dc09682b17696c62c0fae61abccbdb1">LoginDatabase</a>.<a class="code" href="classDatabase.html#a1379d88f95a689d8b6f7ff0fd9215b4d">PExecute</a>(<span class="stringliteral">&quot;DELETE FROM realmcharacters WHERE acctid= &#39;%u&#39; AND realmid = &#39;%u&#39;&quot;</span>, <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>(), <a class="code" href="group__world.html#ga8d3f75207fc057cde3ffc9e3bf77dc79">realmID</a>);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <a class="code" href="group__mangosd.html#ga8dc09682b17696c62c0fae61abccbdb1">LoginDatabase</a>.<a class="code" href="classDatabase.html#a1379d88f95a689d8b6f7ff0fd9215b4d">PExecute</a>(<span class="stringliteral">&quot;INSERT INTO realmcharacters (numchars, acctid, realmid) VALUES (%u, %u, %u)&quot;</span>,  charcount, <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>(), <a class="code" href="group__world.html#ga8d3f75207fc057cde3ffc9e3bf77dc79">realmID</a>);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160; </div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aadfc791f8a735764b3c6723bc3d07012e">CHAR_CREATE_SUCCESS</a>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keyword">const</span> std::string&amp; IP_str = <a class="code" href="classWorldSession.html#af6e608cecc30614e007a88e3362f9ed6">GetRemoteAddress</a>();</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <a class="code" href="Log_8h.html#adbee991aac31d91a88ae6276d32ba9f6">DETAIL_LOG</a>(<span class="stringliteral">&quot;Account: %d (IP: %s) Create Character:[%s] (guid: %u)&quot;</span>, <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>(), IP_str.c_str(), name.c_str(), pNewChar-&gt;<a class="code" href="classObject.html#a4777844356842a389621c1bad1433109">GetGUIDLow</a>());</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <a class="code" href="Log_8h.html#ab5487500f5b4b12072043104b916d582">sLog</a>.outChar(<span class="stringliteral">&quot;Account: %d (IP: %s) Create Character:[%s] (guid: %u)&quot;</span>, <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>(), IP_str.c_str(), name.c_str(), pNewChar-&gt;<a class="code" href="classObject.html#a4777844356842a389621c1bad1433109">GetGUIDLow</a>());</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keyword">delete</span> pNewChar;                                        <span class="comment">// created only to call SaveToDB()</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;}</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno"><a class="line" href="classWorldSession.html#a8f345b81d0c9953a3f75ac8e278a9e05">  525</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a8f345b81d0c9953a3f75ac8e278a9e05">WorldSession::HandleCharDeleteOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; recv_data)</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;{</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <a class="code" href="classObjectGuid.html">ObjectGuid</a> guid;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    recv_data &gt;&gt; guid;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="comment">// can&#39;t delete loaded character</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>.GetPlayer(guid))</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> accountId = 0;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    std::string name;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160; </div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="comment">// is guild leader</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="GuildMgr_8h.html#aef171903a38e30c347ff11360f682f81">sGuildMgr</a>.GetGuildByLeader(guid))</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacabcf2ae25c2f92e7c6d1fb57afa197320">SMSG_CHAR_DELETE</a>, 1);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa8fdce3980dedc82cea1655f8f66734f4">CHAR_DELETE_FAILED_GUILD_LEADER</a>;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="comment">// is arena team captain</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>.GetArenaTeamByCaptain(guid))</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacabcf2ae25c2f92e7c6d1fb57afa197320">SMSG_CHAR_DELETE</a>, 1);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa9e5414f0f22072b18a7dc48aeee9ba4d">CHAR_DELETE_FAILED_ARENA_CAPTAIN</a>;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    }</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> lowguid = guid.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>();</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <a class="code" href="classQueryResult.html">QueryResult</a>* result = <a class="code" href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a>.<a class="code" href="classDatabase.html#ae9332e6ba803852091f432bc329a62bc">PQuery</a>(<span class="stringliteral">&quot;SELECT account,name FROM characters WHERE guid=&#39;%u&#39;&quot;</span>, lowguid);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">if</span> (result)</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <a class="code" href="classField.html">Field</a>* fields = result-&gt;<a class="code" href="classQueryResult.html#ae59bcb12d59b9a369953be91ddb5c446">Fetch</a>();</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        accountId = fields[0].<a class="code" href="classField.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        name = fields[1].<a class="code" href="classField.html#ac3fe5bf9cdc61b5be66a4c79598cba5e">GetCppString</a>();</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="keyword">delete</span> result;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    }</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160; </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="comment">// prevent deleting other players&#39; characters using cheating tools</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">if</span> (accountId != <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>())</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keyword">const</span> std::string&amp; IP_str = <a class="code" href="classWorldSession.html#af6e608cecc30614e007a88e3362f9ed6">GetRemoteAddress</a>();</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <a class="code" href="Log_8h.html#a66ee45c2c4582addc7fba4147eb4741c">BASIC_LOG</a>(<span class="stringliteral">&quot;Account: %d (IP: %s) Delete Character:[%s] (guid: %u)&quot;</span>, <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>(), IP_str.c_str(), name.c_str(), lowguid);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="Log_8h.html#ab5487500f5b4b12072043104b916d582">sLog</a>.outChar(<span class="stringliteral">&quot;Account: %d (IP: %s) Delete Character:[%s] (guid: %u)&quot;</span>, <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>(), IP_str.c_str(), name.c_str(), lowguid);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Log_8h.html#ab5487500f5b4b12072043104b916d582">sLog</a>.IsOutCharDump())                               <span class="comment">// optimize GetPlayerDump call</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        std::string dump = <a class="code" href="classPlayerDumpWriter.html">PlayerDumpWriter</a>().<a class="code" href="classPlayerDumpWriter.html#ad32b71e6fa25e6694999327494de401f">GetDump</a>(lowguid);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <a class="code" href="Log_8h.html#ab5487500f5b4b12072043104b916d582">sLog</a>.outCharDump(dump.c_str(), <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>(), lowguid, name.c_str());</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    }</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160; </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <a class="code" href="Calendar_8h.html#a19ac4cd787f75380716d027d20c06b7a">sCalendarMgr</a>.RemovePlayerCalendar(guid);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <a class="code" href="classPlayer.html#aa1d62e3ea66572ed20ac1035d0de3911">Player::DeleteFromDB</a>(guid, <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>());</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacabcf2ae25c2f92e7c6d1fb57afa197320">SMSG_CHAR_DELETE</a>, 1);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa1495b04b19e58ecfaddd6a9e6bea1785">CHAR_DELETE_SUCCESS</a>;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;}</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno"><a class="line" href="classWorldSession.html#a146351c9d05131f0384674a5684f0920">  589</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a146351c9d05131f0384674a5684f0920">WorldSession::HandlePlayerLoginOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; recv_data)</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;{</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <a class="code" href="classObjectGuid.html">ObjectGuid</a> playerGuid;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    recv_data &gt;&gt; playerGuid;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <a class="code" href="classPlayer.html">Player</a>* pCurrChar = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    pCurrChar = <a class="code" href="classObjectAccessor.html#a959bcb90b71aacbb8560642c86c3ab63">ObjectAccessor::FindPlayer</a>(playerGuid, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacaa5639c2d47fdca0098e52cd3dcf7a867">SMSG_CHARACTER_LOGIN_FAILED</a>, 1);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classWorldSession.html#a6518fa6d76b730689eb44f2256af3726">PlayerLoading</a>())</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <a class="code" href="Log_8h.html#ab5487500f5b4b12072043104b916d582">sLog</a>.outError(<span class="stringliteral">&quot;HandlePlayerLoginOpcode&gt; Player try to login again while already in loading stage, AccountId = %u&quot;</span>, <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>());</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a85fabe6bd80d108ee2a542cefafa551fabe4a19d89177f64bdbb48464f2cfb7d0">CHAR_LOGIN_DUPLICATE_CHARACTER</a>;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    }</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>)</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    {</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <span class="comment">// player is reconnecting</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; </div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <span class="keywordflow">if</span> (!pCurrChar)</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            <a class="code" href="Log_8h.html#ab5487500f5b4b12072043104b916d582">sLog</a>.outError(<span class="stringliteral">&quot;HandlePlayerLoginOpcode&gt; %s try to login a second char, AccountId = %u&quot;</span>, <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classObject.html#a5c2f31b9fb0a083ff4caca3de93fac90">GetGuidStr</a>().c_str(), <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>());</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a85fabe6bd80d108ee2a542cefafa551fabe4a19d89177f64bdbb48464f2cfb7d0">CHAR_LOGIN_DUPLICATE_CHARACTER</a>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classWorldSession.html#a2b220dba264661e5d38d42f18aab3cff">isLogingOut</a>())</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        {</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            <a class="code" href="Log_8h.html#ab5487500f5b4b12072043104b916d582">sLog</a>.outError(<span class="stringliteral">&quot;HandlePlayerLoginOpcode&gt; %s try to login again, AccountId = %u&quot;</span>, pCurrChar-&gt;<a class="code" href="classObject.html#a5c2f31b9fb0a083ff4caca3de93fac90">GetGuidStr</a>().c_str(), <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>());</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a85fabe6bd80d108ee2a542cefafa551fac2d2b78b24134cb31ac546278f4e296c">CHAR_LOGIN_FAILED</a>;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        }</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classObject.html#a8acb91caf94322dc0289d3e60eb8e0e7">IsInWorld</a>())</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            <span class="comment">// finish pending transfers before starting the logout</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <span class="keywordflow">while</span> (<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a> &amp;&amp; <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a1e95e21528afebf71bd56f1e424ea541">IsBeingTeleportedFar</a>())</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                <a class="code" href="classWorldSession.html#a9049c99c2dc91929316b964377c1df87">HandleMoveWorldportAckOpcode</a>();</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="comment">// release loot on reconnect</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classLoot.html">Loot</a>* loot = <a class="code" href="LootMgr_8h.html#ab8f8fff84ad092dddff5018ed76690d2">sLootMgr</a>.GetLoot(<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>))</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            loot-&gt;Release(<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160; </div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <a class="code" href="classWorldSession.html#a10d7c2283c9d5f90922d1b6b519af70e">HandlePlayerReconnect</a>();</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <a class="code" href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a>(<span class="stringliteral">&quot;WORLD: Received opcode Player Logon Message&quot;</span>);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160; </div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <a class="code" href="classLoginQueryHolder.html">LoginQueryHolder</a>* holder = <span class="keyword">new</span> <a class="code" href="classLoginQueryHolder.html">LoginQueryHolder</a>(<a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>(), playerGuid);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordflow">if</span> (!holder-&gt;<a class="code" href="classLoginQueryHolder.html#ae21aca0c9ccc627e084b4a535b3f5774">Initialize</a>())</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <span class="keyword">delete</span> holder;                                      <span class="comment">// delete all unprocessed queries</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <a class="code" href="classWorldSession.html#a4468ba5e2473de51ebaa0e7e1d2e9e14">m_playerLoading</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    }</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160; </div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <a class="code" href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a>.<a class="code" href="classDatabase.html#aaf7bde53b1b1fc06068a5efe4be6479a">DelayQueryHolder</a>(&amp;<a class="code" href="CharacterHandler_8cpp.html#aa0e715c35c0552d96d932be83fa51f06">chrHandler</a>, &amp;<a class="code" href="classCharacterHandler.html#add40fc9a8afdfbc3404a3572e4278a80">CharacterHandler::HandlePlayerLoginCallback</a>, holder);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;}</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160; </div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="preprocessor">#ifdef BUILD_PLAYERBOT</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment">// Can&#39;t easily reuse HandlePlayerLoginOpcode for logging in bots because it assumes</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment">// a WorldSession exists for the bot. The WorldSession for a bot is created after the character is loaded.</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classPlayerbotMgr.html#a83ee5d59d994b37063b3a97d16ffc973">PlayerbotMgr::LoginPlayerBot</a>(<a class="code" href="classObjectGuid.html">ObjectGuid</a> playerGuid)</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;{</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="comment">// has bot already been added?</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>.GetPlayer(playerGuid))</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160; </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> accountId = <a class="code" href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>.GetPlayerAccountIdByGUID(playerGuid);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">if</span> (accountId == 0)</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <a class="code" href="classLoginQueryHolder.html">LoginQueryHolder</a>* holder = <span class="keyword">new</span> <a class="code" href="classLoginQueryHolder.html">LoginQueryHolder</a>(accountId, playerGuid);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">if</span> (!holder-&gt;<a class="code" href="classLoginQueryHolder.html#ae21aca0c9ccc627e084b4a535b3f5774">Initialize</a>())</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    {</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <span class="keyword">delete</span> holder;                                      <span class="comment">// delete all unprocessed queries</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    }</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <a class="code" href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a>.<a class="code" href="classDatabase.html#aaf7bde53b1b1fc06068a5efe4be6479a">DelayQueryHolder</a>(&amp;<a class="code" href="CharacterHandler_8cpp.html#aa0e715c35c0552d96d932be83fa51f06">chrHandler</a>, &amp;CharacterHandler::HandlePlayerBotLoginCallback, holder);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;}</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno"><a class="line" href="classWorldSession.html#a49473749c6f07121ea8bbedff4a563d4">  676</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a49473749c6f07121ea8bbedff4a563d4">WorldSession::HandlePlayerLogin</a>(<a class="code" href="classLoginQueryHolder.html">LoginQueryHolder</a>* holder)</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;{</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <a class="code" href="classObjectGuid.html">ObjectGuid</a> playerGuid = holder-&gt;<a class="code" href="classLoginQueryHolder.html#a8cdce5befc3b7f8727eef78ab1f768a2">GetGuid</a>();</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160; </div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <a class="code" href="classPlayer.html">Player</a>* pCurrChar = <span class="keyword">new</span> <a class="code" href="classPlayer.html">Player</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <a class="code" href="classWorldSession.html#ae4321c0e91e37c40085d0a320e59047a">SetPlayer</a>(pCurrChar, playerGuid);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <a class="code" href="classWorldSession.html#a4468ba5e2473de51ebaa0e7e1d2e9e14">m_playerLoading</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160; </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <a class="code" href="classWorldSession.html#a8ebfff411a3cb135670d5a418e7b85c5">m_initialZoneUpdated</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <a class="code" href="classWorldSession.html#a4a3d581db50d5638253340fa4375b3cc">SetOnline</a>();</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160; </div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="comment">// &quot;GetAccountId()==db stored account id&quot; checked in LoadFromDB (prevent login not own character using cheating tools)</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keywordflow">if</span> (!pCurrChar-&gt;<a class="code" href="classPlayer.html#a2c237f923c0bbaab236259bdeeafeba6">LoadFromDB</a>(playerGuid, holder))</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    {</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <a class="code" href="classWorldSession.html#a0e56de66ca225e2bd5926685768d8ed5">KickPlayer</a>();                                       <span class="comment">// disconnect client, player no set to session and it will not deleted or saved at kick</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="comment">// also deletes player</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <span class="keyword">delete</span> holder;                                      <span class="comment">// delete all unprocessed queries</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <a class="code" href="classWorldSession.html#a4468ba5e2473de51ebaa0e7e1d2e9e14">m_playerLoading</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <a class="code" href="Log_8h.html#ab5487500f5b4b12072043104b916d582">sLog</a>.outError(<span class="stringliteral">&quot;HandlePlayerLogin&gt; LoadFromDB failed to load %s, AccountId = %u&quot;</span>, pCurrChar-&gt;<a class="code" href="classObject.html#a5c2f31b9fb0a083ff4caca3de93fac90">GetGuidStr</a>().c_str(), <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>());</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160; </div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacaa5639c2d47fdca0098e52cd3dcf7a867">SMSG_CHARACTER_LOGIN_FAILED</a>, 1);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        data &lt;&lt; (<a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>)<a class="code" href="SharedDefines_8h.html#a85fabe6bd80d108ee2a542cefafa551fad5c9187a6e47adefd9829b41d1651a4d">CHAR_LOGIN_NO_CHARACTER</a>;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160; </div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <a class="code" href="classWorldSession.html#a64f75083467d260521ec1d7b246e2fa6">m_currentPlayerLevel</a> = pCurrChar-&gt;<a class="code" href="classUnit.html#a7e54441e936d60c8d5debbf0f64b8d9c">GetLevel</a>();</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    pCurrChar-&gt;<a class="code" href="classUnit.html#aae6570959bf6129418e1db63aeafdc1a">GetMotionMaster</a>()-&gt;<a class="code" href="classMotionMaster.html#a06d5cf35eac7d31217b2266951d60820">Initialize</a>();</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160; </div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <a class="code" href="classGroup.html">Group</a>* group = pCurrChar-&gt;<a class="code" href="classPlayer.html#a3acf7eadb0ec1ae686858ea11ee87302">GetGroup</a>();</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160; </div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    pCurrChar-&gt;<a class="code" href="classPlayer.html#a4d56d9b5b5047d2db579bfcdb72f819d">SendDungeonDifficulty</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160; </div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacaacceaef4729621e401e4d87b6acafb26">SMSG_LOGIN_VERIFY_WORLD</a>, 20);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    data &lt;&lt; pCurrChar-&gt;<a class="code" href="classWorldObject.html#a485ded18163bda1b789be2283781780e">GetMapId</a>();</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keywordflow">if</span> (pCurrChar-&gt;<a class="code" href="classWorldObject.html#a87ee372cff9cd5f87dc4171ad3a7efef">GetTransport</a>())</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <a class="code" href="structPosition.html">Position</a> <span class="keyword">const</span>&amp; transportPosition = pCurrChar-&gt;<a class="code" href="classWorldObject.html#ad7f9a1627d3568f34c381027145f39ee">m_movementInfo</a>.<a class="code" href="classMovementInfo.html#a029ac9f0cb7e6659f09d62a759cad13a">GetTransportPos</a>();</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        data &lt;&lt; transportPosition.<a class="code" href="structPosition.html#af684446cbf0f6d53386686283da6dcc6">x</a>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        data &lt;&lt; transportPosition.<a class="code" href="structPosition.html#a54a6182b5f7539295b32255808897d3f">y</a>;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        data &lt;&lt; transportPosition.<a class="code" href="structPosition.html#a5dc8c08d3d7209ba538ad21ba604aa44">z</a>;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        data &lt;&lt; transportPosition.<a class="code" href="structPosition.html#ab03b4a5c58b5d266e2505bffc906d21e">o</a>;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    }</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        data &lt;&lt; pCurrChar-&gt;<a class="code" href="classWorldObject.html#aa66c526ae67a978c3c8abfef4e45df50">GetPositionX</a>();</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        data &lt;&lt; pCurrChar-&gt;<a class="code" href="classWorldObject.html#a950bb10c341d39dff61c394009860ac3">GetPositionY</a>();</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        data &lt;&lt; pCurrChar-&gt;<a class="code" href="classWorldObject.html#a9c900e733e0e4b039682234dd9514a7e">GetPositionZ</a>();</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        data &lt;&lt; pCurrChar-&gt;<a class="code" href="classWorldObject.html#ab6ca0a11a0d2bb8a7ec0110adb732857">GetOrientation</a>();</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    }</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160; </div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="comment">// load player specific part before send times</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <a class="code" href="classWorldSession.html#a88fb73d33691773e6b47bacfee09ce06">LoadAccountData</a>(holder-&gt;<a class="code" href="classSqlQueryHolder.html#a7e746be9e265f33222d288dccd2bc442">GetResult</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a2b6eb374a123089b8fa336e17de99431">PLAYER_LOGIN_QUERY_LOADACCOUNTDATA</a>), <a class="code" href="group__u2w.html#ga38a03c6cd9103a9891842f233758fbe7">PER_CHARACTER_CACHE_MASK</a>);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <a class="code" href="classWorldSession.html#ad146e22917545a0ef3264bc70e7534e1">SendAccountDataTimes</a>(<a class="code" href="group__u2w.html#ga38a03c6cd9103a9891842f233758fbe7">PER_CHARACTER_CACHE_MASK</a>);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    data.<a class="code" href="classWorldPacket.html#a59f4f321e9acdb083f31cc54f1203b21">Initialize</a>(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacaff9b8362a8981b8728f4d5288f00a21a">SMSG_FEATURE_SYSTEM_STATUS</a>, 2);         <span class="comment">// added in 2.2.0</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(2);                                       <span class="comment">// Can complain (0 = disabled, 1 = enabled, don&#39;t auto ignore, 2 = enabled, auto ignore)</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(0);                                       <span class="comment">// Voice chat is enabled</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160; </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="comment">// Send Spam records</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <a class="code" href="classWorldSession.html#a24565a748dd8dcc1b1adbcaf8ac399c3">SendExpectedSpamRecords</a>();</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <a class="code" href="classWorldSession.html#adc205d8d639afd785c297c7049083e4e">SendMotd</a>();</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <a class="code" href="classWorldSession.html#a8255ed0fb321832a76515274cd234922">SendOfflineNameQueryResponses</a>();</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="comment">// QueryResult *result = CharacterDatabase.PQuery(&quot;SELECT guildid,rank FROM guild_member WHERE guid = &#39;%u&#39;&quot;,pCurrChar-&gt;GetGUIDLow());</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <a class="code" href="classQueryResult.html">QueryResult</a>* resultGuild = holder-&gt;<a class="code" href="classSqlQueryHolder.html#a7e746be9e265f33222d288dccd2bc442">GetResult</a>(<a class="code" href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642aee7d6602e43e3970bf2b24db6e97154e">PLAYER_LOGIN_QUERY_LOADGUILD</a>);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160; </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">if</span> (resultGuild)</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    {</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <a class="code" href="classField.html">Field</a>* fields = resultGuild-&gt;<a class="code" href="classQueryResult.html#ae59bcb12d59b9a369953be91ddb5c446">Fetch</a>();</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        pCurrChar-&gt;<a class="code" href="classPlayer.html#a9186114e20c2bd7ab82ab69956748d6c">SetInGuild</a>(fields[0].GetUInt32());</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        pCurrChar-&gt;<a class="code" href="classPlayer.html#af3fe29e20b63e5611e229194d6d332c7">SetRank</a>(fields[1].GetUInt32());</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        <span class="keyword">delete</span> resultGuild;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    }</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pCurrChar-&gt;<a class="code" href="classPlayer.html#a1e02f2ed117ad96e188ed48c2507869b">GetGuildId</a>())                       <span class="comment">// clear guild related fields in case wrong data about nonexistent membership</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        pCurrChar-&gt;<a class="code" href="classPlayer.html#a9186114e20c2bd7ab82ab69956748d6c">SetInGuild</a>(0);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        pCurrChar-&gt;<a class="code" href="classPlayer.html#af3fe29e20b63e5611e229194d6d332c7">SetRank</a>(0);</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    }</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160; </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">if</span> (pCurrChar-&gt;<a class="code" href="classPlayer.html#a1e02f2ed117ad96e188ed48c2507869b">GetGuildId</a>() != 0)</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <a class="code" href="classGuild.html">Guild</a>* guild = <a class="code" href="GuildMgr_8h.html#aef171903a38e30c347ff11360f682f81">sGuildMgr</a>.GetGuildById(pCurrChar-&gt;<a class="code" href="classPlayer.html#a1e02f2ed117ad96e188ed48c2507869b">GetGuildId</a>());</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="keywordflow">if</span> (guild)</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        {</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            data.<a class="code" href="classWorldPacket.html#a59f4f321e9acdb083f31cc54f1203b21">Initialize</a>(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca97b3530c52250d072799957703492dc3">SMSG_GUILD_EVENT</a>, (1 + 1 + guild-&gt;<a class="code" href="classGuild.html#ae01e6c7f19f1ac29bd95b7e848337472">GetMOTD</a>().size() + 1));</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code" href="Guild_8h.html#a06a0aa0a30a110150b9f76a3be9ee59daab7edbe172dab4cd9f3a08e9d735421a">GE_MOTD</a>);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;            data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(1);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            data &lt;&lt; guild-&gt;<a class="code" href="classGuild.html#ae01e6c7f19f1ac29bd95b7e848337472">GetMOTD</a>();</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;            <a class="code" href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a>(<span class="stringliteral">&quot;WORLD: Sent guild-motd (SMSG_GUILD_EVENT)&quot;</span>);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160; </div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;            guild-&gt;<a class="code" href="classGuild.html#a597dfc2946cb307fb194bb043c343ac7">DisplayGuildBankTabsInfo</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160; </div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;            guild-&gt;<a class="code" href="classGuild.html#afc4606bddd3b65dd670327ffef34a0e1">BroadcastEvent</a>(<a class="code" href="Guild_8h.html#a06a0aa0a30a110150b9f76a3be9ee59dae1b52b8ecf858eb756e92de351ffecf4">GE_SIGNED_ON</a>, pCurrChar-&gt;<a class="code" href="classObject.html#ae7e0c11556aeda48ab347a56b6b7bd6a">GetObjectGuid</a>(), pCurrChar-&gt;<a class="code" href="classWorldObject.html#af60e24425abfff16a925c7b5808d8b38">GetName</a>());</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        }</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            <span class="comment">// remove wrong guild data</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            <a class="code" href="Log_8h.html#ab5487500f5b4b12072043104b916d582">sLog</a>.outError(<span class="stringliteral">&quot;Player %s (GUID: %u) marked as member of nonexistent guild (id: %u), removing guild membership for player.&quot;</span>, pCurrChar-&gt;<a class="code" href="classWorldObject.html#af60e24425abfff16a925c7b5808d8b38">GetName</a>(), pCurrChar-&gt;<a class="code" href="classObject.html#a4777844356842a389621c1bad1433109">GetGUIDLow</a>(), pCurrChar-&gt;<a class="code" href="classPlayer.html#a1e02f2ed117ad96e188ed48c2507869b">GetGuildId</a>());</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            pCurrChar-&gt;<a class="code" href="classPlayer.html#a9186114e20c2bd7ab82ab69956748d6c">SetInGuild</a>(0);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        }</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    }</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160; </div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    data.<a class="code" href="classWorldPacket.html#a59f4f321e9acdb083f31cc54f1203b21">Initialize</a>(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca783d126c55ca5fa28a3a2d3e28409ce7">SMSG_LEARNED_DANCE_MOVES</a>, 4 + 4);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160; </div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    pCurrChar-&gt;<a class="code" href="classPlayer.html#a53e1db7bde15cef472a6db923d4e79fa">SendInitialPacketsBeforeAddToMap</a>();</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="comment">// Show cinematic at the first time that player login</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="keywordflow">if</span> (!pCurrChar-&gt;<a class="code" href="classPlayer.html#a51b251222aee52825d8cca5597c11c57">getCinematic</a>())</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    {</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        pCurrChar-&gt;<a class="code" href="classPlayer.html#a521ab0ff1df28db6683bec51fb39293e">setCinematic</a>(1);</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160; </div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="structChrClassesEntry.html">ChrClassesEntry</a> <span class="keyword">const</span>* cEntry = <a class="code" href="DBCStores_8cpp.html#a265eb72f883a94d0125d0dd7126661ad">sChrClassesStore</a>.LookupEntry(pCurrChar-&gt;<a class="code" href="classUnit.html#a58a507ebe628930b8a506144b364d84b">getClass</a>()))</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;            <span class="keywordflow">if</span> (cEntry-&gt;CinematicSequence)</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                pCurrChar-&gt;<a class="code" href="classPlayer.html#a0ca862189959bae87963c1c60ff79527">SendCinematicStart</a>(cEntry-&gt;CinematicSequence);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="structChrRacesEntry.html">ChrRacesEntry</a> <span class="keyword">const</span>* rEntry = <a class="code" href="DBCStores_8cpp.html#a857892c526a4a01f7ff3568f4975b0e1">sChrRacesStore</a>.LookupEntry(pCurrChar-&gt;<a class="code" href="classUnit.html#aa763cca3344c39360cf4f891300a17df">getRace</a>()))</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                pCurrChar-&gt;<a class="code" href="classPlayer.html#a0ca862189959bae87963c1c60ff79527">SendCinematicStart</a>(rEntry-&gt;CinematicSequence);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    }</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> miscRequirement = 0;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <a class="code" href="SharedDefines_8h.html#a0f323c1b17777bed7ec77789ee6642c2">AreaLockStatus</a> lockStatus = <a class="code" href="SharedDefines_8h.html#a0f323c1b17777bed7ec77789ee6642c2a3f4a9671aaf4bc04157666f4f08be8f8">AREA_LOCKSTATUS_OK</a>;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structAreaTrigger.html">AreaTrigger</a> <span class="keyword">const</span>* at = <a class="code" href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>.GetMapEntranceTrigger(pCurrChar-&gt;<a class="code" href="classWorldObject.html#a485ded18163bda1b789be2283781780e">GetMapId</a>()))</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        lockStatus = pCurrChar-&gt;<a class="code" href="classPlayer.html#aba46f31b2dbdee8ef622f8be4a605ad1">GetAreaTriggerLockStatus</a>(at, pCurrChar-&gt;<a class="code" href="classPlayer.html#a4e146717e02e530b473d147e6c650ff4">GetDifficulty</a>(pCurrChar-&gt;<a class="code" href="classWorldObject.html#a76c507a1b3adcebf2732572bc6b67fe0">GetMap</a>()-&gt;<a class="code" href="classMap.html#a556d2eafa563b4a5de4957de28e369b3">IsRaid</a>()), miscRequirement, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        <span class="comment">// Some basic checks in case of a map without areatrigger</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <a class="code" href="structMapEntry.html">MapEntry</a> <span class="keyword">const</span>* mapEntry = <a class="code" href="DBCStores_8cpp.html#ac28198d1c28605951e9debe1298b8304">sMapStore</a>.LookupEntry(pCurrChar-&gt;<a class="code" href="classWorldObject.html#a485ded18163bda1b789be2283781780e">GetMapId</a>());</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <span class="keywordflow">if</span> (!mapEntry)</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;            lockStatus = <a class="code" href="SharedDefines_8h.html#a0f323c1b17777bed7ec77789ee6642c2a7030b6834f1e3ced3b782d2330595b32">AREA_LOCKSTATUS_UNKNOWN_ERROR</a>;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pCurrChar-&gt;<a class="code" href="classPlayer.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="classWorldSession.html#abfd2c7f7bb4dad71df7d71992d250af3">GetExpansion</a>() &lt; mapEntry-&gt;<a class="code" href="structMapEntry.html#a39e6d2e230183f30e369c3bada111bfe">Expansion</a>())</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;            lockStatus = <a class="code" href="SharedDefines_8h.html#a0f323c1b17777bed7ec77789ee6642c2a62e0fa180957ab17eac6a38005f84f6e">AREA_LOCKSTATUS_INSUFFICIENT_EXPANSION</a>;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    }</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="keywordflow">if</span> (lockStatus != <a class="code" href="SharedDefines_8h.html#a0f323c1b17777bed7ec77789ee6642c2a3f4a9671aaf4bc04157666f4f08be8f8">AREA_LOCKSTATUS_OK</a> || !pCurrChar-&gt;<a class="code" href="classWorldObject.html#a76c507a1b3adcebf2732572bc6b67fe0">GetMap</a>()-&gt;<a class="code" href="classMap.html#af928c75fd7374971a2abdc658c89e9d6">Add</a>(pCurrChar))</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <span class="comment">// normal delayed teleport protection not applied (and this correct) for this case (Player object just created)</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        <a class="code" href="structAreaTrigger.html">AreaTrigger</a> <span class="keyword">const</span>* at = <a class="code" href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>.GetGoBackTrigger(pCurrChar-&gt;<a class="code" href="classWorldObject.html#a485ded18163bda1b789be2283781780e">GetMapId</a>());</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        <span class="keywordflow">if</span> (at)</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            lockStatus = pCurrChar-&gt;<a class="code" href="classPlayer.html#aba46f31b2dbdee8ef622f8be4a605ad1">GetAreaTriggerLockStatus</a>(at, pCurrChar-&gt;<a class="code" href="classPlayer.html#a4e146717e02e530b473d147e6c650ff4">GetDifficulty</a>(pCurrChar-&gt;<a class="code" href="classWorldObject.html#a76c507a1b3adcebf2732572bc6b67fe0">GetMap</a>()-&gt;<a class="code" href="classMap.html#a556d2eafa563b4a5de4957de28e369b3">IsRaid</a>()), miscRequirement);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <span class="keywordflow">if</span> (!at || lockStatus != <a class="code" href="SharedDefines_8h.html#a0f323c1b17777bed7ec77789ee6642c2a3f4a9671aaf4bc04157666f4f08be8f8">AREA_LOCKSTATUS_OK</a> || !pCurrChar-&gt;<a class="code" href="classPlayer.html#a0ee06e278ecf1ca41c3052e9eb72f13c">TeleportTo</a>(at-&gt;<a class="code" href="structAreaTrigger.html#a4ac4cd2ffdb0210062694d0138193a8c">target_mapId</a>, at-&gt;<a class="code" href="structAreaTrigger.html#a2989d5eea5b30399539d964d84d5b701">target_X</a>, at-&gt;<a class="code" href="structAreaTrigger.html#ac895924a476d777856b62c8e3d6e63c0">target_Y</a>, at-&gt;<a class="code" href="structAreaTrigger.html#a71d6376840dfa490fb7944ce3f04814b">target_Z</a>, pCurrChar-&gt;<a class="code" href="classWorldObject.html#ab6ca0a11a0d2bb8a7ec0110adb732857">GetOrientation</a>()))</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            pCurrChar-&gt;<a class="code" href="classPlayer.html#a849f0b3145091380d06a5cade6d3f784">TeleportToHomebind</a>();</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    }</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160; </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <a class="code" href="ObjectAccessor_8h.html#a1ac403f083ed153106723d43e093bfff">sObjectAccessor</a>.AddObject(pCurrChar);</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="comment">// DEBUG_LOG(&quot;Player %s added to Map.&quot;,pCurrChar-&gt;GetName());</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160; </div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="keywordflow">if</span> (group)</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        group-&gt;<a class="code" href="classGroup.html#a7d9770739b386d71eacc7c4efa8c9fe5">SendUpdateTo</a>(pCurrChar);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160; </div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160; </div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    pCurrChar-&gt;<a class="code" href="classPlayer.html#a06cd820961fe07e87607b0d975dbe0c3">SendInitialPacketsAfterAddToMap</a>();</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160; </div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keyword">static</span> <a class="code" href="classSqlStatementID.html">SqlStatementID</a> updChars;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keyword">static</span> <a class="code" href="classSqlStatementID.html">SqlStatementID</a> updAccount;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160; </div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <a class="code" href="classSqlStatement.html">SqlStatement</a> stmt = <a class="code" href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a>.<a class="code" href="classDatabase.html#abb8080b8ddbc8345e193a7e6f0cfbd88">CreateStatement</a>(updChars, <span class="stringliteral">&quot;UPDATE characters SET online = 1 WHERE guid = ?&quot;</span>);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    stmt.<a class="code" href="classSqlStatement.html#afb3a28c8d108512cb788670efd8a910a">PExecute</a>(pCurrChar-&gt;<a class="code" href="classObject.html#a4777844356842a389621c1bad1433109">GetGUIDLow</a>());</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160; </div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    stmt = <a class="code" href="group__mangosd.html#ga8dc09682b17696c62c0fae61abccbdb1">LoginDatabase</a>.<a class="code" href="classDatabase.html#abb8080b8ddbc8345e193a7e6f0cfbd88">CreateStatement</a>(updAccount, <span class="stringliteral">&quot;UPDATE account SET active_realm_id = ? WHERE id = ?&quot;</span>);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    stmt.<a class="code" href="classSqlStatement.html#afb3a28c8d108512cb788670efd8a910a">PExecute</a>(<a class="code" href="group__world.html#ga8d3f75207fc057cde3ffc9e3bf77dc79">realmID</a>, <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>());</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160; </div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    pCurrChar-&gt;<a class="code" href="classPlayer.html#aeb27cbb60fc471fd2cb39a321fb38245">SetInGameTime</a>(<a class="code" href="classWorldTimer.html#ae257706b7a1456a593811cc77fa84375">WorldTimer::getMSTime</a>());</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160; </div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="comment">// Send group member online status for other members</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordflow">if</span> (group)</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        group-&gt;<a class="code" href="classGroup.html#a708373cab218d8c47c89427f4c2e348b">UpdatePlayerOnlineStatus</a>(pCurrChar);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160; </div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="comment">// Send friend list online status for other players</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <a class="code" href="SocialMgr_8h.html#a92fb5a2c05247f56e16516cd911d570c">sSocialMgr</a>.SendFriendStatus(pCurrChar, <a class="code" href="SocialMgr_8h.html#a9f322d367078b307f6ad7a9938ba9428a203bccef891dbbf575e4c76373f0f19d">FRIEND_ONLINE</a>, pCurrChar-&gt;<a class="code" href="classObject.html#ae7e0c11556aeda48ab347a56b6b7bd6a">GetObjectGuid</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="comment">// GM ticket notifications</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <a class="code" href="GMTicketMgr_8h.html#a20db6dadbe20767eb03327894588c7be">sTicketMgr</a>.OnPlayerOnlineState(*pCurrChar, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160; </div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <span class="comment">// Place character in world (and load zone) before some object loading</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    pCurrChar-&gt;<a class="code" href="classPlayer.html#a5e5968eecbbf83a335791937f571c6e4">LoadCorpse</a>();</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160; </div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="comment">// setting Ghost+speed if dead</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keywordflow">if</span> (pCurrChar-&gt;<a class="code" href="classUnit.html#a6095270dbf0be2614592c880d455fa3c">m_deathState</a> != <a class="code" href="group__game.html#gga671007e5c9d47b3ccb212f971e65baeda4f34c5c191d6e0d028ca831b6c0b1571">ALIVE</a>)</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    {</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <span class="comment">// not blizz like, we must correctly save and load player instead...</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <span class="keywordflow">if</span> (pCurrChar-&gt;<a class="code" href="classUnit.html#aa763cca3344c39360cf4f891300a17df">getRace</a>() == <a class="code" href="SharedDefines_8h.html#abece64758d84aa91fa2b6bb82123cc80a9ef7a57e61b0f05d7d1e50b0de89820c">RACE_NIGHTELF</a>)</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;            pCurrChar-&gt;<a class="code" href="classUnit.html#a211876b6b1dcea2eedcc52e754093d70">CastSpell</a>(pCurrChar, 20584, <a class="code" href="SpellDefines_8h.html#a8512d8ac830d80360b33fa46dc884a29ab89fa5cc12475f894d85c381bed7a2f2">TRIGGERED_OLD_TRIGGERED</a>);   <span class="comment">// auras SPELL_AURA_INCREASE_SPEED(+speed in wisp form), SPELL_AURA_INCREASE_SWIM_SPEED(+swim speed in wisp form), SPELL_AURA_TRANSFORM (to wisp form)</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        pCurrChar-&gt;<a class="code" href="classUnit.html#a211876b6b1dcea2eedcc52e754093d70">CastSpell</a>(pCurrChar, 8326, <a class="code" href="SpellDefines_8h.html#a8512d8ac830d80360b33fa46dc884a29ab89fa5cc12475f894d85c381bed7a2f2">TRIGGERED_OLD_TRIGGERED</a>);        <span class="comment">// auras SPELL_AURA_GHOST, SPELL_AURA_INCREASE_SPEED(why?), SPELL_AURA_INCREASE_SWIM_SPEED(why?)</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160; </div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        pCurrChar-&gt;<a class="code" href="classUnit.html#aebec2aa935a64dee5c5b219e54f714d0">SetWaterWalk</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    }</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160; </div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    pCurrChar-&gt;<a class="code" href="classPlayer.html#af65f1b1b6e05c2db9fc94ed27948d9ae">TaxiFlightResume</a>();</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160; </div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="comment">// reset for all pets before pet loading</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keywordflow">if</span> (pCurrChar-&gt;<a class="code" href="classPlayer.html#acab761654ec528fb7c3bc77fc28a25bd">HasAtLoginFlag</a>(<a class="code" href="Player_8h.html#aa6b2dcfd7e0c4f62b238241afe792fcba3cd8cf3374b3079026df290c3fed8505">AT_LOGIN_RESET_PET_TALENTS</a>))</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        <a class="code" href="classPet.html#ab1abe749d93699ce7b7fba55403796c1">Pet::resetTalentsForAllPetsOf</a>(pCurrChar);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160; </div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="comment">// Load pet if any (if player not alive and in taxi flight or another then pet will remember as temporary unsummoned)</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    pCurrChar-&gt;<a class="code" href="classPlayer.html#aa2abf3e96ea129f9c386b15de2b78a90">LoadPet</a>();</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="comment">// Set FFA PvP for non GM in non-rest mode</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.IsFFAPvPRealm() &amp;&amp; !pCurrChar-&gt;<a class="code" href="classPlayer.html#a9f23cae8a3da0345a05c2a2bfedc2fe2">IsGameMaster</a>() &amp;&amp; !pCurrChar-&gt;<a class="code" href="classObject.html#acf64820d3725a37cef2c63f0baa820e7">HasFlag</a>(<a class="code" href="UpdateFields_8h.html#a0e42dc606678c9df7884e1aad621e881a65a8142f4727b52425e593eb2727d9f4">PLAYER_FLAGS</a>, <a class="code" href="Player_8h.html#a486dd000e9a9532459d9dd9010570621a73d7f97ed3311ab8d4adc27637e12c74">PLAYER_FLAGS_RESTING</a>))</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        pCurrChar-&gt;<a class="code" href="classUnit.html#a8013081555f55a6ae6bd0a10e5e37c83">SetPvPFreeForAll</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160; </div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="keywordflow">if</span> (pCurrChar-&gt;<a class="code" href="classObject.html#acf64820d3725a37cef2c63f0baa820e7">HasFlag</a>(<a class="code" href="UpdateFields_8h.html#a0e42dc606678c9df7884e1aad621e881a65a8142f4727b52425e593eb2727d9f4">PLAYER_FLAGS</a>, <a class="code" href="Player_8h.html#a486dd000e9a9532459d9dd9010570621a41798f78d62382fc517da86534ad7191">PLAYER_FLAGS_CONTESTED_PVP</a>))</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        pCurrChar-&gt;<a class="code" href="classPlayer.html#a7a3890d188f59bb481d316b5219fb998">UpdatePvPContested</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="comment">// Apply at_login requests</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="keywordflow">if</span> (pCurrChar-&gt;<a class="code" href="classPlayer.html#acab761654ec528fb7c3bc77fc28a25bd">HasAtLoginFlag</a>(<a class="code" href="Player_8h.html#aa6b2dcfd7e0c4f62b238241afe792fcba0e52bd573c6218d6fd8b712f4453f8b9">AT_LOGIN_RESET_SPELLS</a>))</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        pCurrChar-&gt;<a class="code" href="classPlayer.html#af844c9dfab333ce6bb51a81ce88647b0">resetSpells</a>();</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        <a class="code" href="classWorldSession.html#a25cfeb6fbef3f5e939aa08dc5d12a407">SendNotification</a>(<a class="code" href="Language_8h.html#a1543d0f7021d0539b145b8297818fa51a6122c1323f5e1c30c15c8834d04ccabd">LANG_RESET_SPELLS</a>);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    }</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160; </div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="keywordflow">if</span> (pCurrChar-&gt;<a class="code" href="classPlayer.html#acab761654ec528fb7c3bc77fc28a25bd">HasAtLoginFlag</a>(<a class="code" href="Player_8h.html#aa6b2dcfd7e0c4f62b238241afe792fcba06050e392f96594aa17d23cb85ec5a22">AT_LOGIN_RESET_TALENTS</a>))</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    {</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        pCurrChar-&gt;<a class="code" href="classPlayer.html#a10e0fd65ef0d0c9a73107e398622b5c6">resetTalents</a>(<span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        pCurrChar-&gt;<a class="code" href="classPlayer.html#a134bcbd463d0048b59372a89f6c455af">SendTalentsInfoData</a>(<span class="keyword">false</span>);              <span class="comment">// original talents send already in to SendInitialPacketsBeforeAddToMap, resend reset state</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        <a class="code" href="classWorldSession.html#a25cfeb6fbef3f5e939aa08dc5d12a407">SendNotification</a>(<a class="code" href="Language_8h.html#a1543d0f7021d0539b145b8297818fa51a64be7e62d3615f80de06487ac493a856">LANG_RESET_TALENTS</a>);               <span class="comment">// we can use SMSG_TALENTS_INVOLUNTARILY_RESET here</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    }</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="comment">// handle deserter flag for those who dared to leave their team in fight</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="keywordflow">if</span> (pCurrChar-&gt;<a class="code" href="classPlayer.html#acab761654ec528fb7c3bc77fc28a25bd">HasAtLoginFlag</a>(<a class="code" href="Player_8h.html#aa6b2dcfd7e0c4f62b238241afe792fcbab1cdcda67ed00b6727eb694f674c77d3">AT_LOGIN_ADD_BG_DESERTER</a>))</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    {</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        pCurrChar-&gt;<a class="code" href="classUnit.html#a211876b6b1dcea2eedcc52e754093d70">CastSpell</a>(pCurrChar, <a class="code" href="SharedDefines_8h.html#a80b3905d2615c2829c18e4dc36002a30">SPELL_ID_BATTLEGROUND_DESERTER</a>, <a class="code" href="SpellDefines_8h.html#a8512d8ac830d80360b33fa46dc884a29ab89fa5cc12475f894d85c381bed7a2f2">TRIGGERED_OLD_TRIGGERED</a>);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        pCurrChar-&gt;<a class="code" href="classPlayer.html#a6ce4d8eb68a5e4a1a656ebfac0a7653a">RemoveAtLoginFlag</a>(<a class="code" href="Player_8h.html#aa6b2dcfd7e0c4f62b238241afe792fcbab1cdcda67ed00b6727eb694f674c77d3">AT_LOGIN_ADD_BG_DESERTER</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    }</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160; </div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keywordflow">if</span> (pCurrChar-&gt;<a class="code" href="classPlayer.html#acab761654ec528fb7c3bc77fc28a25bd">HasAtLoginFlag</a>(<a class="code" href="Player_8h.html#aa6b2dcfd7e0c4f62b238241afe792fcba4b2a7846f45f972592720b65283099a5">AT_LOGIN_RESET_TAXINODES</a>))</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    {</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        pCurrChar-&gt;<a class="code" href="classPlayer.html#a89f4e35a51862a89983ee51f3188f550">InitTaxiNodesForLevel</a>();</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        pCurrChar-&gt;<a class="code" href="classPlayer.html#a6ce4d8eb68a5e4a1a656ebfac0a7653a">RemoveAtLoginFlag</a>(<a class="code" href="Player_8h.html#aa6b2dcfd7e0c4f62b238241afe792fcba4b2a7846f45f972592720b65283099a5">AT_LOGIN_RESET_TAXINODES</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        <a class="code" href="classWorldSession.html#a25cfeb6fbef3f5e939aa08dc5d12a407">SendNotification</a>(<span class="stringliteral">&quot;Your taxi nodes have been reset.&quot;</span>);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    }</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keywordflow">if</span> (pCurrChar-&gt;<a class="code" href="classPlayer.html#acab761654ec528fb7c3bc77fc28a25bd">HasAtLoginFlag</a>(<a class="code" href="Player_8h.html#aa6b2dcfd7e0c4f62b238241afe792fcba603335736eef48aeea31b0efd812373d">AT_LOGIN_FIRST</a>))</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        pCurrChar-&gt;<a class="code" href="classPlayer.html#a6ce4d8eb68a5e4a1a656ebfac0a7653a">RemoveAtLoginFlag</a>(<a class="code" href="Player_8h.html#aa6b2dcfd7e0c4f62b238241afe792fcba603335736eef48aeea31b0efd812373d">AT_LOGIN_FIRST</a>);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="comment">// show time before shutdown if shutdown planned.</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.IsShutdowning())</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        <a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.ShutdownMsg(<span class="keyword">true</span>, pCurrChar);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160; </div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.getConfig(<a class="code" href="group__world.html#gga0400d571bb6627ef2b170a4e0dc846cdace6b65e81ecbbcdfcdfea4d754ff5516">CONFIG_BOOL_ALL_TAXI_PATHS</a>))</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        pCurrChar-&gt;<a class="code" href="classPlayer.html#ada2b3bd00f67c2688090c371e7d01bb5">SetTaxiCheater</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160; </div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="keywordflow">if</span> (pCurrChar-&gt;<a class="code" href="classPlayer.html#a9f23cae8a3da0345a05c2a2bfedc2fe2">IsGameMaster</a>())</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        <a class="code" href="classWorldSession.html#a25cfeb6fbef3f5e939aa08dc5d12a407">SendNotification</a>(<a class="code" href="Language_8h.html#a1543d0f7021d0539b145b8297818fa51af28271ee8208028fe1f8bb1b12169578">LANG_GM_ON</a>);</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160; </div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keywordflow">if</span> (!pCurrChar-&gt;<a class="code" href="classPlayer.html#a1b47c641fe0c837c6a39ac8b01022600">isGMVisible</a>())</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    {</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        <a class="code" href="classWorldSession.html#a25cfeb6fbef3f5e939aa08dc5d12a407">SendNotification</a>(<a class="code" href="Language_8h.html#a1543d0f7021d0539b145b8297818fa51a13db3bb699002f2fac00364947ed4ec8">LANG_INVISIBLE_INVISIBLE</a>);</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        <a class="code" href="structSpellEntry.html">SpellEntry</a> <span class="keyword">const</span>* invisibleAuraInfo = <a class="code" href="SQLStorages_8cpp.html#a6e07b93ae2737d35f4214041a6f735f4">sSpellTemplate</a>.<a class="code" href="classSQLStorage.html#ace42ec0424ef41d187eb7c1bdcfa8c62">LookupEntry</a>&lt;<a class="code" href="structSpellEntry.html">SpellEntry</a>&gt;(<a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.getConfig(<a class="code" href="group__world.html#gga89a532a320ff8bd5866836fee5541232abf5e00a865b3278fa548f77b9f0c15e4">CONFIG_UINT32_GM_INVISIBLE_AURA</a>));</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        <span class="keywordflow">if</span> (invisibleAuraInfo &amp;&amp; <a class="code" href="SpellMgr_8h.html#a11f87f40d3653c7085578227da35a538">IsSpellAppliesAura</a>(invisibleAuraInfo))</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;            pCurrChar-&gt;<a class="code" href="classUnit.html#a211876b6b1dcea2eedcc52e754093d70">CastSpell</a>(pCurrChar, invisibleAuraInfo, <a class="code" href="SpellDefines_8h.html#a8512d8ac830d80360b33fa46dc884a29ab89fa5cc12475f894d85c381bed7a2f2">TRIGGERED_OLD_TRIGGERED</a>);</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    }</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160; </div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <a class="code" href="Log_8h.html#ab5487500f5b4b12072043104b916d582">sLog</a>.outChar(<span class="stringliteral">&quot;Account: %d (IP: %s) Login Character:[%s] (guid: %u)&quot;</span>,</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                 <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>(), <a class="code" href="classWorldSession.html#af6e608cecc30614e007a88e3362f9ed6">GetRemoteAddress</a>().c_str(), pCurrChar-&gt;<a class="code" href="classWorldObject.html#af60e24425abfff16a925c7b5808d8b38">GetName</a>(), pCurrChar-&gt;<a class="code" href="classObject.html#a4777844356842a389621c1bad1433109">GetGUIDLow</a>());</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160; </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="keywordflow">if</span> (!pCurrChar-&gt;<a class="code" href="classUnit.html#a66120644adf09a45c139d48d4e4dce5b">IsStandState</a>() &amp;&amp; !pCurrChar-&gt;<a class="code" href="classUnit.html#a9731c4b138baf4f2f4e9ff97f1c11dc0">IsStunned</a>())</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        pCurrChar-&gt;<a class="code" href="classUnit.html#abb79712b4352c29254d80b3072ba9956">SetStandState</a>(<a class="code" href="group__game.html#gga809d475cf0ffeaa1ddad86f73e24a7c1ae36b6864d89399e04b14123d3194e224">UNIT_STAND_STATE_STAND</a>);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160; </div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <a class="code" href="classWorldSession.html#a4468ba5e2473de51ebaa0e7e1d2e9e14">m_playerLoading</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160; </div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <span class="comment">// Handle Login-Achievements (should be handled after loading)</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    pCurrChar-&gt;<a class="code" href="classPlayer.html#ac6351ac9ee0e10224edb31cef32292e9">GetAchievementMgr</a>().<a class="code" href="classAchievementMgr.html#a78368ea82c1c770933b636e1a2343e8e">UpdateAchievementCriteria</a>(<a class="code" href="DBCEnums_8h.html#a796cde2fc6e2eaed4c657203ed43cd19af77990a0d7a71b2932381512ca88eaf2">ACHIEVEMENT_CRITERIA_TYPE_ON_LOGIN</a>, 1);</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160; </div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keyword">delete</span> holder;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;}</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160; </div>
<div class="line"><a name="l00953"></a><span class="lineno"><a class="line" href="classWorldSession.html#a10d7c2283c9d5f90922d1b6b519af70e">  953</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a10d7c2283c9d5f90922d1b6b519af70e">WorldSession::HandlePlayerReconnect</a>()</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;{</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="comment">// stop logout timer if need</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <a class="code" href="classWorldSession.html#aa2d4260ff3d726ac5f3ed1fcba6b118d">LogoutRequest</a>(0);</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160; </div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="comment">// if DC during cinematic - just stop it</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a51b251222aee52825d8cca5597c11c57">getCinematic</a>() != 0)</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a614350cecee47508508d9a1c683f96a6">StopCinematic</a>();</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160; </div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="comment">// silently kick from chat channels player lists to allow reconnect correctly</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a04c51185abf2bf437016e97f4d79b2bc">CleanupChannels</a>();</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160; </div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="comment">// set loading flag</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <a class="code" href="classWorldSession.html#a4468ba5e2473de51ebaa0e7e1d2e9e14">m_playerLoading</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="comment">// reset all visible objects to be able to resend them</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> guid : <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a2d66ff121460f8923f1e4f4f7a4f1736">m_clientGUIDs</a>)</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    {</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classWorldObject.html">WorldObject</a>* <span class="keywordtype">object</span> = <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classWorldObject.html#a76c507a1b3adcebf2732572bc6b67fe0">GetMap</a>()-&gt;<a class="code" href="classMap.html#a7f47c1b7efbaada5de480afb5d9c48a1">GetWorldObject</a>(guid))</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            <span class="keywordtype">object</span>-&gt;RemoveClientIAmAt(<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>);</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a2d66ff121460f8923f1e4f4f7a4f1736">m_clientGUIDs</a>.clear();</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160; </div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <a class="code" href="classWorldSession.html#a8ebfff411a3cb135670d5a418e7b85c5">m_initialZoneUpdated</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160; </div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <a class="code" href="classWorldSession.html#a4a3d581db50d5638253340fa4375b3cc">SetOnline</a>();</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <a class="code" href="classWorldSession.html#a5c059cf7f3ade617eb581df7c15d2c20">m_anticheat</a>-&gt;NewPlayer();</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160; </div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <a class="code" href="classGroup.html">Group</a>* group = <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a3acf7eadb0ec1ae686858ea11ee87302">GetGroup</a>();</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160; </div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a4d56d9b5b5047d2db579bfcdb72f819d">SendDungeonDifficulty</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a1f1b62c81bf8f997e1829cd81369ec16">SendRaidDifficulty</a>(<span class="keyword">false</span>, <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a0a8049df86707056ac7d376363e8a3da">GetRaidDifficulty</a>());</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160; </div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacaacceaef4729621e401e4d87b6acafb26">SMSG_LOGIN_VERIFY_WORLD</a>, 20);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    data &lt;&lt; <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classWorldObject.html#a485ded18163bda1b789be2283781780e">GetMapId</a>();</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    data &lt;&lt; <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classWorldObject.html#aa66c526ae67a978c3c8abfef4e45df50">GetPositionX</a>();</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    data &lt;&lt; <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classWorldObject.html#a950bb10c341d39dff61c394009860ac3">GetPositionY</a>();</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    data &lt;&lt; <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classWorldObject.html#a9c900e733e0e4b039682234dd9514a7e">GetPositionZ</a>();</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    data &lt;&lt; <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classWorldObject.html#ab6ca0a11a0d2bb8a7ec0110adb732857">GetOrientation</a>();</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160; </div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <a class="code" href="classWorldSession.html#ad146e22917545a0ef3264bc70e7534e1">SendAccountDataTimes</a>(<a class="code" href="group__u2w.html#ga38a03c6cd9103a9891842f233758fbe7">PER_CHARACTER_CACHE_MASK</a>);</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    data.<a class="code" href="classWorldPacket.html#a59f4f321e9acdb083f31cc54f1203b21">Initialize</a>(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacaff9b8362a8981b8728f4d5288f00a21a">SMSG_FEATURE_SYSTEM_STATUS</a>, 2);         <span class="comment">// added in 2.2.0</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(2);                                       <span class="comment">// Can complain (0 = disabled, 1 = enabled, don&#39;t auto ignore, 2 = enabled, auto ignore)</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(0);                                       <span class="comment">// Voice chat is enabled</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160; </div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <span class="comment">// Send Spam records</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <a class="code" href="classWorldSession.html#a24565a748dd8dcc1b1adbcaf8ac399c3">SendExpectedSpamRecords</a>();</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <a class="code" href="classWorldSession.html#adc205d8d639afd785c297c7049083e4e">SendMotd</a>();</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160; </div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <a class="code" href="classWorldSession.html#a8255ed0fb321832a76515274cd234922">SendOfflineNameQueryResponses</a>();</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160; </div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a1e02f2ed117ad96e188ed48c2507869b">GetGuildId</a>() != 0)</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    {</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        <a class="code" href="classGuild.html">Guild</a>* guild = <a class="code" href="GuildMgr_8h.html#aef171903a38e30c347ff11360f682f81">sGuildMgr</a>.GetGuildById(<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a1e02f2ed117ad96e188ed48c2507869b">GetGuildId</a>());</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        <span class="keywordflow">if</span> (guild)</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        {</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            data.<a class="code" href="classWorldPacket.html#a59f4f321e9acdb083f31cc54f1203b21">Initialize</a>(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca97b3530c52250d072799957703492dc3">SMSG_GUILD_EVENT</a>, (1 + 1 + guild-&gt;<a class="code" href="classGuild.html#ae01e6c7f19f1ac29bd95b7e848337472">GetMOTD</a>().size() + 1));</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code" href="Guild_8h.html#a06a0aa0a30a110150b9f76a3be9ee59daab7edbe172dab4cd9f3a08e9d735421a">GE_MOTD</a>);</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;            data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(1);</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            data &lt;&lt; guild-&gt;<a class="code" href="classGuild.html#ae01e6c7f19f1ac29bd95b7e848337472">GetMOTD</a>();</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            <a class="code" href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a>(<span class="stringliteral">&quot;WORLD: Sent guild-motd (SMSG_GUILD_EVENT)&quot;</span>);</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160; </div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;            guild-&gt;<a class="code" href="classGuild.html#afc4606bddd3b65dd670327ffef34a0e1">BroadcastEvent</a>(<a class="code" href="Guild_8h.html#a06a0aa0a30a110150b9f76a3be9ee59dae1b52b8ecf858eb756e92de351ffecf4">GE_SIGNED_ON</a>, <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classObject.html#ae7e0c11556aeda48ab347a56b6b7bd6a">GetObjectGuid</a>(), <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classWorldObject.html#af60e24425abfff16a925c7b5808d8b38">GetName</a>());</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        }</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;            <span class="comment">// remove wrong guild data</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;            <a class="code" href="Log_8h.html#ab5487500f5b4b12072043104b916d582">sLog</a>.outError(<span class="stringliteral">&quot;Player %s (GUID: %u) marked as member of nonexistent guild (id: %u), removing guild membership for player.&quot;</span>, <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classWorldObject.html#af60e24425abfff16a925c7b5808d8b38">GetName</a>(), <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classObject.html#a4777844356842a389621c1bad1433109">GetGUIDLow</a>(), <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a1e02f2ed117ad96e188ed48c2507869b">GetGuildId</a>());</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;            <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a9186114e20c2bd7ab82ab69956748d6c">SetInGuild</a>(0);</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        }</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    }</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160; </div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classUnit.html#a5ea3f54af571493f7889220724667189">IsAlive</a>())</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a0e2828d6c8499db29934f3424d8484e4">SendCorpseReclaimDelay</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160; </div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    data.<a class="code" href="classWorldPacket.html#a59f4f321e9acdb083f31cc54f1203b21">Initialize</a>(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca783d126c55ca5fa28a3a2d3e28409ce7">SMSG_LEARNED_DANCE_MOVES</a>, 4 + 4);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160; </div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a53e1db7bde15cef472a6db923d4e79fa">SendInitialPacketsBeforeAddToMap</a>();</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160; </div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classWorldObject.html#a76c507a1b3adcebf2732572bc6b67fe0">GetMap</a>()-&gt;<a class="code" href="classMap.html#a268ac27873ee35c75c578e5c4d04bdc5">CreatePlayerOnClient</a>(<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keywordflow">if</span> (group)</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        group-&gt;<a class="code" href="classGroup.html#a7d9770739b386d71eacc7c4efa8c9fe5">SendUpdateTo</a>(<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160; </div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#aa12e2a41dd622b255da7e7874145e1bc">GetSocial</a>()-&gt;<a class="code" href="classPlayerSocial.html#a28a7032c4f34e3bfa767a35003e8b3a7">SendSocialList</a>();</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> areaId = 0;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zoneId = 0;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classWorldObject.html#ae1a8efe701e885f0ed1eaeb93bbece8e">GetZoneAndAreaId</a>(zoneId, areaId);</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#ac869ebf7ab6ba7686d77c7407ece3d04">SendInitWorldStates</a>(zoneId, areaId);</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classUnit.html#a211876b6b1dcea2eedcc52e754093d70">CastSpell</a>(<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>, 836, <a class="code" href="SpellDefines_8h.html#a8512d8ac830d80360b33fa46dc884a29ab89fa5cc12475f894d85c381bed7a2f2">TRIGGERED_OLD_TRIGGERED</a>);       <span class="comment">// LOGINEFFECT</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#abbf043a7330affa865b3d56730376f3a">SendEnchantmentDurations</a>();                             <span class="comment">// must be after add to map</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#ae1d1899fa6df13292b3d0672e4ce5ebe">SendItemDurations</a>();                                    <span class="comment">// must be after add to map</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160; </div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="comment">// Send friend list online status for other players</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <a class="code" href="SocialMgr_8h.html#a92fb5a2c05247f56e16516cd911d570c">sSocialMgr</a>.SendFriendStatus(<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>, <a class="code" href="SocialMgr_8h.html#a9f322d367078b307f6ad7a9938ba9428a203bccef891dbbf575e4c76373f0f19d">FRIEND_ONLINE</a>, <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classObject.html#ae7e0c11556aeda48ab347a56b6b7bd6a">GetObjectGuid</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160; </div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <span class="comment">// GM ticket notifications</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <a class="code" href="GMTicketMgr_8h.html#a20db6dadbe20767eb03327894588c7be">sTicketMgr</a>.OnPlayerOnlineState(*<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160; </div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="comment">// show time before shutdown if shutdown planned.</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.IsShutdowning())</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        <a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.ShutdownMsg(<span class="keyword">true</span>, <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160; </div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.getConfig(<a class="code" href="group__world.html#gga0400d571bb6627ef2b170a4e0dc846cdace6b65e81ecbbcdfcdfea4d754ff5516">CONFIG_BOOL_ALL_TAXI_PATHS</a>))</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#ada2b3bd00f67c2688090c371e7d01bb5">SetTaxiCheater</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160; </div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a9f23cae8a3da0345a05c2a2bfedc2fe2">IsGameMaster</a>())</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        <a class="code" href="classWorldSession.html#a25cfeb6fbef3f5e939aa08dc5d12a407">SendNotification</a>(<a class="code" href="Language_8h.html#a1543d0f7021d0539b145b8297818fa51af28271ee8208028fe1f8bb1b12169578">LANG_GM_ON</a>);</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160; </div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    std::string IP_str = <a class="code" href="classWorldSession.html#af6e608cecc30614e007a88e3362f9ed6">GetRemoteAddress</a>();</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <a class="code" href="Log_8h.html#ab5487500f5b4b12072043104b916d582">sLog</a>.outChar(<span class="stringliteral">&quot;Account: %d (IP: %s) Login Character:[%s] (guid: %u)&quot;</span>,</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>(), IP_str.c_str(), <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classWorldObject.html#af60e24425abfff16a925c7b5808d8b38">GetName</a>(), <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classObject.html#a4777844356842a389621c1bad1433109">GetGUIDLow</a>());</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160; </div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    <span class="comment">// sync client auras timer</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#ad0457921cdd5c6a19c3bbd08c8e2371c">UpdateClientAuras</a>();</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <span class="comment">// sync client control (if taxi flying the client is already sync)</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classUnit.html#a598220bd7032e604abfdb838b9d60f66">IsTaxiFlying</a>())</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#af65f1b1b6e05c2db9fc94ed27948d9ae">TaxiFlightResume</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classUnit.html#a5861302a7c0e64113cfc5bc6d5660fa4">IsClientControlled</a>(<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>))</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#ab098f1496ff1cd35c68d8bf625a1bc13">UpdateClientControl</a>(<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160; </div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <span class="comment">// initialize client pet bar if need</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a21d0d74ce120e8af04f6ef29f9b18bac">SendPetBar</a>();</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160; </div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="comment">// send mirror timers</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a7fd9ab1a44ca7503596a254522533528">SendMirrorTimers</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160; </div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classUnit.html#a66120644adf09a45c139d48d4e4dce5b">IsStandState</a>() &amp;&amp; !<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classUnit.html#a9731c4b138baf4f2f4e9ff97f1c11dc0">IsStunned</a>())</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classUnit.html#abb79712b4352c29254d80b3072ba9956">SetStandState</a>(<a class="code" href="group__game.html#gga809d475cf0ffeaa1ddad86f73e24a7c1ae36b6864d89399e04b14123d3194e224">UNIT_STAND_STATE_STAND</a>);</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="comment">// Undo flags and states set by logout if present:</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classUnit.html#a16c11cd0fdc3d5eff1759e7aa191fe89">SetStunnedByLogout</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160; </div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <a class="code" href="classWorldSession.html#a4468ba5e2473de51ebaa0e7e1d2e9e14">m_playerLoading</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;}</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160; </div>
<div class="line"><a name="l01097"></a><span class="lineno"><a class="line" href="classWorldSession.html#a9c6e99a26383d28f378bac3a488b97ba"> 1097</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a9c6e99a26383d28f378bac3a488b97ba">WorldSession::HandleSetFactionAtWarOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; recv_data)</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;{</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <a class="code" href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a>(<span class="stringliteral">&quot;WORLD: Received opcode CMSG_SET_FACTION_ATWAR&quot;</span>);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160; </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> repListID;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>  flag;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160; </div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    recv_data &gt;&gt; repListID;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    recv_data &gt;&gt; flag;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160; </div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <a class="code" href="classWorldSession.html#ae448834fe91656409fc30f46d11e2481">GetPlayer</a>()-&gt;<a class="code" href="classPlayer.html#a06adafbf0eb3a828dfc0049cc81ca31c">GetReputationMgr</a>().<a class="code" href="classReputationMgr.html#a58f870fddc369974199f4cc8305cad74">SetAtWar</a>(repListID, flag != 0);</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;}</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160; </div>
<div class="line"><a name="l01110"></a><span class="lineno"><a class="line" href="classWorldSession.html#a730d1bccf7b7f889892938cef23f5756"> 1110</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a730d1bccf7b7f889892938cef23f5756">WorldSession::HandleTutorialFlagOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; recv_data)</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;{</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> iFlag;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    recv_data &gt;&gt; iFlag;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160; </div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> wInt = (iFlag / 32);</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="keywordflow">if</span> (wInt &gt;= 8)</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    {</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        <span class="comment">// sLog.outError(&quot;CHEATER? Account:[%d] Guid[%u] tried to send wrong CMSG_TUTORIAL_FLAG&quot;, GetAccountId(),GetGUID());</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    }</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> rInt = (iFlag % 32);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160; </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> tutflag = <a class="code" href="classWorldSession.html#a58f0fa41509b5c906e9ec11e2bfd1ae5">GetTutorialInt</a>(wInt);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    tutflag |= (1 &lt;&lt; rInt);</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <a class="code" href="classWorldSession.html#ae08873f763d3f6230f0117601a77e3f0">SetTutorialInt</a>(wInt, tutflag);</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160; </div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="comment">// DEBUG_LOG(&quot;Received Tutorial Flag Set {%u}.&quot;, iFlag);</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;}</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160; </div>
<div class="line"><a name="l01130"></a><span class="lineno"><a class="line" href="classWorldSession.html#a8fee661e39e14c3bcb35189731d32b9d"> 1130</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a8fee661e39e14c3bcb35189731d32b9d">WorldSession::HandleTutorialClearOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; <span class="comment">/*recv_data*/</span>)</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;{</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 8; ++i)</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        <a class="code" href="classWorldSession.html#ae08873f763d3f6230f0117601a77e3f0">SetTutorialInt</a>(i, 0xFFFFFFFF);</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;}</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160; </div>
<div class="line"><a name="l01136"></a><span class="lineno"><a class="line" href="classWorldSession.html#a9f750558e9fd10f5096bfa0a5108b05a"> 1136</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a9f750558e9fd10f5096bfa0a5108b05a">WorldSession::HandleTutorialResetOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; <span class="comment">/*recv_data*/</span>)</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;{</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 8; ++i)</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        <a class="code" href="classWorldSession.html#ae08873f763d3f6230f0117601a77e3f0">SetTutorialInt</a>(i, 0x00000000);</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;}</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160; </div>
<div class="line"><a name="l01142"></a><span class="lineno"><a class="line" href="classWorldSession.html#a83ccce60b4ba2b7d65097dec043bc73f"> 1142</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a83ccce60b4ba2b7d65097dec043bc73f">WorldSession::HandleSetWatchedFactionOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; recv_data)</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;{</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <a class="code" href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a>(<span class="stringliteral">&quot;WORLD: Received opcode CMSG_SET_WATCHED_FACTION&quot;</span>);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <a class="code" href="Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> repId;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    recv_data &gt;&gt; repId;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <a class="code" href="classWorldSession.html#ae448834fe91656409fc30f46d11e2481">GetPlayer</a>()-&gt;<a class="code" href="classObject.html#a1dd144f55a02384903919242dbf17505">SetInt32Value</a>(<a class="code" href="UpdateFields_8h.html#a0e42dc606678c9df7884e1aad621e881aac0cc1812ae806f2e6a59d09c5531d1d">PLAYER_FIELD_WATCHED_FACTION_INDEX</a>, repId);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;}</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160; </div>
<div class="line"><a name="l01150"></a><span class="lineno"><a class="line" href="classWorldSession.html#a516d5a9c21e771938aed3adf66743782"> 1150</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a516d5a9c21e771938aed3adf66743782">WorldSession::HandleSetFactionInactiveOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; recv_data)</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;{</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <a class="code" href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a>(<span class="stringliteral">&quot;WORLD: Received opcode CMSG_SET_FACTION_INACTIVE&quot;</span>);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> replistid;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> inactive;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    recv_data &gt;&gt; replistid &gt;&gt; inactive;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160; </div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a06adafbf0eb3a828dfc0049cc81ca31c">GetReputationMgr</a>().<a class="code" href="classReputationMgr.html#af67314d7007c3b81130dd1e47c479d7d">SetInactive</a>(replistid, inactive != 0);</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;}</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"><a class="line" href="classWorldSession.html#a037c12aed6ed5ef982a25682f19316e9"> 1160</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a037c12aed6ed5ef982a25682f19316e9">WorldSession::HandleShowingHelmOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; <span class="comment">/*recv_data*/</span>)</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;{</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <a class="code" href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a>(<span class="stringliteral">&quot;CMSG_SHOWING_HELM for %s&quot;</span>, <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classWorldObject.html#af60e24425abfff16a925c7b5808d8b38">GetName</a>());</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classObject.html#ae6d7d519332f6d82f25286070ed351b1">ToggleFlag</a>(<a class="code" href="UpdateFields_8h.html#a0e42dc606678c9df7884e1aad621e881a65a8142f4727b52425e593eb2727d9f4">PLAYER_FLAGS</a>, <a class="code" href="Player_8h.html#a486dd000e9a9532459d9dd9010570621a9e11b33b95bd42aca29ab5133c3a1458">PLAYER_FLAGS_HIDE_HELM</a>);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;}</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160; </div>
<div class="line"><a name="l01166"></a><span class="lineno"><a class="line" href="classWorldSession.html#a24890a3e19f87de8527150838b6d1498"> 1166</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a24890a3e19f87de8527150838b6d1498">WorldSession::HandleShowingCloakOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; <span class="comment">/*recv_data*/</span>)</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;{</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <a class="code" href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a>(<span class="stringliteral">&quot;CMSG_SHOWING_CLOAK for %s&quot;</span>, <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classWorldObject.html#af60e24425abfff16a925c7b5808d8b38">GetName</a>());</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classObject.html#ae6d7d519332f6d82f25286070ed351b1">ToggleFlag</a>(<a class="code" href="UpdateFields_8h.html#a0e42dc606678c9df7884e1aad621e881a65a8142f4727b52425e593eb2727d9f4">PLAYER_FLAGS</a>, <a class="code" href="Player_8h.html#a486dd000e9a9532459d9dd9010570621a3bc0762eb887939b2925dc398760df88">PLAYER_FLAGS_HIDE_CLOAK</a>);</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;}</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160; </div>
<div class="line"><a name="l01172"></a><span class="lineno"><a class="line" href="classWorldSession.html#a91b000b80de794cd0323cb238c566240"> 1172</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a91b000b80de794cd0323cb238c566240">WorldSession::HandleCharRenameOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; recv_data)</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;{</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <a class="code" href="classObjectGuid.html">ObjectGuid</a> guid;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    std::string newname;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160; </div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    recv_data &gt;&gt; guid;</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    recv_data &gt;&gt; newname;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160; </div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="comment">// prevent character rename to invalid name</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="ObjectMgr_8cpp.html#ae3678f78a873175a8a779937c1aa599a">normalizePlayerName</a>(newname))</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    {</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca16dd9f8d323296427754d5fac22d22ec">SMSG_CHAR_RENAME</a>, 1);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa41fdb6b918224b5ce47d005e2a093199">CHAR_NAME_NO_NAME</a>);</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    }</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160; </div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> res = <a class="code" href="classObjectMgr.html#a80758dd5cc7374b44e74dffa91313344">ObjectMgr::CheckPlayerName</a>(newname, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <span class="keywordflow">if</span> (res != <a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aafca76ecee9b164b52012ea3427c9a118">CHAR_NAME_SUCCESS</a>)</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    {</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca16dd9f8d323296427754d5fac22d22ec">SMSG_CHAR_RENAME</a>, 1);</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(res);</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    }</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160; </div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="comment">// check name limitations</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classWorldSession.html#a38f29ba7dc5216093dd812cf3e7861df">GetSecurity</a>() == <a class="code" href="Common_8h.html#ad02db78fbe7773265246ca3010f23f6fa5d534fd54528d86d0f997fa130159df0">SEC_PLAYER</a> &amp;&amp; <a class="code" href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>.IsReservedName(newname))</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    {</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca16dd9f8d323296427754d5fac22d22ec">SMSG_CHAR_RENAME</a>, 1);</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa9024b1c807949588cc207e9242002148">CHAR_NAME_RESERVED</a>);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    }</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160; </div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    std::string escaped_newname = newname;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <a class="code" href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a>.<a class="code" href="classDatabase.html#a3ae8fc1a519edd7205cdc708a8949d54">escape_string</a>(escaped_newname);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160; </div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="comment">// make sure that the character belongs to the current account, that rename at login is enabled</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="comment">// and that there is no character with the desired new name</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <a class="code" href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a>.<a class="code" href="classDatabase.html#a7ca2df98b64655a7d7e0cb21bbde220d">AsyncPQuery</a>(&amp;<a class="code" href="classWorldSession.html#a840baddf304dca9623c0398890de0984">WorldSession::HandleChangePlayerNameOpcodeCallBack</a>,</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                                  <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>(), newname,</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                                  <span class="stringliteral">&quot;SELECT guid, name FROM characters WHERE guid = %u AND account = %u AND (at_login &amp; %u) = %u AND NOT EXISTS (SELECT NULL FROM characters WHERE name = &#39;%s&#39;)&quot;</span>,</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                                  guid.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>(), <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>(), <a class="code" href="Player_8h.html#aa6b2dcfd7e0c4f62b238241afe792fcba8785c6f27dffe91968bf6635024169eb">AT_LOGIN_RENAME</a>, <a class="code" href="Player_8h.html#aa6b2dcfd7e0c4f62b238241afe792fcba8785c6f27dffe91968bf6635024169eb">AT_LOGIN_RENAME</a>, escaped_newname.c_str()</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                                 );</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;}</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160; </div>
<div class="line"><a name="l01219"></a><span class="lineno"><a class="line" href="classWorldSession.html#a840baddf304dca9623c0398890de0984"> 1219</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a840baddf304dca9623c0398890de0984">WorldSession::HandleChangePlayerNameOpcodeCallBack</a>(<a class="code" href="classQueryResult.html">QueryResult</a>* result, <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> accountId, std::string newname)</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;{</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <a class="code" href="classWorldSession.html">WorldSession</a>* session = <a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.FindSession(accountId);</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="keywordflow">if</span> (!session)</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    {</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        <span class="keyword">delete</span> result;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    }</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160; </div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    {</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca16dd9f8d323296427754d5fac22d22ec">SMSG_CHAR_RENAME</a>, 1);</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aab3ed2d1de06c181e73e923e49c604552">CHAR_CREATE_ERROR</a>);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        session-&gt;<a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    }</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160; </div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> guidLow = result-&gt;<a class="code" href="classQueryResult.html#ae59bcb12d59b9a369953be91ddb5c446">Fetch</a>()[0].<a class="code" href="classField.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <a class="code" href="classObjectGuid.html">ObjectGuid</a> guid = <a class="code" href="classObjectGuid.html">ObjectGuid</a>(<a class="code" href="ObjectGuid_8h.html#abe8666ac87665ba963053cdd2b014750ac30cd6a15de9e7763b2bcea91be46eb3">HIGHGUID_PLAYER</a>, guidLow);</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    std::string oldname = result-&gt;<a class="code" href="classQueryResult.html#ae59bcb12d59b9a369953be91ddb5c446">Fetch</a>()[1].<a class="code" href="classField.html#ac3fe5bf9cdc61b5be66a4c79598cba5e">GetCppString</a>();</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160; </div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <span class="keyword">delete</span> result;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160; </div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <a class="code" href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a>.<a class="code" href="classDatabase.html#a05a126869fcd32e43c8db16ed63a2591">BeginTransaction</a>();</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <a class="code" href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a>.<a class="code" href="classDatabase.html#a1379d88f95a689d8b6f7ff0fd9215b4d">PExecute</a>(<span class="stringliteral">&quot;UPDATE characters set name = &#39;%s&#39;, at_login = at_login &amp; ~ %u WHERE guid =&#39;%u&#39;&quot;</span>, newname.c_str(), <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(<a class="code" href="Player_8h.html#aa6b2dcfd7e0c4f62b238241afe792fcba8785c6f27dffe91968bf6635024169eb">AT_LOGIN_RENAME</a>), guidLow);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <a class="code" href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a>.<a class="code" href="classDatabase.html#a1379d88f95a689d8b6f7ff0fd9215b4d">PExecute</a>(<span class="stringliteral">&quot;DELETE FROM character_declinedname WHERE guid =&#39;%u&#39;&quot;</span>, guidLow);</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <a class="code" href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a>.<a class="code" href="classDatabase.html#af4d03f875b7540de19eb1e8ccd0fb841">CommitTransaction</a>();</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160; </div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <a class="code" href="Log_8h.html#ab5487500f5b4b12072043104b916d582">sLog</a>.outChar(<span class="stringliteral">&quot;Account: %d (IP: %s) Character:[%s] (guid:%u) Changed name to: %s&quot;</span>, session-&gt;<a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>(), session-&gt;<a class="code" href="classWorldSession.html#af6e608cecc30614e007a88e3362f9ed6">GetRemoteAddress</a>().c_str(), oldname.c_str(), guidLow, newname.c_str());</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160; </div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca16dd9f8d323296427754d5fac22d22ec">SMSG_CHAR_RENAME</a>, 1 + 8 + (newname.size() + 1));</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa7072946507cceb8dcc95d8395d597711">RESPONSE_SUCCESS</a>);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    data &lt;&lt; guid;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    data &lt;&lt; newname;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    session-&gt;<a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160; </div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.InvalidatePlayerDataToAllClient(guid);</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;}</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160; </div>
<div class="line"><a name="l01258"></a><span class="lineno"><a class="line" href="classWorldSession.html#ae7bb39b9517565902c438423dc1d64c0"> 1258</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#ae7bb39b9517565902c438423dc1d64c0">WorldSession::HandleSetPlayerDeclinedNamesOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; recv_data)</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;{</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <a class="code" href="classObjectGuid.html">ObjectGuid</a> guid;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160; </div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    recv_data &gt;&gt; guid;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160; </div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="comment">// not accept declined names for unsupported languages</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    std::string name;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>.GetPlayerNameByGUID(guid, name))</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    {</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca45996e7b0a1054cb166b98ea7c1924e6">SMSG_SET_PLAYER_DECLINED_NAMES_RESULT</a>, 4 + 8);</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(1);</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;        data &lt;&lt; <a class="code" href="classObjectGuid.html">ObjectGuid</a>(guid);</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    }</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160; </div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    std::wstring wname;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="Util_8cpp.html#a6e571df39d8ddcb3889b8805be44872c">Utf8toWStr</a>(name, wname))</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    {</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca45996e7b0a1054cb166b98ea7c1924e6">SMSG_SET_PLAYER_DECLINED_NAMES_RESULT</a>, 4 + 8);</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(1);</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        data &lt;&lt; <a class="code" href="classObjectGuid.html">ObjectGuid</a>(guid);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    }</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160; </div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="Util_8h.html#ae2d53e341b68199f41a9a422da5170c4">isCyrillicCharacter</a>(wname[0]))                     <span class="comment">// name already stored as only single alphabet using</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    {</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca45996e7b0a1054cb166b98ea7c1924e6">SMSG_SET_PLAYER_DECLINED_NAMES_RESULT</a>, 4 + 8);</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(1);</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;        data &lt;&lt; <a class="code" href="classObjectGuid.html">ObjectGuid</a>(guid);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    }</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160; </div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    std::string name2;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <a class="code" href="structDeclinedName.html">DeclinedName</a> declinedname;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160; </div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    recv_data &gt;&gt; name2;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160; </div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="keywordflow">if</span> (name2 != name)                                      <span class="comment">// character have different name</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    {</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca45996e7b0a1054cb166b98ea7c1924e6">SMSG_SET_PLAYER_DECLINED_NAMES_RESULT</a>, 4 + 8);</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(1);</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;        data &lt;&lt; <a class="code" href="classObjectGuid.html">ObjectGuid</a>(guid);</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    }</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160; </div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; i : declinedname.<a class="code" href="structDeclinedName.html#acda589ff9e0fdb0a813707736191d049">name</a>)</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    {</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        recv_data &gt;&gt; i;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="ObjectMgr_8cpp.html#ae3678f78a873175a8a779937c1aa599a">normalizePlayerName</a>(i))</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;        {</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;            <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca45996e7b0a1054cb166b98ea7c1924e6">SMSG_SET_PLAYER_DECLINED_NAMES_RESULT</a>, 4 + 8);</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;            data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(1);</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            data &lt;&lt; <a class="code" href="classObjectGuid.html">ObjectGuid</a>(guid);</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;            <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        }</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    }</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160; </div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classObjectMgr.html#a9083baa829cb9c4eda30c3aea80295dd">ObjectMgr::CheckDeclinedNames</a>(<a class="code" href="Util_8cpp.html#a55673f324a78547e5fbde40994b44a41">GetMainPartOfName</a>(wname, 0), declinedname))</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    {</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca45996e7b0a1054cb166b98ea7c1924e6">SMSG_SET_PLAYER_DECLINED_NAMES_RESULT</a>, 4 + 8);</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(1);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        data &lt;&lt; <a class="code" href="classObjectGuid.html">ObjectGuid</a>(guid);</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    }</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160; </div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; i : declinedname.<a class="code" href="structDeclinedName.html#acda589ff9e0fdb0a813707736191d049">name</a>)</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        <a class="code" href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a>.<a class="code" href="classDatabase.html#a3ae8fc1a519edd7205cdc708a8949d54">escape_string</a>(i);</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160; </div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <a class="code" href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a>.<a class="code" href="classDatabase.html#a05a126869fcd32e43c8db16ed63a2591">BeginTransaction</a>();</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <a class="code" href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a>.<a class="code" href="classDatabase.html#a1379d88f95a689d8b6f7ff0fd9215b4d">PExecute</a>(<span class="stringliteral">&quot;DELETE FROM character_declinedname WHERE guid = &#39;%u&#39;&quot;</span>, guid.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    <a class="code" href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a>.<a class="code" href="classDatabase.html#a1379d88f95a689d8b6f7ff0fd9215b4d">PExecute</a>(<span class="stringliteral">&quot;INSERT INTO character_declinedname (guid, genitive, dative, accusative, instrumental, prepositional) VALUES (&#39;%u&#39;,&#39;%s&#39;,&#39;%s&#39;,&#39;%s&#39;,&#39;%s&#39;,&#39;%s&#39;)&quot;</span>,</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                               guid.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>(), declinedname.<a class="code" href="structDeclinedName.html#acda589ff9e0fdb0a813707736191d049">name</a>[0].c_str(), declinedname.<a class="code" href="structDeclinedName.html#acda589ff9e0fdb0a813707736191d049">name</a>[1].c_str(), declinedname.<a class="code" href="structDeclinedName.html#acda589ff9e0fdb0a813707736191d049">name</a>[2].c_str(), declinedname.<a class="code" href="structDeclinedName.html#acda589ff9e0fdb0a813707736191d049">name</a>[3].c_str(), declinedname.<a class="code" href="structDeclinedName.html#acda589ff9e0fdb0a813707736191d049">name</a>[4].c_str());</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <a class="code" href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a>.<a class="code" href="classDatabase.html#af4d03f875b7540de19eb1e8ccd0fb841">CommitTransaction</a>();</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160; </div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca45996e7b0a1054cb166b98ea7c1924e6">SMSG_SET_PLAYER_DECLINED_NAMES_RESULT</a>, 4 + 8);</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);                                      <span class="comment">// OK</span></div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    data &lt;&lt; <a class="code" href="classObjectGuid.html">ObjectGuid</a>(guid);</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;}</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160; </div>
<div class="line"><a name="l01345"></a><span class="lineno"><a class="line" href="classWorldSession.html#ad86bd9e35adfadaa31941a3ca75cd987"> 1345</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#ad86bd9e35adfadaa31941a3ca75cd987">WorldSession::HandleAlterAppearanceOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; recv_data)</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;{</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <a class="code" href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a>(<span class="stringliteral">&quot;CMSG_ALTER_APPEARANCE&quot;</span>);</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160; </div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> Hair, <a class="code" href="Log_8h.html#ab87bacfdad76e61b9412d7124be44c1c">Color</a>, FacialHair, skinTone;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    recv_data &gt;&gt; Hair &gt;&gt; <a class="code" href="Log_8h.html#ab87bacfdad76e61b9412d7124be44c1c">Color</a> &gt;&gt; FacialHair &gt;&gt; skinTone;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160; </div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> skinTone_id = <span class="keyword">static_cast&lt;</span><a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a><span class="keyword">&gt;</span>(-1);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classUnit.html#aa763cca3344c39360cf4f891300a17df">getRace</a>() == <a class="code" href="SharedDefines_8h.html#abece64758d84aa91fa2b6bb82123cc80af53d3825f30ea6b3545ddc8f8d5e6938">RACE_TAUREN</a>)</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    {</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        <a class="code" href="structBarberShopStyleEntry.html">BarberShopStyleEntry</a> <span class="keyword">const</span>* bs_skinTone = <a class="code" href="DBCStores_8cpp.html#a4eb14e92e737a082363c20bc5490c6a3">sBarberShopStyleStore</a>.LookupEntry(skinTone);</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        <span class="keywordflow">if</span> (!bs_skinTone || bs_skinTone-&gt;<a class="code" href="structBarberShopStyleEntry.html#a289bb362ba13235c754647ba67be1e56">type</a> != 3 || bs_skinTone-&gt;<a class="code" href="structBarberShopStyleEntry.html#a458f5a1e2aca1fd34bb1afadeb5f6db2">race</a> != <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classUnit.html#aa763cca3344c39360cf4f891300a17df">getRace</a>() || bs_skinTone-&gt;<a class="code" href="structBarberShopStyleEntry.html#a571684c3aa6f2b0192b545d2a38ab333">gender</a> != <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classUnit.html#a0d13935c40d0392f7f7b5a34540461b2">getGender</a>())</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        skinTone_id = bs_skinTone-&gt;<a class="code" href="structBarberShopStyleEntry.html#af4646a9adb0a1dc18b34158de2116b84">hair_id</a>;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    }</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160; </div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <a class="code" href="structBarberShopStyleEntry.html">BarberShopStyleEntry</a> <span class="keyword">const</span>* bs_hair = <a class="code" href="DBCStores_8cpp.html#a4eb14e92e737a082363c20bc5490c6a3">sBarberShopStyleStore</a>.LookupEntry(Hair);</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160; </div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="keywordflow">if</span> (!bs_hair || bs_hair-&gt;<a class="code" href="structBarberShopStyleEntry.html#a289bb362ba13235c754647ba67be1e56">type</a> != 0 || bs_hair-&gt;<a class="code" href="structBarberShopStyleEntry.html#a458f5a1e2aca1fd34bb1afadeb5f6db2">race</a> != <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classUnit.html#aa763cca3344c39360cf4f891300a17df">getRace</a>() || bs_hair-&gt;<a class="code" href="structBarberShopStyleEntry.html#a571684c3aa6f2b0192b545d2a38ab333">gender</a> != <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classUnit.html#a0d13935c40d0392f7f7b5a34540461b2">getGender</a>())</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160; </div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <a class="code" href="structBarberShopStyleEntry.html">BarberShopStyleEntry</a> <span class="keyword">const</span>* bs_facialHair = <a class="code" href="DBCStores_8cpp.html#a4eb14e92e737a082363c20bc5490c6a3">sBarberShopStyleStore</a>.LookupEntry(FacialHair);</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160; </div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="keywordflow">if</span> (!bs_facialHair || bs_facialHair-&gt;<a class="code" href="structBarberShopStyleEntry.html#a289bb362ba13235c754647ba67be1e56">type</a> != 2 || bs_facialHair-&gt;<a class="code" href="structBarberShopStyleEntry.html#a458f5a1e2aca1fd34bb1afadeb5f6db2">race</a> != <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classUnit.html#aa763cca3344c39360cf4f891300a17df">getRace</a>() || bs_facialHair-&gt;<a class="code" href="structBarberShopStyleEntry.html#a571684c3aa6f2b0192b545d2a38ab333">gender</a> != <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classUnit.html#a0d13935c40d0392f7f7b5a34540461b2">getGender</a>())</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160; </div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> Cost = <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a8ccdc080ea11f865575a80f28d6dde5c">GetBarberShopCost</a>(bs_hair-&gt;<a class="code" href="structBarberShopStyleEntry.html#af4646a9adb0a1dc18b34158de2116b84">hair_id</a>, <a class="code" href="Log_8h.html#ab87bacfdad76e61b9412d7124be44c1c">Color</a>, bs_facialHair-&gt;<a class="code" href="structBarberShopStyleEntry.html#af4646a9adb0a1dc18b34158de2116b84">hair_id</a>, skinTone_id);</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160; </div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="comment">// 0 - ok</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="comment">// 1,3 - not enough money</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <span class="comment">// 2 - you have to seat on barber chair</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#aa5ecbc83f83472a98aac1cff3497e806">GetMoney</a>() &lt; Cost)</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    {</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacabac4d79fb761c6e2ca111b8dc6ef0215">SMSG_BARBER_SHOP_RESULT</a>, 4);</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(1);                                  <span class="comment">// no money</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    }</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacabac4d79fb761c6e2ca111b8dc6ef0215">SMSG_BARBER_SHOP_RESULT</a>, 4);</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);                                  <span class="comment">// ok</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160; </div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#ab2eee9d5a0dcc1bf22d0d3e1d9db3f44">ModifyMoney</a>(-<a class="code" href="Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(Cost));                     <span class="comment">// it isn&#39;t free</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#ac6351ac9ee0e10224edb31cef32292e9">GetAchievementMgr</a>().<a class="code" href="classAchievementMgr.html#a78368ea82c1c770933b636e1a2343e8e">UpdateAchievementCriteria</a>(<a class="code" href="DBCEnums_8h.html#a796cde2fc6e2eaed4c657203ed43cd19a4ce0e066d22f496d3054d6373b38f9c4">ACHIEVEMENT_CRITERIA_TYPE_GOLD_SPENT_AT_BARBER</a>, Cost);</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160; </div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classObject.html#a0a29933a2da73d788a130f971511f2f5">SetByteValue</a>(<a class="code" href="UpdateFields_8h.html#a0e42dc606678c9df7884e1aad621e881a85e14505eb2118add760b0756dcb95c0">PLAYER_BYTES</a>, 2, <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(bs_hair-&gt;<a class="code" href="structBarberShopStyleEntry.html#af4646a9adb0a1dc18b34158de2116b84">hair_id</a>));</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classObject.html#a0a29933a2da73d788a130f971511f2f5">SetByteValue</a>(<a class="code" href="UpdateFields_8h.html#a0e42dc606678c9df7884e1aad621e881a85e14505eb2118add760b0756dcb95c0">PLAYER_BYTES</a>, 3, <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code" href="Log_8h.html#ab87bacfdad76e61b9412d7124be44c1c">Color</a>));</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classObject.html#a0a29933a2da73d788a130f971511f2f5">SetByteValue</a>(<a class="code" href="UpdateFields_8h.html#a0e42dc606678c9df7884e1aad621e881a4f8a6a5eb8a791757df4a36f5c16ab96">PLAYER_BYTES_2</a>, 0, <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(bs_facialHair-&gt;<a class="code" href="structBarberShopStyleEntry.html#af4646a9adb0a1dc18b34158de2116b84">hair_id</a>));</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classUnit.html#aa763cca3344c39360cf4f891300a17df">getRace</a>() == <a class="code" href="SharedDefines_8h.html#abece64758d84aa91fa2b6bb82123cc80af53d3825f30ea6b3545ddc8f8d5e6938">RACE_TAUREN</a>)</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classObject.html#a0a29933a2da73d788a130f971511f2f5">SetByteValue</a>(<a class="code" href="UpdateFields_8h.html#a0e42dc606678c9df7884e1aad621e881a85e14505eb2118add760b0756dcb95c0">PLAYER_BYTES</a>, 0, <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(skinTone_id));</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160; </div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#ac6351ac9ee0e10224edb31cef32292e9">GetAchievementMgr</a>().<a class="code" href="classAchievementMgr.html#a78368ea82c1c770933b636e1a2343e8e">UpdateAchievementCriteria</a>(<a class="code" href="DBCEnums_8h.html#a796cde2fc6e2eaed4c657203ed43cd19a31c243cad5ab13fcf09fe8047c7eab16">ACHIEVEMENT_CRITERIA_TYPE_VISIT_BARBER_SHOP</a>, 1);</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160; </div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classUnit.html#abb79712b4352c29254d80b3072ba9956">SetStandState</a>(0);                              <span class="comment">// stand up</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;}</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160; </div>
<div class="line"><a name="l01401"></a><span class="lineno"><a class="line" href="classWorldSession.html#a1486aa8ec22b37286f37d3af1a85d68a"> 1401</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a1486aa8ec22b37286f37d3af1a85d68a">WorldSession::HandleRemoveGlyphOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; recv_data)</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;{</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> slot;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    recv_data &gt;&gt; slot;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160; </div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <span class="keywordflow">if</span> (slot &gt;= <a class="code" href="SharedDefines_8h.html#a81bad32063c8fa96f892b95fbcb156ca">MAX_GLYPH_SLOT_INDEX</a>)</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    {</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        <a class="code" href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a>(<span class="stringliteral">&quot;Client sent wrong glyph slot number in opcode CMSG_REMOVE_GLYPH %u&quot;</span>, slot);</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    }</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160; </div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a4b55b85a0c0a94c13e155c7031388757">GetGlyph</a>(slot))</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    {</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;        <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a2ef854a82c818ec024051f3d7683e06c">ApplyGlyph</a>(slot, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#aa4b60d0c4800ec25d0703008f7b5d99e">SetGlyph</a>(slot, 0);</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a134bcbd463d0048b59372a89f6c455af">SendTalentsInfoData</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    }</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;}</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160; </div>
<div class="line"><a name="l01420"></a><span class="lineno"><a class="line" href="classWorldSession.html#a3469eb70c410f08e9ebe33aa6837ee65"> 1420</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a3469eb70c410f08e9ebe33aa6837ee65">WorldSession::HandleCharCustomizeOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; recv_data)</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;{</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    <a class="code" href="classObjectGuid.html">ObjectGuid</a> guid;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    std::string newname;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160; </div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    recv_data &gt;&gt; guid;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    recv_data &gt;&gt; newname;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160; </div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> gender, skin, face, hairStyle, hairColor, facialHair;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    recv_data &gt;&gt; gender &gt;&gt; skin &gt;&gt; hairColor &gt;&gt; hairStyle &gt;&gt; facialHair &gt;&gt; face;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160; </div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <a class="code" href="classQueryResult.html">QueryResult</a>* result = <a class="code" href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a>.<a class="code" href="classDatabase.html#ae9332e6ba803852091f432bc329a62bc">PQuery</a>(<span class="stringliteral">&quot;SELECT at_login FROM characters WHERE guid =&#39;%u&#39;&quot;</span>, guid.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    {</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacacc595f421e93024b09b7c5767c977456">SMSG_CHAR_CUSTOMIZE</a>, 1);</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aab3ed2d1de06c181e73e923e49c604552">CHAR_CREATE_ERROR</a>);</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    }</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160; </div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <a class="code" href="classField.html">Field</a>* fields = result-&gt;<a class="code" href="classQueryResult.html#ae59bcb12d59b9a369953be91ddb5c446">Fetch</a>();</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> at_loginFlags = fields[0].<a class="code" href="classField.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <span class="keyword">delete</span> result;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160; </div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <span class="keywordflow">if</span> (!(at_loginFlags &amp; <a class="code" href="Player_8h.html#aa6b2dcfd7e0c4f62b238241afe792fcba60e88e13de029949c7b0eb3512dfd529">AT_LOGIN_CUSTOMIZE</a>))</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    {</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacacc595f421e93024b09b7c5767c977456">SMSG_CHAR_CUSTOMIZE</a>, 1);</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aab3ed2d1de06c181e73e923e49c604552">CHAR_CREATE_ERROR</a>);</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    }</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160; </div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <span class="comment">// prevent character rename to invalid name</span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="ObjectMgr_8cpp.html#ae3678f78a873175a8a779937c1aa599a">normalizePlayerName</a>(newname))</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    {</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacacc595f421e93024b09b7c5767c977456">SMSG_CHAR_CUSTOMIZE</a>, 1);</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa41fdb6b918224b5ce47d005e2a093199">CHAR_NAME_NO_NAME</a>);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    }</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160; </div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> res = <a class="code" href="classObjectMgr.html#a80758dd5cc7374b44e74dffa91313344">ObjectMgr::CheckPlayerName</a>(newname, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <span class="keywordflow">if</span> (res != <a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aafca76ecee9b164b52012ea3427c9a118">CHAR_NAME_SUCCESS</a>)</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    {</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacacc595f421e93024b09b7c5767c977456">SMSG_CHAR_CUSTOMIZE</a>, 1);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(res);</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    }</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160; </div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <span class="comment">// check name limitations</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classWorldSession.html#a38f29ba7dc5216093dd812cf3e7861df">GetSecurity</a>() == <a class="code" href="Common_8h.html#ad02db78fbe7773265246ca3010f23f6fa5d534fd54528d86d0f997fa130159df0">SEC_PLAYER</a> &amp;&amp; <a class="code" href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>.IsReservedName(newname))</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    {</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacacc595f421e93024b09b7c5767c977456">SMSG_CHAR_CUSTOMIZE</a>, 1);</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa9024b1c807949588cc207e9242002148">CHAR_NAME_RESERVED</a>);</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    }</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160; </div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <span class="comment">// character with this name already exist</span></div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <a class="code" href="classObjectGuid.html">ObjectGuid</a> newguid = <a class="code" href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>.GetPlayerGuidByName(newname);</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <span class="keywordflow">if</span> (newguid &amp;&amp; newguid != guid)</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    {</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacacc595f421e93024b09b7c5767c977456">SMSG_CHAR_CUSTOMIZE</a>, 1);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aaca4b04bb07e94f4bb4445b24fabedca7">CHAR_CREATE_NAME_IN_USE</a>);</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    }</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160; </div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    <a class="code" href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a>.<a class="code" href="classDatabase.html#a3ae8fc1a519edd7205cdc708a8949d54">escape_string</a>(newname);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    <a class="code" href="classPlayer.html#a75da1220ec57e3bf09f3f1be5f787e88">Player::Customize</a>(guid, gender, skin, face, hairStyle, hairColor, facialHair);</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <a class="code" href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a>.<a class="code" href="classDatabase.html#a1379d88f95a689d8b6f7ff0fd9215b4d">PExecute</a>(<span class="stringliteral">&quot;UPDATE characters set name = &#39;%s&#39;, at_login = at_login &amp; ~ %u WHERE guid =&#39;%u&#39;&quot;</span>, newname.c_str(), <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(<a class="code" href="Player_8h.html#aa6b2dcfd7e0c4f62b238241afe792fcba60e88e13de029949c7b0eb3512dfd529">AT_LOGIN_CUSTOMIZE</a>), guid.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <a class="code" href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a>.<a class="code" href="classDatabase.html#a1379d88f95a689d8b6f7ff0fd9215b4d">PExecute</a>(<span class="stringliteral">&quot;DELETE FROM character_declinedname WHERE guid =&#39;%u&#39;&quot;</span>, guid.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160; </div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <a class="code" href="Log_8h.html#ab5487500f5b4b12072043104b916d582">sLog</a>.outChar(<span class="stringliteral">&quot;Account: %d (IP: %s), Character %s customized to: %s&quot;</span>, <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>(), <a class="code" href="classWorldSession.html#af6e608cecc30614e007a88e3362f9ed6">GetRemoteAddress</a>().c_str(), guid.<a class="code" href="classObjectGuid.html#a0eb47d3c61516f4242e8599b55ae755e">GetString</a>().c_str(), newname.c_str());</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160; </div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacacc595f421e93024b09b7c5767c977456">SMSG_CHAR_CUSTOMIZE</a>, 1 + 8 + (newname.size() + 1) + 6);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code" href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa7072946507cceb8dcc95d8395d597711">RESPONSE_SUCCESS</a>);</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    data &lt;&lt; <a class="code" href="classObjectGuid.html">ObjectGuid</a>(guid);</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    data &lt;&lt; newname;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(gender);</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(skin);</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(face);</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(hairStyle);</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(hairColor);</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(facialHair);</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160; </div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.InvalidatePlayerDataToAllClient(guid);</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;}</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160; </div>
<div class="line"><a name="l01511"></a><span class="lineno"><a class="line" href="classWorldSession.html#a52a8c539a52a2c6207cd6435184a553f"> 1511</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a52a8c539a52a2c6207cd6435184a553f">WorldSession::HandleEquipmentSetSaveOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; recv_data)</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;{</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    <a class="code" href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a>(<span class="stringliteral">&quot;CMSG_EQUIPMENT_SET_SAVE&quot;</span>);</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160; </div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <a class="code" href="classObjectGuid.html">ObjectGuid</a> setGuid;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> index;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    std::string name;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    std::string iconName;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160; </div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    recv_data &gt;&gt; setGuid.<a class="code" href="classObjectGuid.html#af2b5cd8ff82b26233adb50a1d8b6cbd9">ReadAsPacked</a>();</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    recv_data &gt;&gt; index;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    recv_data &gt;&gt; name;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    recv_data &gt;&gt; iconName;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160; </div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="keywordflow">if</span> (index &gt;= <a class="code" href="Player_8h.html#a91f270ec47485639c39c9cbe9ddd04f5">MAX_EQUIPMENT_SET_INDEX</a>)                   <span class="comment">// client set slots amount</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160; </div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    <a class="code" href="structEquipmentSet.html">EquipmentSet</a> eqSet;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160; </div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    eqSet.<a class="code" href="structEquipmentSet.html#aae529ea61a2ad4f114b6a108564f5474">Guid</a>      = setGuid.<a class="code" href="classObjectGuid.html#a65626f4640cb4f79c66ce9d5dda8ab27">GetRawValue</a>();</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    eqSet.<a class="code" href="structEquipmentSet.html#a2b4691a1b44ae47e7d3c2e63f88d78ba">Name</a>      = name;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    eqSet.<a class="code" href="structEquipmentSet.html#a40233dfcc23f125ff88693d6c7d7fab5">IconName</a>  = iconName;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    eqSet.<a class="code" href="structEquipmentSet.html#a7e2270a6041dda26f8bc7f8c82597e7f">state</a>     = <a class="code" href="Player_8h.html#a54991a2b7a7195de0963e7133d320655af36236abe76e2b86c45cc165a74a06b0">EQUIPMENT_SET_NEW</a>;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160; </div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code" href="Player_8h.html#a93b8041f948d575ef2d23746324a37afa730f8fcebbadad4d0b2dadc86d8431d9">EQUIPMENT_SLOT_END</a>; ++i)</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    {</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;        <a class="code" href="classObjectGuid.html">ObjectGuid</a> itemGuid;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160; </div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        recv_data &gt;&gt; itemGuid.<a class="code" href="classObjectGuid.html#af2b5cd8ff82b26233adb50a1d8b6cbd9">ReadAsPacked</a>();</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160; </div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        <span class="comment">// equipment manager sends &quot;1&quot; (as raw GUID) for slots set to &quot;ignore&quot; (not touch slot at equip set)</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;        <span class="keywordflow">if</span> (itemGuid.<a class="code" href="classObjectGuid.html#a65626f4640cb4f79c66ce9d5dda8ab27">GetRawValue</a>() == 1)</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        {</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;            <span class="comment">// ignored slots saved as bit mask because we have no free special values for Items[i]</span></div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;            eqSet.<a class="code" href="structEquipmentSet.html#af116e824d23f000f424f3b261618e827">IgnoreMask</a> |= 1 &lt;&lt; i;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        }</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160; </div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        <a class="code" href="classItem.html">Item</a>* item = <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a6e31042962f16c90a443ff772363d22f">GetItemByPos</a>(<a class="code" href="Player_8h.html#ad3dd8ed856e16139eaa67147d40cf24e">INVENTORY_SLOT_BAG_0</a>, i);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160; </div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        <span class="keywordflow">if</span> (!item &amp;&amp; itemGuid)                              <span class="comment">// cheating check 1</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160; </div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        <span class="keywordflow">if</span> (item &amp;&amp; item-&gt;<a class="code" href="classObject.html#ae7e0c11556aeda48ab347a56b6b7bd6a">GetObjectGuid</a>() != itemGuid)      <span class="comment">// cheating check 2</span></div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160; </div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;        eqSet.<a class="code" href="structEquipmentSet.html#a95902ccdc62ff67e6374877a21a09c41">Items</a>[i] = itemGuid.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>();</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    }</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160; </div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#aa353117ee116132b3eecb927f6fdd48f">SetEquipmentSet</a>(index, eqSet);</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;}</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160; </div>
<div class="line"><a name="l01563"></a><span class="lineno"><a class="line" href="classWorldSession.html#a035730564f110faad74aef245f930e42"> 1563</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a035730564f110faad74aef245f930e42">WorldSession::HandleEquipmentSetDeleteOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; recv_data)</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;{</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <a class="code" href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a>(<span class="stringliteral">&quot;CMSG_EQUIPMENT_SET_DELETE&quot;</span>);</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160; </div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <a class="code" href="classObjectGuid.html">ObjectGuid</a> setGuid;</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160; </div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    recv_data &gt;&gt; setGuid.<a class="code" href="classObjectGuid.html#af2b5cd8ff82b26233adb50a1d8b6cbd9">ReadAsPacked</a>();</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160; </div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a6abbe921a0c1584d24a97ccc7cbfc423">DeleteEquipmentSet</a>(setGuid.<a class="code" href="classObjectGuid.html#a65626f4640cb4f79c66ce9d5dda8ab27">GetRawValue</a>());</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;}</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160; </div>
<div class="line"><a name="l01574"></a><span class="lineno"><a class="line" href="classWorldSession.html#a9ff58527e5ea20e6a902d0ad51006662"> 1574</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a9ff58527e5ea20e6a902d0ad51006662">WorldSession::HandleEquipmentSetUseOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; recv_data)</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;{</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <a class="code" href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a>(<span class="stringliteral">&quot;CMSG_EQUIPMENT_SET_USE&quot;</span>);</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    recv_data.<a class="code" href="classByteBuffer.html#a45e6b7d03df82a0be6eab9975193881e">hexlike</a>();</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160; </div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code" href="Player_8h.html#a93b8041f948d575ef2d23746324a37afa730f8fcebbadad4d0b2dadc86d8431d9">EQUIPMENT_SLOT_END</a>; ++i)</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    {</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;        <a class="code" href="classObjectGuid.html">ObjectGuid</a> itemGuid;</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> srcbag, srcslot;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160; </div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;        recv_data &gt;&gt; itemGuid.<a class="code" href="classObjectGuid.html#af2b5cd8ff82b26233adb50a1d8b6cbd9">ReadAsPacked</a>();</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        recv_data &gt;&gt; srcbag &gt;&gt; srcslot;</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160; </div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;        <a class="code" href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a>(<span class="stringliteral">&quot;Item (%s): srcbag %u, srcslot %u&quot;</span>, itemGuid.<a class="code" href="classObjectGuid.html#a0eb47d3c61516f4242e8599b55ae755e">GetString</a>().c_str(), srcbag, srcslot);</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160; </div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;        <span class="comment">// check if item slot is set to &quot;ignored&quot; (raw value == 1), must not be unequipped then</span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        <span class="keywordflow">if</span> (itemGuid.<a class="code" href="classObjectGuid.html#a65626f4640cb4f79c66ce9d5dda8ab27">GetRawValue</a>() == 1)</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160; </div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;        <a class="code" href="classItem.html">Item</a>* item = <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#adf5d2bf68d3caad2202caeb25daadc8e">GetItemByGuid</a>(itemGuid);</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160; </div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;        <a class="code" href="Define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> dstpos = i | (<a class="code" href="Player_8h.html#ad3dd8ed856e16139eaa67147d40cf24e">INVENTORY_SLOT_BAG_0</a> &lt;&lt; 8);</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160; </div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;        <span class="keywordflow">if</span> (!item)</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        {</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;            <a class="code" href="classItem.html">Item</a>* uItem = <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a6e31042962f16c90a443ff772363d22f">GetItemByPos</a>(<a class="code" href="Player_8h.html#ad3dd8ed856e16139eaa67147d40cf24e">INVENTORY_SLOT_BAG_0</a>, i);</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;            <span class="keywordflow">if</span> (!uItem)</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160; </div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;            <a class="code" href="Player_8h.html#a06f492a0a20f5264c8395684220fec84">ItemPosCountVec</a> sDest;</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;            <a class="code" href="Item_8h.html#a73617af2b3e5e935646638fa13678391">InventoryResult</a> msg = <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a3839a0db7911f71e34f92a46a8ceaa6a">CanStoreItem</a>(<a class="code" href="Bag_8h.html#aadcc1e3338f8cbbe511ad060db42dfb5a843659af0a40139bfa505d7e7982477b">NULL_BAG</a>, <a class="code" href="Bag_8h.html#aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130">NULL_SLOT</a>, sDest, uItem, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;            <span class="keywordflow">if</span> (msg == <a class="code" href="Item_8h.html#a73617af2b3e5e935646638fa13678391a939b6661cd19d6c18274906abb28021c">EQUIP_ERR_OK</a>)</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;            {</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;                <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#acf2638905279b5bcb6df3e285bece043">RemoveItem</a>(<a class="code" href="Player_8h.html#ad3dd8ed856e16139eaa67147d40cf24e">INVENTORY_SLOT_BAG_0</a>, i, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;                <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#ac6ac8f46f22af63052cbbe3952d2a61a">StoreItem</a>(sDest, uItem, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;            }</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;                <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#ab44cedcf193c8807967a7126bb38de3b">SendEquipError</a>(msg, uItem, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160; </div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;        }</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160; </div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;        <span class="keywordflow">if</span> (item-&gt;<a class="code" href="classItem.html#a99b0a6a75ee480ff3586f191bb64a19a">GetPos</a>() == dstpos)</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160; </div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;        <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a613ef93bed586a887ef8e573cbebb82d">SwapItem</a>(item-&gt;<a class="code" href="classItem.html#a99b0a6a75ee480ff3586f191bb64a19a">GetPos</a>(), dstpos);</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    }</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160; </div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca064d16c376e3f6e5876715f1dc4d3c96">SMSG_USE_EQUIPMENT_SET_RESULT</a>, 1);</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(0);                                       <span class="comment">// 4 - equipment swap failed - inventory is full</span></div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;}</div>
<div class="ttc" id="aAnticheat_8hpp_html"><div class="ttname"><a href="Anticheat_8hpp.html">Anticheat.hpp</a></div></div>
<div class="ttc" id="aBag_8h_html_aadcc1e3338f8cbbe511ad060db42dfb5a843659af0a40139bfa505d7e7982477b"><div class="ttname"><a href="Bag_8h.html#aadcc1e3338f8cbbe511ad060db42dfb5a843659af0a40139bfa505d7e7982477b">NULL_BAG</a></div><div class="ttdeci">@ NULL_BAG</div><div class="ttdef"><b>Definition:</b> <a href="Bag_8h_source.html#l00027">Bag.h:27</a></div></div>
<div class="ttc" id="aBag_8h_html_aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130"><div class="ttname"><a href="Bag_8h.html#aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130">NULL_SLOT</a></div><div class="ttdeci">@ NULL_SLOT</div><div class="ttdef"><b>Definition:</b> <a href="Bag_8h_source.html#l00029">Bag.h:28</a></div></div>
<div class="ttc" id="aCalendar_8h_html"><div class="ttname"><a href="Calendar_8h.html">Calendar.h</a></div></div>
<div class="ttc" id="aCalendar_8h_html_a19ac4cd787f75380716d027d20c06b7a"><div class="ttname"><a href="Calendar_8h.html#a19ac4cd787f75380716d027d20c06b7a">sCalendarMgr</a></div><div class="ttdeci">#define sCalendarMgr</div><div class="ttdef"><b>Definition:</b> <a href="Calendar_8h_source.html#l00278">Calendar.h:278</a></div></div>
<div class="ttc" id="aCharacterHandler_8cpp_html_a5538fde73e2411a8b1e68584ca93f929"><div class="ttname"><a href="CharacterHandler_8cpp.html#a5538fde73e2411a8b1e68584ca93f929">CinematicsSkipMode</a></div><div class="ttdeci">CinematicsSkipMode</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l00049">CharacterHandler.cpp:50</a></div></div>
<div class="ttc" id="aCharacterHandler_8cpp_html_a5538fde73e2411a8b1e68584ca93f929a34858259fd5de0fbaf13b4e3ac478ca9"><div class="ttname"><a href="CharacterHandler_8cpp.html#a5538fde73e2411a8b1e68584ca93f929a34858259fd5de0fbaf13b4e3ac478ca9">CINEMATICS_SKIP_NONE</a></div><div class="ttdeci">@ CINEMATICS_SKIP_NONE</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l00051">CharacterHandler.cpp:51</a></div></div>
<div class="ttc" id="aCharacterHandler_8cpp_html_a5538fde73e2411a8b1e68584ca93f929a709faaa3b56083f6a97cbbe0a7de854a"><div class="ttname"><a href="CharacterHandler_8cpp.html#a5538fde73e2411a8b1e68584ca93f929a709faaa3b56083f6a97cbbe0a7de854a">CINEMATICS_SKIP_ALL</a></div><div class="ttdeci">@ CINEMATICS_SKIP_ALL</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l00053">CharacterHandler.cpp:53</a></div></div>
<div class="ttc" id="aCharacterHandler_8cpp_html_a5538fde73e2411a8b1e68584ca93f929a74a1e111318489dc9e5b74af3fbc8108"><div class="ttname"><a href="CharacterHandler_8cpp.html#a5538fde73e2411a8b1e68584ca93f929a74a1e111318489dc9e5b74af3fbc8108">CINEMATICS_SKIP_SAME_RACE</a></div><div class="ttdeci">@ CINEMATICS_SKIP_SAME_RACE</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l00052">CharacterHandler.cpp:52</a></div></div>
<div class="ttc" id="aCharacterHandler_8cpp_html_aa0e715c35c0552d96d932be83fa51f06"><div class="ttname"><a href="CharacterHandler_8cpp.html#aa0e715c35c0552d96d932be83fa51f06">chrHandler</a></div><div class="ttdeci">class CharacterHandler chrHandler</div></div>
<div class="ttc" id="aCommon_8h_html"><div class="ttname"><a href="Common_8h.html">Common.h</a></div></div>
<div class="ttc" id="aCommon_8h_html_ad02db78fbe7773265246ca3010f23f6fa5d534fd54528d86d0f997fa130159df0"><div class="ttname"><a href="Common_8h.html#ad02db78fbe7773265246ca3010f23f6fa5d534fd54528d86d0f997fa130159df0">SEC_PLAYER</a></div><div class="ttdeci">@ SEC_PLAYER</div><div class="ttdef"><b>Definition:</b> <a href="Common_8h_source.html#l00123">Common.h:123</a></div></div>
<div class="ttc" id="aDBCEnums_8h_html_a796cde2fc6e2eaed4c657203ed43cd19a31c243cad5ab13fcf09fe8047c7eab16"><div class="ttname"><a href="DBCEnums_8h.html#a796cde2fc6e2eaed4c657203ed43cd19a31c243cad5ab13fcf09fe8047c7eab16">ACHIEVEMENT_CRITERIA_TYPE_VISIT_BARBER_SHOP</a></div><div class="ttdeci">@ ACHIEVEMENT_CRITERIA_TYPE_VISIT_BARBER_SHOP</div><div class="ttdef"><b>Definition:</b> <a href="DBCEnums_8h_source.html#l00167">DBCEnums.h:167</a></div></div>
<div class="ttc" id="aDBCEnums_8h_html_a796cde2fc6e2eaed4c657203ed43cd19a4ce0e066d22f496d3054d6373b38f9c4"><div class="ttname"><a href="DBCEnums_8h.html#a796cde2fc6e2eaed4c657203ed43cd19a4ce0e066d22f496d3054d6373b38f9c4">ACHIEVEMENT_CRITERIA_TYPE_GOLD_SPENT_AT_BARBER</a></div><div class="ttdeci">@ ACHIEVEMENT_CRITERIA_TYPE_GOLD_SPENT_AT_BARBER</div><div class="ttdef"><b>Definition:</b> <a href="DBCEnums_8h_source.html#l00182">DBCEnums.h:182</a></div></div>
<div class="ttc" id="aDBCEnums_8h_html_a796cde2fc6e2eaed4c657203ed43cd19af77990a0d7a71b2932381512ca88eaf2"><div class="ttname"><a href="DBCEnums_8h.html#a796cde2fc6e2eaed4c657203ed43cd19af77990a0d7a71b2932381512ca88eaf2">ACHIEVEMENT_CRITERIA_TYPE_ON_LOGIN</a></div><div class="ttdeci">@ ACHIEVEMENT_CRITERIA_TYPE_ON_LOGIN</div><div class="ttdef"><b>Definition:</b> <a href="DBCEnums_8h_source.html#l00189">DBCEnums.h:189</a></div></div>
<div class="ttc" id="aDBCStores_8cpp_html_a265eb72f883a94d0125d0dd7126661ad"><div class="ttname"><a href="DBCStores_8cpp.html#a265eb72f883a94d0125d0dd7126661ad">sChrClassesStore</a></div><div class="ttdeci">DBCStorage&lt; ChrClassesEntry &gt; sChrClassesStore(ChrClassesEntryfmt)</div></div>
<div class="ttc" id="aDBCStores_8cpp_html_a4eb14e92e737a082363c20bc5490c6a3"><div class="ttname"><a href="DBCStores_8cpp.html#a4eb14e92e737a082363c20bc5490c6a3">sBarberShopStyleStore</a></div><div class="ttdeci">DBCStorage&lt; BarberShopStyleEntry &gt; sBarberShopStyleStore(BarberShopStyleEntryfmt)</div></div>
<div class="ttc" id="aDBCStores_8cpp_html_a857892c526a4a01f7ff3568f4975b0e1"><div class="ttname"><a href="DBCStores_8cpp.html#a857892c526a4a01f7ff3568f4975b0e1">sChrRacesStore</a></div><div class="ttdeci">DBCStorage&lt; ChrRacesEntry &gt; sChrRacesStore(ChrRacesEntryfmt)</div></div>
<div class="ttc" id="aDBCStores_8cpp_html_ac28198d1c28605951e9debe1298b8304"><div class="ttname"><a href="DBCStores_8cpp.html#ac28198d1c28605951e9debe1298b8304">sMapStore</a></div><div class="ttdeci">DBCStorage&lt; MapEntry &gt; sMapStore(MapEntryfmt)</div></div>
<div class="ttc" id="aDatabaseEnv_8h_html"><div class="ttname"><a href="DatabaseEnv_8h.html">DatabaseEnv.h</a></div></div>
<div class="ttc" id="aDatabaseImpl_8h_html"><div class="ttname"><a href="DatabaseImpl_8h.html">DatabaseImpl.h</a></div></div>
<div class="ttc" id="aDefine_8h_html_a0bf9964a3ce962c07ad3d8b5432bbbcd"><div class="ttname"><a href="Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a></div><div class="ttdeci">std::int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="Define_8h_source.html#l00112">Define.h:112</a></div></div>
<div class="ttc" id="aDefine_8h_html_a15a8d014fadf85c99a2268d8cbd00767"><div class="ttname"><a href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a></div><div class="ttdeci">std::uint8_t uint8</div><div class="ttdef"><b>Definition:</b> <a href="Define_8h_source.html#l00118">Define.h:118</a></div></div>
<div class="ttc" id="aDefine_8h_html_a22f78cc9780bf32aff91ae17c3101c8d"><div class="ttname"><a href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a></div><div class="ttdeci">std::uint32_t uint32</div><div class="ttdef"><b>Definition:</b> <a href="Define_8h_source.html#l00116">Define.h:116</a></div></div>
<div class="ttc" id="aDefine_8h_html_ad9c79638db63f1dfe2b085743b5cbf7b"><div class="ttname"><a href="Define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a></div><div class="ttdeci">std::uint16_t uint16</div><div class="ttdef"><b>Definition:</b> <a href="Define_8h_source.html#l00117">Define.h:117</a></div></div>
<div class="ttc" id="aGMTicketMgr_8h_html"><div class="ttname"><a href="GMTicketMgr_8h.html">GMTicketMgr.h</a></div></div>
<div class="ttc" id="aGMTicketMgr_8h_html_a20db6dadbe20767eb03327894588c7be"><div class="ttname"><a href="GMTicketMgr_8h.html#a20db6dadbe20767eb03327894588c7be">sTicketMgr</a></div><div class="ttdeci">#define sTicketMgr</div><div class="ttdef"><b>Definition:</b> <a href="GMTicketMgr_8h_source.html#l00322">GMTicketMgr.h:322</a></div></div>
<div class="ttc" id="aGroup_8h_html"><div class="ttname"><a href="Group_8h.html">Group.h</a></div></div>
<div class="ttc" id="aGuildMgr_8h_html"><div class="ttname"><a href="GuildMgr_8h.html">GuildMgr.h</a></div></div>
<div class="ttc" id="aGuildMgr_8h_html_aef171903a38e30c347ff11360f682f81"><div class="ttname"><a href="GuildMgr_8h.html#aef171903a38e30c347ff11360f682f81">sGuildMgr</a></div><div class="ttdeci">#define sGuildMgr</div><div class="ttdef"><b>Definition:</b> <a href="GuildMgr_8h_source.html#l00047">GuildMgr.h:47</a></div></div>
<div class="ttc" id="aGuild_8h_html"><div class="ttname"><a href="Guild_8h.html">Guild.h</a></div></div>
<div class="ttc" id="aGuild_8h_html_a06a0aa0a30a110150b9f76a3be9ee59daab7edbe172dab4cd9f3a08e9d735421a"><div class="ttname"><a href="Guild_8h.html#a06a0aa0a30a110150b9f76a3be9ee59daab7edbe172dab4cd9f3a08e9d735421a">GE_MOTD</a></div><div class="ttdeci">@ GE_MOTD</div><div class="ttdef"><b>Definition:</b> <a href="Guild_8h_source.html#l00113">Guild.h:113</a></div></div>
<div class="ttc" id="aGuild_8h_html_a06a0aa0a30a110150b9f76a3be9ee59dae1b52b8ecf858eb756e92de351ffecf4"><div class="ttname"><a href="Guild_8h.html#a06a0aa0a30a110150b9f76a3be9ee59dae1b52b8ecf858eb756e92de351ffecf4">GE_SIGNED_ON</a></div><div class="ttdeci">@ GE_SIGNED_ON</div><div class="ttdef"><b>Definition:</b> <a href="Guild_8h_source.html#l00123">Guild.h:123</a></div></div>
<div class="ttc" id="aItem_8h_html_a73617af2b3e5e935646638fa13678391"><div class="ttname"><a href="Item_8h.html#a73617af2b3e5e935646638fa13678391">InventoryResult</a></div><div class="ttdeci">InventoryResult</div><div class="ttdef"><b>Definition:</b> <a href="Item_8h_source.html#l00038">Item.h:39</a></div></div>
<div class="ttc" id="aItem_8h_html_a73617af2b3e5e935646638fa13678391a939b6661cd19d6c18274906abb28021c"><div class="ttname"><a href="Item_8h.html#a73617af2b3e5e935646638fa13678391a939b6661cd19d6c18274906abb28021c">EQUIP_ERR_OK</a></div><div class="ttdeci">@ EQUIP_ERR_OK</div><div class="ttdef"><b>Definition:</b> <a href="Item_8h_source.html#l00040">Item.h:40</a></div></div>
<div class="ttc" id="aLanguage_8h_html"><div class="ttname"><a href="Language_8h.html">Language.h</a></div></div>
<div class="ttc" id="aLanguage_8h_html_a1543d0f7021d0539b145b8297818fa51a13db3bb699002f2fac00364947ed4ec8"><div class="ttname"><a href="Language_8h.html#a1543d0f7021d0539b145b8297818fa51a13db3bb699002f2fac00364947ed4ec8">LANG_INVISIBLE_INVISIBLE</a></div><div class="ttdeci">@ LANG_INVISIBLE_INVISIBLE</div><div class="ttdef"><b>Definition:</b> <a href="Language_8h_source.html#l00616">Language.h:616</a></div></div>
<div class="ttc" id="aLanguage_8h_html_a1543d0f7021d0539b145b8297818fa51a6122c1323f5e1c30c15c8834d04ccabd"><div class="ttname"><a href="Language_8h.html#a1543d0f7021d0539b145b8297818fa51a6122c1323f5e1c30c15c8834d04ccabd">LANG_RESET_SPELLS</a></div><div class="ttdeci">@ LANG_RESET_SPELLS</div><div class="ttdef"><b>Definition:</b> <a href="Language_8h_source.html#l00215">Language.h:215</a></div></div>
<div class="ttc" id="aLanguage_8h_html_a1543d0f7021d0539b145b8297818fa51a64be7e62d3615f80de06487ac493a856"><div class="ttname"><a href="Language_8h.html#a1543d0f7021d0539b145b8297818fa51a64be7e62d3615f80de06487ac493a856">LANG_RESET_TALENTS</a></div><div class="ttdeci">@ LANG_RESET_TALENTS</div><div class="ttdef"><b>Definition:</b> <a href="Language_8h_source.html#l00216">Language.h:216</a></div></div>
<div class="ttc" id="aLanguage_8h_html_a1543d0f7021d0539b145b8297818fa51af28271ee8208028fe1f8bb1b12169578"><div class="ttname"><a href="Language_8h.html#a1543d0f7021d0539b145b8297818fa51af28271ee8208028fe1f8bb1b12169578">LANG_GM_ON</a></div><div class="ttdeci">@ LANG_GM_ON</div><div class="ttdef"><b>Definition:</b> <a href="Language_8h_source.html#l00340">Language.h:340</a></div></div>
<div class="ttc" id="aLocales_8h_html_a900ed91bceba26c1e05048bd3a9ec4fd"><div class="ttname"><a href="Locales_8h.html#a900ed91bceba26c1e05048bd3a9ec4fd">DEFAULT_LOCALE</a></div><div class="ttdeci">#define DEFAULT_LOCALE</div><div class="ttdef"><b>Definition:</b> <a href="Locales_8h_source.html#l00040">Locales.h:40</a></div></div>
<div class="ttc" id="aLog_8h_html"><div class="ttname"><a href="Log_8h.html">Log.h</a></div></div>
<div class="ttc" id="aLog_8h_html_a21a2c7330a04ac78200a986f66609369"><div class="ttname"><a href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a></div><div class="ttdeci">#define DEBUG_LOG(...)</div><div class="ttdef"><b>Definition:</b> <a href="Log_8h_source.html#l00262">Log.h:262</a></div></div>
<div class="ttc" id="aLog_8h_html_a66ee45c2c4582addc7fba4147eb4741c"><div class="ttname"><a href="Log_8h.html#a66ee45c2c4582addc7fba4147eb4741c">BASIC_LOG</a></div><div class="ttdeci">#define BASIC_LOG(...)</div><div class="ttdef"><b>Definition:</b> <a href="Log_8h_source.html#l00238">Log.h:238</a></div></div>
<div class="ttc" id="aLog_8h_html_ab5487500f5b4b12072043104b916d582"><div class="ttname"><a href="Log_8h.html#ab5487500f5b4b12072043104b916d582">sLog</a></div><div class="ttdeci">#define sLog</div><div class="ttdef"><b>Definition:</b> <a href="Log_8h_source.html#l00236">Log.h:236</a></div></div>
<div class="ttc" id="aLog_8h_html_ab87bacfdad76e61b9412d7124be44c1c"><div class="ttname"><a href="Log_8h.html#ab87bacfdad76e61b9412d7124be44c1c">Color</a></div><div class="ttdeci">Color</div><div class="ttdef"><b>Definition:</b> <a href="Log_8h_source.html#l00075">Log.h:76</a></div></div>
<div class="ttc" id="aLog_8h_html_adbee991aac31d91a88ae6276d32ba9f6"><div class="ttname"><a href="Log_8h.html#adbee991aac31d91a88ae6276d32ba9f6">DETAIL_LOG</a></div><div class="ttdeci">#define DETAIL_LOG(...)</div><div class="ttdef"><b>Definition:</b> <a href="Log_8h_source.html#l00250">Log.h:250</a></div></div>
<div class="ttc" id="aLootMgr_8h_html_ab8f8fff84ad092dddff5018ed76690d2"><div class="ttname"><a href="LootMgr_8h.html#ab8f8fff84ad092dddff5018ed76690d2">sLootMgr</a></div><div class="ttdeci">#define sLootMgr</div><div class="ttdef"><b>Definition:</b> <a href="LootMgr_8h_source.html#l00439">LootMgr.h:439</a></div></div>
<div class="ttc" id="aObjectAccessor_8h_html"><div class="ttname"><a href="ObjectAccessor_8h.html">ObjectAccessor.h</a></div></div>
<div class="ttc" id="aObjectAccessor_8h_html_a1ac403f083ed153106723d43e093bfff"><div class="ttname"><a href="ObjectAccessor_8h.html#a1ac403f083ed153106723d43e093bfff">sObjectAccessor</a></div><div class="ttdeci">#define sObjectAccessor</div><div class="ttdef"><b>Definition:</b> <a href="ObjectAccessor_8h_source.html#l00142">ObjectAccessor.h:142</a></div></div>
<div class="ttc" id="aObjectGuid_8h_html_abe8666ac87665ba963053cdd2b014750ac30cd6a15de9e7763b2bcea91be46eb3"><div class="ttname"><a href="ObjectGuid_8h.html#abe8666ac87665ba963053cdd2b014750ac30cd6a15de9e7763b2bcea91be46eb3">HIGHGUID_PLAYER</a></div><div class="ttdeci">@ HIGHGUID_PLAYER</div><div class="ttdef"><b>Definition:</b> <a href="ObjectGuid_8h_source.html#l00063">ObjectGuid.h:63</a></div></div>
<div class="ttc" id="aObjectMgr_8cpp_html_ae3678f78a873175a8a779937c1aa599a"><div class="ttname"><a href="ObjectMgr_8cpp.html#ae3678f78a873175a8a779937c1aa599a">normalizePlayerName</a></div><div class="ttdeci">bool normalizePlayerName(std::string &amp;name, size_t max_len)</div><div class="ttdef"><b>Definition:</b> <a href="ObjectMgr_8cpp_source.html#l00065">ObjectMgr.cpp:65</a></div></div>
<div class="ttc" id="aObjectMgr_8h_html"><div class="ttname"><a href="ObjectMgr_8h.html">ObjectMgr.h</a></div></div>
<div class="ttc" id="aObjectMgr_8h_html_a736e30da2b5261060ac6cdbb5de3b787"><div class="ttname"><a href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a></div><div class="ttdeci">#define sObjectMgr</div><div class="ttdef"><b>Definition:</b> <a href="ObjectMgr_8h_source.html#l01464">ObjectMgr.h:1464</a></div></div>
<div class="ttc" id="aOpcodes_8h_html"><div class="ttname"><a href="Opcodes_8h.html">Opcodes.h</a></div></div>
<div class="ttc" id="aPet_8h_html_a006372e9693754ac0d923d8764ec55fdafd6db825b6f344f6f64ae53dc19cf503"><div class="ttname"><a href="Pet_8h.html#a006372e9693754ac0d923d8764ec55fdafd6db825b6f344f6f64ae53dc19cf503">PET_SAVE_AS_CURRENT</a></div><div class="ttdeci">@ PET_SAVE_AS_CURRENT</div><div class="ttdef"><b>Definition:</b> <a href="Pet_8h_source.html#l00043">Pet.h:43</a></div></div>
<div class="ttc" id="aPlayerDump_8h_html"><div class="ttname"><a href="PlayerDump_8h.html">PlayerDump.h</a></div></div>
<div class="ttc" id="aPlayer_8h_html"><div class="ttname"><a href="Player_8h.html">Player.h</a></div></div>
<div class="ttc" id="aPlayer_8h_html_a06f492a0a20f5264c8395684220fec84"><div class="ttname"><a href="Player_8h.html#a06f492a0a20f5264c8395684220fec84">ItemPosCountVec</a></div><div class="ttdeci">std::vector&lt; ItemPosCount &gt; ItemPosCountVec</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00727">Player.h:727</a></div></div>
<div class="ttc" id="aPlayer_8h_html_a486dd000e9a9532459d9dd9010570621a3bc0762eb887939b2925dc398760df88"><div class="ttname"><a href="Player_8h.html#a486dd000e9a9532459d9dd9010570621a3bc0762eb887939b2925dc398760df88">PLAYER_FLAGS_HIDE_CLOAK</a></div><div class="ttdeci">@ PLAYER_FLAGS_HIDE_CLOAK</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00430">Player.h:430</a></div></div>
<div class="ttc" id="aPlayer_8h_html_a486dd000e9a9532459d9dd9010570621a41798f78d62382fc517da86534ad7191"><div class="ttname"><a href="Player_8h.html#a486dd000e9a9532459d9dd9010570621a41798f78d62382fc517da86534ad7191">PLAYER_FLAGS_CONTESTED_PVP</a></div><div class="ttdeci">@ PLAYER_FLAGS_CONTESTED_PVP</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00427">Player.h:427</a></div></div>
<div class="ttc" id="aPlayer_8h_html_a486dd000e9a9532459d9dd9010570621a73d7f97ed3311ab8d4adc27637e12c74"><div class="ttname"><a href="Player_8h.html#a486dd000e9a9532459d9dd9010570621a73d7f97ed3311ab8d4adc27637e12c74">PLAYER_FLAGS_RESTING</a></div><div class="ttdeci">@ PLAYER_FLAGS_RESTING</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00424">Player.h:424</a></div></div>
<div class="ttc" id="aPlayer_8h_html_a486dd000e9a9532459d9dd9010570621a9e11b33b95bd42aca29ab5133c3a1458"><div class="ttname"><a href="Player_8h.html#a486dd000e9a9532459d9dd9010570621a9e11b33b95bd42aca29ab5133c3a1458">PLAYER_FLAGS_HIDE_HELM</a></div><div class="ttdeci">@ PLAYER_FLAGS_HIDE_HELM</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00429">Player.h:429</a></div></div>
<div class="ttc" id="aPlayer_8h_html_a54991a2b7a7195de0963e7133d320655af36236abe76e2b86c45cc165a74a06b0"><div class="ttname"><a href="Player_8h.html#a54991a2b7a7195de0963e7133d320655af36236abe76e2b86c45cc165a74a06b0">EQUIPMENT_SET_NEW</a></div><div class="ttdeci">@ EQUIPMENT_SET_NEW</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00696">Player.h:696</a></div></div>
<div class="ttc" id="aPlayer_8h_html_a91f270ec47485639c39c9cbe9ddd04f5"><div class="ttname"><a href="Player_8h.html#a91f270ec47485639c39c9cbe9ddd04f5">MAX_EQUIPMENT_SET_INDEX</a></div><div class="ttdeci">#define MAX_EQUIPMENT_SET_INDEX</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00716">Player.h:716</a></div></div>
<div class="ttc" id="aPlayer_8h_html_a93b8041f948d575ef2d23746324a37afa730f8fcebbadad4d0b2dadc86d8431d9"><div class="ttname"><a href="Player_8h.html#a93b8041f948d575ef2d23746324a37afa730f8fcebbadad4d0b2dadc86d8431d9">EQUIPMENT_SLOT_END</a></div><div class="ttdeci">@ EQUIPMENT_SLOT_END</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00647">Player.h:646</a></div></div>
<div class="ttc" id="aPlayer_8h_html_aa6b2dcfd7e0c4f62b238241afe792fcba06050e392f96594aa17d23cb85ec5a22"><div class="ttname"><a href="Player_8h.html#aa6b2dcfd7e0c4f62b238241afe792fcba06050e392f96594aa17d23cb85ec5a22">AT_LOGIN_RESET_TALENTS</a></div><div class="ttdeci">@ AT_LOGIN_RESET_TALENTS</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00567">Player.h:567</a></div></div>
<div class="ttc" id="aPlayer_8h_html_aa6b2dcfd7e0c4f62b238241afe792fcba0e52bd573c6218d6fd8b712f4453f8b9"><div class="ttname"><a href="Player_8h.html#aa6b2dcfd7e0c4f62b238241afe792fcba0e52bd573c6218d6fd8b712f4453f8b9">AT_LOGIN_RESET_SPELLS</a></div><div class="ttdeci">@ AT_LOGIN_RESET_SPELLS</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00566">Player.h:566</a></div></div>
<div class="ttc" id="aPlayer_8h_html_aa6b2dcfd7e0c4f62b238241afe792fcba3cd8cf3374b3079026df290c3fed8505"><div class="ttname"><a href="Player_8h.html#aa6b2dcfd7e0c4f62b238241afe792fcba3cd8cf3374b3079026df290c3fed8505">AT_LOGIN_RESET_PET_TALENTS</a></div><div class="ttdeci">@ AT_LOGIN_RESET_PET_TALENTS</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00569">Player.h:569</a></div></div>
<div class="ttc" id="aPlayer_8h_html_aa6b2dcfd7e0c4f62b238241afe792fcba4b2a7846f45f972592720b65283099a5"><div class="ttname"><a href="Player_8h.html#aa6b2dcfd7e0c4f62b238241afe792fcba4b2a7846f45f972592720b65283099a5">AT_LOGIN_RESET_TAXINODES</a></div><div class="ttdeci">@ AT_LOGIN_RESET_TAXINODES</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00571">Player.h:571</a></div></div>
<div class="ttc" id="aPlayer_8h_html_aa6b2dcfd7e0c4f62b238241afe792fcba603335736eef48aeea31b0efd812373d"><div class="ttname"><a href="Player_8h.html#aa6b2dcfd7e0c4f62b238241afe792fcba603335736eef48aeea31b0efd812373d">AT_LOGIN_FIRST</a></div><div class="ttdeci">@ AT_LOGIN_FIRST</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00570">Player.h:570</a></div></div>
<div class="ttc" id="aPlayer_8h_html_aa6b2dcfd7e0c4f62b238241afe792fcba60e88e13de029949c7b0eb3512dfd529"><div class="ttname"><a href="Player_8h.html#aa6b2dcfd7e0c4f62b238241afe792fcba60e88e13de029949c7b0eb3512dfd529">AT_LOGIN_CUSTOMIZE</a></div><div class="ttdeci">@ AT_LOGIN_CUSTOMIZE</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00568">Player.h:568</a></div></div>
<div class="ttc" id="aPlayer_8h_html_aa6b2dcfd7e0c4f62b238241afe792fcba8785c6f27dffe91968bf6635024169eb"><div class="ttname"><a href="Player_8h.html#aa6b2dcfd7e0c4f62b238241afe792fcba8785c6f27dffe91968bf6635024169eb">AT_LOGIN_RENAME</a></div><div class="ttdeci">@ AT_LOGIN_RENAME</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00565">Player.h:565</a></div></div>
<div class="ttc" id="aPlayer_8h_html_aa6b2dcfd7e0c4f62b238241afe792fcbab1cdcda67ed00b6727eb694f674c77d3"><div class="ttname"><a href="Player_8h.html#aa6b2dcfd7e0c4f62b238241afe792fcbab1cdcda67ed00b6727eb694f674c77d3">AT_LOGIN_ADD_BG_DESERTER</a></div><div class="ttdeci">@ AT_LOGIN_ADD_BG_DESERTER</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00573">Player.h:572</a></div></div>
<div class="ttc" id="aPlayer_8h_html_ad3dd8ed856e16139eaa67147d40cf24e"><div class="ttname"><a href="Player_8h.html#ad3dd8ed856e16139eaa67147d40cf24e">INVENTORY_SLOT_BAG_0</a></div><div class="ttdeci">#define INVENTORY_SLOT_BAG_0</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00622">Player.h:622</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642a00dd65bcb8f3f76b7d1bb9a73dc17b23"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a00dd65bcb8f3f76b7d1bb9a73dc17b23">PLAYER_LOGIN_QUERY_LOADQUESTSTATUS</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADQUESTSTATUS</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00830">Player.h:830</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642a06cc5da29aab7d209f1b8da694db8edd"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a06cc5da29aab7d209f1b8da694db8edd">PLAYER_LOGIN_QUERY_LOADAURAS</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADAURAS</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00828">Player.h:828</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642a13e3b1b23530ab3ae516dd6b39df0164"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a13e3b1b23530ab3ae516dd6b39df0164">MAX_PLAYER_LOGIN_QUERY</a></div><div class="ttdeci">@ MAX_PLAYER_LOGIN_QUERY</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00857">Player.h:856</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642a18e0c0dc016c2aa6afe7d8c43d006abd"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a18e0c0dc016c2aa6afe7d8c43d006abd">PLAYER_LOGIN_QUERY_LOADCRITERIAPROGRESS</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADCRITERIAPROGRESS</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00843">Player.h:843</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642a2b6eb374a123089b8fa336e17de99431"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a2b6eb374a123089b8fa336e17de99431">PLAYER_LOGIN_QUERY_LOADACCOUNTDATA</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADACCOUNTDATA</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00846">Player.h:846</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642a3771ef320923994fe080bad3ebc8b688"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a3771ef320923994fe080bad3ebc8b688">PLAYER_LOGIN_QUERY_LOADDAILYQUESTSTATUS</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADDAILYQUESTSTATUS</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00831">Player.h:831</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642a40bc9a6ec7b1760a318e0a5870fb0f8d"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a40bc9a6ec7b1760a318e0a5870fb0f8d">PLAYER_LOGIN_QUERY_LOADWEEKLYQUESTSTATUS</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADWEEKLYQUESTSTATUS</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00852">Player.h:852</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642a4219879b7fa4550411f2670b0872ae45"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a4219879b7fa4550411f2670b0872ae45">PLAYER_LOGIN_QUERY_LOADACHIEVEMENTS</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADACHIEVEMENTS</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00842">Player.h:842</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642a5c3bcef63025a700f7ec01c154ac4218"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a5c3bcef63025a700f7ec01c154ac4218">PLAYER_LOGIN_QUERY_LOADMAILS</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADMAILS</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00849">Player.h:849</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642a5ddbdb8d9b9edfbcef7e957a065b48bc"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a5ddbdb8d9b9edfbcef7e957a065b48bc">PLAYER_LOGIN_QUERY_LOADGLYPHS</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADGLYPHS</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00848">Player.h:848</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642a6d91db9c68a8f36f8a8390cb044852a0"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a6d91db9c68a8f36f8a8390cb044852a0">PLAYER_LOGIN_QUERY_LOADARENAINFO</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADARENAINFO</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00841">Player.h:841</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642a7171ad6691531a79150ce894048fbbe8"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a7171ad6691531a79150ce894048fbbe8">PLAYER_LOGIN_QUERY_LOADRANDOMBATTLEGROUND</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADRANDOMBATTLEGROUND</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00854">Player.h:854</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642a7a44d50344023d3fbba4791cc21997b7"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a7a44d50344023d3fbba4791cc21997b7">PLAYER_LOGIN_QUERY_LOADTALENTS</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADTALENTS</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00851">Player.h:851</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642a8c575e6dc940a1a4d1277a656fcdfe60"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a8c575e6dc940a1a4d1277a656fcdfe60">PLAYER_LOGIN_QUERY_LOADSPELLCOOLDOWNS</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADSPELLCOOLDOWNS</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00838">Player.h:838</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642a903ca7a2027f440330df9f00fe8d3d29"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a903ca7a2027f440330df9f00fe8d3d29">PLAYER_LOGIN_QUERY_LOADEQUIPMENTSETS</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADEQUIPMENTSETS</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00844">Player.h:844</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642a97bce1dc64bf2059df5a173255e8c5e7"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642a97bce1dc64bf2059df5a173255e8c5e7">PLAYER_LOGIN_QUERY_LOADBGDATA</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADBGDATA</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00845">Player.h:845</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642aa23f10e5d515a25800dd4acb52d08d0a"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642aa23f10e5d515a25800dd4acb52d08d0a">PLAYER_LOGIN_QUERY_LOADBOUNDINSTANCES</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADBOUNDINSTANCES</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00827">Player.h:827</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642aa7cea6898bd5dd2528f16a4f7a396f72"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642aa7cea6898bd5dd2528f16a4f7a396f72">PLAYER_LOGIN_QUERY_LOADMAILEDITEMS</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADMAILEDITEMS</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00850">Player.h:850</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642aa864417297e6e075121ff8dd2757ef60"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642aa864417297e6e075121ff8dd2757ef60">PLAYER_LOGIN_QUERY_LOADFROM</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADFROM</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00825">Player.h:825</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642aba118cadfad173228ea66b69e739c711"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642aba118cadfad173228ea66b69e739c711">PLAYER_LOGIN_QUERY_LOADSOCIALLIST</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADSOCIALLIST</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00836">Player.h:836</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642abaf70704b4b0e70eaed15e4896b731da"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642abaf70704b4b0e70eaed15e4896b731da">PLAYER_LOGIN_QUERY_LOADINVENTORY</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADINVENTORY</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00833">Player.h:833</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642abea8ddb688cf3387fd3fc35022a3204e"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642abea8ddb688cf3387fd3fc35022a3204e">PLAYER_LOGIN_QUERY_LOADREPUTATION</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADREPUTATION</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00832">Player.h:832</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642ac1eb349d009f9d7a7e7a3ef7f18a8f63"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642ac1eb349d009f9d7a7e7a3ef7f18a8f63">PLAYER_LOGIN_QUERY_LOADGROUP</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADGROUP</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00826">Player.h:826</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642ad052d533f5378a0e60db33d78c60e0a8"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642ad052d533f5378a0e60db33d78c60e0a8">PLAYER_LOGIN_QUERY_LOADITEMLOOT</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADITEMLOOT</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00834">Player.h:834</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642ad3c8d171252da69387457c5dddce714f"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642ad3c8d171252da69387457c5dddce714f">PLAYER_LOGIN_QUERY_LOADACTIONS</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADACTIONS</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00835">Player.h:835</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642ad57b61dd818a616646de6c6e57154d8f"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642ad57b61dd818a616646de6c6e57154d8f">PLAYER_LOGIN_QUERY_LOADDECLINEDNAMES</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADDECLINEDNAMES</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00839">Player.h:839</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642ae9216998b69fa858b6780e203241d117"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642ae9216998b69fa858b6780e203241d117">PLAYER_LOGIN_QUERY_LOADHOMEBIND</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADHOMEBIND</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00837">Player.h:837</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642aeb879c41577dc7be5186acdf474d6574"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642aeb879c41577dc7be5186acdf474d6574">PLAYER_LOGIN_QUERY_LOADSPELLS</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADSPELLS</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00829">Player.h:829</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642aee7d6602e43e3970bf2b24db6e97154e"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642aee7d6602e43e3970bf2b24db6e97154e">PLAYER_LOGIN_QUERY_LOADGUILD</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADGUILD</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00840">Player.h:840</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642af144f19fc5f4e92cd7415470735b2921"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642af144f19fc5f4e92cd7415470735b2921">PLAYER_LOGIN_QUERY_LOADSKILLS</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADSKILLS</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00847">Player.h:847</a></div></div>
<div class="ttc" id="aPlayer_8h_html_af771ff47a13b9f47e9729c8194ff7642af91c61849cfdbf00a4a8f358bff3d1c8"><div class="ttname"><a href="Player_8h.html#af771ff47a13b9f47e9729c8194ff7642af91c61849cfdbf00a4a8f358bff3d1c8">PLAYER_LOGIN_QUERY_LOADMONTHLYQUESTSTATUS</a></div><div class="ttdeci">@ PLAYER_LOGIN_QUERY_LOADMONTHLYQUESTSTATUS</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00853">Player.h:853</a></div></div>
<div class="ttc" id="aPlayerbotMgr_8h_html"><div class="ttname"><a href="PlayerbotMgr_8h.html">PlayerbotMgr.h</a></div></div>
<div class="ttc" id="aSQLStorages_8cpp_html_a6e07b93ae2737d35f4214041a6f735f4"><div class="ttname"><a href="SQLStorages_8cpp.html#a6e07b93ae2737d35f4214041a6f735f4">sSpellTemplate</a></div><div class="ttdeci">SQLStorage sSpellTemplate(SpellEntryfmt, &quot;id&quot;, &quot;spell_template&quot;)</div></div>
<div class="ttc" id="aScriptDevAIMgr_8h_html"><div class="ttname"><a href="ScriptDevAIMgr_8h.html">ScriptDevAIMgr.h</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html"><div class="ttname"><a href="SharedDefines_8h.html">SharedDefines.h</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a0f323c1b17777bed7ec77789ee6642c2"><div class="ttname"><a href="SharedDefines_8h.html#a0f323c1b17777bed7ec77789ee6642c2">AreaLockStatus</a></div><div class="ttdeci">AreaLockStatus</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l02218">SharedDefines.h:2219</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a0f323c1b17777bed7ec77789ee6642c2a3f4a9671aaf4bc04157666f4f08be8f8"><div class="ttname"><a href="SharedDefines_8h.html#a0f323c1b17777bed7ec77789ee6642c2a3f4a9671aaf4bc04157666f4f08be8f8">AREA_LOCKSTATUS_OK</a></div><div class="ttdeci">@ AREA_LOCKSTATUS_OK</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l02220">SharedDefines.h:2220</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a0f323c1b17777bed7ec77789ee6642c2a62e0fa180957ab17eac6a38005f84f6e"><div class="ttname"><a href="SharedDefines_8h.html#a0f323c1b17777bed7ec77789ee6642c2a62e0fa180957ab17eac6a38005f84f6e">AREA_LOCKSTATUS_INSUFFICIENT_EXPANSION</a></div><div class="ttdeci">@ AREA_LOCKSTATUS_INSUFFICIENT_EXPANSION</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l02222">SharedDefines.h:2222</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a0f323c1b17777bed7ec77789ee6642c2a7030b6834f1e3ced3b782d2330595b32"><div class="ttname"><a href="SharedDefines_8h.html#a0f323c1b17777bed7ec77789ee6642c2a7030b6834f1e3ced3b782d2330595b32">AREA_LOCKSTATUS_UNKNOWN_ERROR</a></div><div class="ttdeci">@ AREA_LOCKSTATUS_UNKNOWN_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l02221">SharedDefines.h:2221</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a42e167e83e1f0229d501a09e3f1d2b1aa1495b04b19e58ecfaddd6a9e6bea1785"><div class="ttname"><a href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa1495b04b19e58ecfaddd6a9e6bea1785">CHAR_DELETE_SUCCESS</a></div><div class="ttdeci">@ CHAR_DELETE_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l02017">SharedDefines.h:2017</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a42e167e83e1f0229d501a09e3f1d2b1aa3e2128339eca33a7240f0d258637d431"><div class="ttname"><a href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa3e2128339eca33a7240f0d258637d431">CHAR_CREATE_EXPANSION</a></div><div class="ttdeci">@ CHAR_CREATE_EXPANSION</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l02002">SharedDefines.h:2002</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a42e167e83e1f0229d501a09e3f1d2b1aa41fdb6b918224b5ce47d005e2a093199"><div class="ttname"><a href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa41fdb6b918224b5ce47d005e2a093199">CHAR_NAME_NO_NAME</a></div><div class="ttdeci">@ CHAR_NAME_NO_NAME</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l02037">SharedDefines.h:2037</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a42e167e83e1f0229d501a09e3f1d2b1aa5e45748def73078b9ee42fe6c878ffef"><div class="ttname"><a href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa5e45748def73078b9ee42fe6c878ffef">CHAR_CREATE_DISABLED</a></div><div class="ttdeci">@ CHAR_CREATE_DISABLED</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l01996">SharedDefines.h:1996</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a42e167e83e1f0229d501a09e3f1d2b1aa7072946507cceb8dcc95d8395d597711"><div class="ttname"><a href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa7072946507cceb8dcc95d8395d597711">RESPONSE_SUCCESS</a></div><div class="ttdeci">@ RESPONSE_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l01939">SharedDefines.h:1939</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a42e167e83e1f0229d501a09e3f1d2b1aa7e858f0e14ce0ac739265b672ecb70a9"><div class="ttname"><a href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa7e858f0e14ce0ac739265b672ecb70a9">CHAR_CREATE_LEVEL_REQUIREMENT</a></div><div class="ttdeci">@ CHAR_CREATE_LEVEL_REQUIREMENT</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l02004">SharedDefines.h:2004</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a42e167e83e1f0229d501a09e3f1d2b1aa8dc3d6ad0bcd95cb44ad97a29b849843"><div class="ttname"><a href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa8dc3d6ad0bcd95cb44ad97a29b849843">CHAR_CREATE_FAILED</a></div><div class="ttdeci">@ CHAR_CREATE_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l01994">SharedDefines.h:1994</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a42e167e83e1f0229d501a09e3f1d2b1aa8fdce3980dedc82cea1655f8f66734f4"><div class="ttname"><a href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa8fdce3980dedc82cea1655f8f66734f4">CHAR_DELETE_FAILED_GUILD_LEADER</a></div><div class="ttdeci">@ CHAR_DELETE_FAILED_GUILD_LEADER</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l02020">SharedDefines.h:2020</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a42e167e83e1f0229d501a09e3f1d2b1aa9024b1c807949588cc207e9242002148"><div class="ttname"><a href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa9024b1c807949588cc207e9242002148">CHAR_NAME_RESERVED</a></div><div class="ttdeci">@ CHAR_NAME_RESERVED</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l02043">SharedDefines.h:2043</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a42e167e83e1f0229d501a09e3f1d2b1aa9e5414f0f22072b18a7dc48aeee9ba4d"><div class="ttname"><a href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aa9e5414f0f22072b18a7dc48aeee9ba4d">CHAR_DELETE_FAILED_ARENA_CAPTAIN</a></div><div class="ttdeci">@ CHAR_DELETE_FAILED_ARENA_CAPTAIN</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l02021">SharedDefines.h:2021</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a42e167e83e1f0229d501a09e3f1d2b1aab3ed2d1de06c181e73e923e49c604552"><div class="ttname"><a href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aab3ed2d1de06c181e73e923e49c604552">CHAR_CREATE_ERROR</a></div><div class="ttdeci">@ CHAR_CREATE_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l01993">SharedDefines.h:1993</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a42e167e83e1f0229d501a09e3f1d2b1aaca4b04bb07e94f4bb4445b24fabedca7"><div class="ttname"><a href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aaca4b04bb07e94f4bb4445b24fabedca7">CHAR_CREATE_NAME_IN_USE</a></div><div class="ttdeci">@ CHAR_CREATE_NAME_IN_USE</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l01995">SharedDefines.h:1995</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a42e167e83e1f0229d501a09e3f1d2b1aacd59224d34fa71417f4558c829caa550"><div class="ttname"><a href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aacd59224d34fa71417f4558c829caa550">CHAR_CREATE_SERVER_LIMIT</a></div><div class="ttdeci">@ CHAR_CREATE_SERVER_LIMIT</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l01998">SharedDefines.h:1998</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a42e167e83e1f0229d501a09e3f1d2b1aad104648ca7e733c8b0a65b3f7514d4a9"><div class="ttname"><a href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aad104648ca7e733c8b0a65b3f7514d4a9">CHAR_CREATE_EXPANSION_CLASS</a></div><div class="ttdeci">@ CHAR_CREATE_EXPANSION_CLASS</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l02003">SharedDefines.h:2003</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a42e167e83e1f0229d501a09e3f1d2b1aadfc791f8a735764b3c6723bc3d07012e"><div class="ttname"><a href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aadfc791f8a735764b3c6723bc3d07012e">CHAR_CREATE_SUCCESS</a></div><div class="ttdeci">@ CHAR_CREATE_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l01992">SharedDefines.h:1992</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a42e167e83e1f0229d501a09e3f1d2b1aae86a5e3cb6a59c8b3afc5d7a6c4c43d8"><div class="ttname"><a href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aae86a5e3cb6a59c8b3afc5d7a6c4c43d8">CHAR_CREATE_PVP_TEAMS_VIOLATION</a></div><div class="ttdeci">@ CHAR_CREATE_PVP_TEAMS_VIOLATION</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l01997">SharedDefines.h:1997</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a42e167e83e1f0229d501a09e3f1d2b1aae9578a926860e8c4c4fe0eb5b0d567c5"><div class="ttname"><a href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aae9578a926860e8c4c4fe0eb5b0d567c5">CHAR_CREATE_ACCOUNT_LIMIT</a></div><div class="ttdeci">@ CHAR_CREATE_ACCOUNT_LIMIT</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l01999">SharedDefines.h:1999</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a42e167e83e1f0229d501a09e3f1d2b1aafafdb22b13087b1c7fcdbd2ec35a83ee"><div class="ttname"><a href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aafafdb22b13087b1c7fcdbd2ec35a83ee">CHAR_CREATE_UNIQUE_CLASS_LIMIT</a></div><div class="ttdeci">@ CHAR_CREATE_UNIQUE_CLASS_LIMIT</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l02005">SharedDefines.h:2005</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a42e167e83e1f0229d501a09e3f1d2b1aafca76ecee9b164b52012ea3427c9a118"><div class="ttname"><a href="SharedDefines_8h.html#a42e167e83e1f0229d501a09e3f1d2b1aafca76ecee9b164b52012ea3427c9a118">CHAR_NAME_SUCCESS</a></div><div class="ttdeci">@ CHAR_NAME_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l02035">SharedDefines.h:2035</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a80b3905d2615c2829c18e4dc36002a30"><div class="ttname"><a href="SharedDefines_8h.html#a80b3905d2615c2829c18e4dc36002a30">SPELL_ID_BATTLEGROUND_DESERTER</a></div><div class="ttdeci">#define SPELL_ID_BATTLEGROUND_DESERTER</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l01707">SharedDefines.h:1707</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a81bad32063c8fa96f892b95fbcb156ca"><div class="ttname"><a href="SharedDefines_8h.html#a81bad32063c8fa96f892b95fbcb156ca">MAX_GLYPH_SLOT_INDEX</a></div><div class="ttdeci">#define MAX_GLYPH_SLOT_INDEX</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l00272">SharedDefines.h:272</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a85fabe6bd80d108ee2a542cefafa551fabe4a19d89177f64bdbb48464f2cfb7d0"><div class="ttname"><a href="SharedDefines_8h.html#a85fabe6bd80d108ee2a542cefafa551fabe4a19d89177f64bdbb48464f2cfb7d0">CHAR_LOGIN_DUPLICATE_CHARACTER</a></div><div class="ttdeci">@ CHAR_LOGIN_DUPLICATE_CHARACTER</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l01928">SharedDefines.h:1928</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a85fabe6bd80d108ee2a542cefafa551fac2d2b78b24134cb31ac546278f4e296c"><div class="ttname"><a href="SharedDefines_8h.html#a85fabe6bd80d108ee2a542cefafa551fac2d2b78b24134cb31ac546278f4e296c">CHAR_LOGIN_FAILED</a></div><div class="ttdeci">@ CHAR_LOGIN_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l01934">SharedDefines.h:1934</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a85fabe6bd80d108ee2a542cefafa551fad5c9187a6e47adefd9829b41d1651a4d"><div class="ttname"><a href="SharedDefines_8h.html#a85fabe6bd80d108ee2a542cefafa551fad5c9187a6e47adefd9829b41d1651a4d">CHAR_LOGIN_NO_CHARACTER</a></div><div class="ttdeci">@ CHAR_LOGIN_NO_CHARACTER</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l01931">SharedDefines.h:1931</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a86e4e3df7a5142175aa5df522d3346cfa7f7b30426fd386c181799196c1739058"><div class="ttname"><a href="SharedDefines_8h.html#a86e4e3df7a5142175aa5df522d3346cfa7f7b30426fd386c181799196c1739058">CLASS_DEATH_KNIGHT</a></div><div class="ttdeci">@ CLASS_DEATH_KNIGHT</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l00085">SharedDefines.h:85</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a9c13bb5b1d69698f9b47900990eaa598"><div class="ttname"><a href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598">Team</a></div><div class="ttdeci">Team</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l00338">SharedDefines.h:339</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a9c13bb5b1d69698f9b47900990eaa598a360acb47017e8e0d3522e08575f3d1b2"><div class="ttname"><a href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598a360acb47017e8e0d3522e08575f3d1b2">ALLIANCE</a></div><div class="ttdeci">@ ALLIANCE</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l00344">SharedDefines.h:344</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a9c13bb5b1d69698f9b47900990eaa598ae00f67931133b08b7de375111e800b42"><div class="ttname"><a href="SharedDefines_8h.html#a9c13bb5b1d69698f9b47900990eaa598ae00f67931133b08b7de375111e800b42">HORDE</a></div><div class="ttdeci">@ HORDE</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l00343">SharedDefines.h:343</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_abece64758d84aa91fa2b6bb82123cc80a9ef7a57e61b0f05d7d1e50b0de89820c"><div class="ttname"><a href="SharedDefines_8h.html#abece64758d84aa91fa2b6bb82123cc80a9ef7a57e61b0f05d7d1e50b0de89820c">RACE_NIGHTELF</a></div><div class="ttdeci">@ RACE_NIGHTELF</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l00039">SharedDefines.h:39</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_abece64758d84aa91fa2b6bb82123cc80af53d3825f30ea6b3545ddc8f8d5e6938"><div class="ttname"><a href="SharedDefines_8h.html#abece64758d84aa91fa2b6bb82123cc80af53d3825f30ea6b3545ddc8f8d5e6938">RACE_TAUREN</a></div><div class="ttdeci">@ RACE_TAUREN</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l00041">SharedDefines.h:41</a></div></div>
<div class="ttc" id="aSocialMgr_8h_html"><div class="ttname"><a href="SocialMgr_8h.html">SocialMgr.h</a></div></div>
<div class="ttc" id="aSocialMgr_8h_html_a92fb5a2c05247f56e16516cd911d570c"><div class="ttname"><a href="SocialMgr_8h.html#a92fb5a2c05247f56e16516cd911d570c">sSocialMgr</a></div><div class="ttdeci">#define sSocialMgr</div><div class="ttdef"><b>Definition:</b> <a href="SocialMgr_8h_source.html#l00153">SocialMgr.h:153</a></div></div>
<div class="ttc" id="aSocialMgr_8h_html_a9f322d367078b307f6ad7a9938ba9428a203bccef891dbbf575e4c76373f0f19d"><div class="ttname"><a href="SocialMgr_8h.html#a9f322d367078b307f6ad7a9938ba9428a203bccef891dbbf575e4c76373f0f19d">FRIEND_ONLINE</a></div><div class="ttdeci">@ FRIEND_ONLINE</div><div class="ttdef"><b>Definition:</b> <a href="SocialMgr_8h_source.html#l00082">SocialMgr.h:82</a></div></div>
<div class="ttc" id="aSpellDefines_8h_html_a8512d8ac830d80360b33fa46dc884a29ab89fa5cc12475f894d85c381bed7a2f2"><div class="ttname"><a href="SpellDefines_8h.html#a8512d8ac830d80360b33fa46dc884a29ab89fa5cc12475f894d85c381bed7a2f2">TRIGGERED_OLD_TRIGGERED</a></div><div class="ttdeci">@ TRIGGERED_OLD_TRIGGERED</div><div class="ttdef"><b>Definition:</b> <a href="SpellDefines_8h_source.html#l00725">SpellDefines.h:725</a></div></div>
<div class="ttc" id="aSpellMgr_8h_html"><div class="ttname"><a href="SpellMgr_8h.html">SpellMgr.h</a></div></div>
<div class="ttc" id="aSpellMgr_8h_html_a11f87f40d3653c7085578227da35a538"><div class="ttname"><a href="SpellMgr_8h.html#a11f87f40d3653c7085578227da35a538">IsSpellAppliesAura</a></div><div class="ttdeci">bool IsSpellAppliesAura(SpellEntry const *spellInfo, uint32 effectMask=((1&lt;&lt; EFFECT_INDEX_0)|(1&lt;&lt; EFFECT_INDEX_1)|(1&lt;&lt; EFFECT_INDEX_2)))</div><div class="ttdef"><b>Definition:</b> <a href="SpellMgr_8h_source.html#l00159">SpellMgr.h:159</a></div></div>
<div class="ttc" id="aUpdateFields_8h_html_a0e42dc606678c9df7884e1aad621e881a4f8a6a5eb8a791757df4a36f5c16ab96"><div class="ttname"><a href="UpdateFields_8h.html#a0e42dc606678c9df7884e1aad621e881a4f8a6a5eb8a791757df4a36f5c16ab96">PLAYER_BYTES_2</a></div><div class="ttdeci">@ PLAYER_BYTES_2</div><div class="ttdef"><b>Definition:</b> <a href="UpdateFields_8h_source.html#l00185">UpdateFields.h:185</a></div></div>
<div class="ttc" id="aUpdateFields_8h_html_a0e42dc606678c9df7884e1aad621e881a65a8142f4727b52425e593eb2727d9f4"><div class="ttname"><a href="UpdateFields_8h.html#a0e42dc606678c9df7884e1aad621e881a65a8142f4727b52425e593eb2727d9f4">PLAYER_FLAGS</a></div><div class="ttdeci">@ PLAYER_FLAGS</div><div class="ttdef"><b>Definition:</b> <a href="UpdateFields_8h_source.html#l00181">UpdateFields.h:181</a></div></div>
<div class="ttc" id="aUpdateFields_8h_html_a0e42dc606678c9df7884e1aad621e881a85e14505eb2118add760b0756dcb95c0"><div class="ttname"><a href="UpdateFields_8h.html#a0e42dc606678c9df7884e1aad621e881a85e14505eb2118add760b0756dcb95c0">PLAYER_BYTES</a></div><div class="ttdeci">@ PLAYER_BYTES</div><div class="ttdef"><b>Definition:</b> <a href="UpdateFields_8h_source.html#l00184">UpdateFields.h:184</a></div></div>
<div class="ttc" id="aUpdateFields_8h_html_a0e42dc606678c9df7884e1aad621e881aac0cc1812ae806f2e6a59d09c5531d1d"><div class="ttname"><a href="UpdateFields_8h.html#a0e42dc606678c9df7884e1aad621e881aac0cc1812ae806f2e6a59d09c5531d1d">PLAYER_FIELD_WATCHED_FACTION_INDEX</a></div><div class="ttdeci">@ PLAYER_FIELD_WATCHED_FACTION_INDEX</div><div class="ttdef"><b>Definition:</b> <a href="UpdateFields_8h_source.html#l00382">UpdateFields.h:382</a></div></div>
<div class="ttc" id="aUtil_8cpp_html_a55673f324a78547e5fbde40994b44a41"><div class="ttname"><a href="Util_8cpp.html#a55673f324a78547e5fbde40994b44a41">GetMainPartOfName</a></div><div class="ttdeci">std::wstring GetMainPartOfName(const std::wstring &amp;wname, uint32 declension)</div><div class="ttdef"><b>Definition:</b> <a href="Util_8cpp_source.html#l00445">Util.cpp:445</a></div></div>
<div class="ttc" id="aUtil_8cpp_html_a6e571df39d8ddcb3889b8805be44872c"><div class="ttname"><a href="Util_8cpp.html#a6e571df39d8ddcb3889b8805be44872c">Utf8toWStr</a></div><div class="ttdeci">bool Utf8toWStr(const std::string &amp;utf8str, std::wstring &amp;wstr, size_t max_len)</div><div class="ttdef"><b>Definition:</b> <a href="Util_8cpp_source.html#l00329">Util.cpp:329</a></div></div>
<div class="ttc" id="aUtil_8h_html"><div class="ttname"><a href="Util_8h.html">Util.h</a></div></div>
<div class="ttc" id="aUtil_8h_html_ae2d53e341b68199f41a9a422da5170c4"><div class="ttname"><a href="Util_8h.html#ae2d53e341b68199f41a9a422da5170c4">isCyrillicCharacter</a></div><div class="ttdeci">bool isCyrillicCharacter(wchar_t wchar)</div><div class="ttdef"><b>Definition:</b> <a href="Util_8h_source.html#l00202">Util.h:202</a></div></div>
<div class="ttc" id="aWorldPacket_8h_html"><div class="ttname"><a href="WorldPacket_8h.html">WorldPacket.h</a></div></div>
<div class="ttc" id="aWorldSession_8h_html"><div class="ttname"><a href="WorldSession_8h.html">WorldSession.h</a></div></div>
<div class="ttc" id="aWorld_8h_html"><div class="ttname"><a href="World_8h.html">World.h</a></div></div>
<div class="ttc" id="aclassAchievementMgr_html_a78368ea82c1c770933b636e1a2343e8e"><div class="ttname"><a href="classAchievementMgr.html#a78368ea82c1c770933b636e1a2343e8e">AchievementMgr::UpdateAchievementCriteria</a></div><div class="ttdeci">void UpdateAchievementCriteria(AchievementCriteriaTypes type, uint32 miscvalue1=0, uint32 miscvalue2=0, Unit *unit=nullptr, uint32 time=0)</div><div class="ttdoc">this function will be called whenever the user might have done a criteria relevant action</div><div class="ttdef"><b>Definition:</b> <a href="AchievementMgr_8cpp_source.html#l00911">AchievementMgr.cpp:911</a></div></div>
<div class="ttc" id="aclassByteBuffer_html_a1c6679ea7a9b1eb27762460f87b25836"><div class="ttname"><a href="classByteBuffer.html#a1c6679ea7a9b1eb27762460f87b25836">ByteBuffer::put</a></div><div class="ttdeci">void put(size_t pos, T value)</div><div class="ttdef"><b>Definition:</b> <a href="ByteBuffer_8h_source.html#l00105">ByteBuffer.h:105</a></div></div>
<div class="ttc" id="aclassByteBuffer_html_a45e6b7d03df82a0be6eab9975193881e"><div class="ttname"><a href="classByteBuffer.html#a45e6b7d03df82a0be6eab9975193881e">ByteBuffer::hexlike</a></div><div class="ttdeci">void hexlike() const</div><div class="ttdef"><b>Definition:</b> <a href="ByteBuffer_8cpp_source.html#l00062">ByteBuffer.cpp:62</a></div></div>
<div class="ttc" id="aclassCharacterHandler_html"><div class="ttname"><a href="classCharacterHandler.html">CharacterHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l00120">CharacterHandler.cpp:121</a></div></div>
<div class="ttc" id="aclassCharacterHandler_html_aa9b46c35b9554aab57c99fbc0e82bd1e"><div class="ttname"><a href="classCharacterHandler.html#aa9b46c35b9554aab57c99fbc0e82bd1e">CharacterHandler::HandleCharEnumCallback</a></div><div class="ttdeci">void HandleCharEnumCallback(QueryResult *result, uint32 account)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l00123">CharacterHandler.cpp:123</a></div></div>
<div class="ttc" id="aclassCharacterHandler_html_add40fc9a8afdfbc3404a3572e4278a80"><div class="ttname"><a href="classCharacterHandler.html#add40fc9a8afdfbc3404a3572e4278a80">CharacterHandler::HandlePlayerLoginCallback</a></div><div class="ttdeci">void HandlePlayerLoginCallback(QueryResult *, SqlQueryHolder *holder)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l00134">CharacterHandler.cpp:134</a></div></div>
<div class="ttc" id="aclassDatabase_html_a05a126869fcd32e43c8db16ed63a2591"><div class="ttname"><a href="classDatabase.html#a05a126869fcd32e43c8db16ed63a2591">Database::BeginTransaction</a></div><div class="ttdeci">bool bool bool BeginTransaction()</div><div class="ttdef"><b>Definition:</b> <a href="Database_8cpp_source.html#l00388">Database.cpp:388</a></div></div>
<div class="ttc" id="aclassDatabase_html_a1379d88f95a689d8b6f7ff0fd9215b4d"><div class="ttname"><a href="classDatabase.html#a1379d88f95a689d8b6f7ff0fd9215b4d">Database::PExecute</a></div><div class="ttdeci">bool PExecute(const char *format,...) ATTR_PRINTF(2</div><div class="ttdef"><b>Definition:</b> <a href="Database_8cpp_source.html#l00348">Database.cpp:348</a></div></div>
<div class="ttc" id="aclassDatabase_html_a3ae8fc1a519edd7205cdc708a8949d54"><div class="ttname"><a href="classDatabase.html#a3ae8fc1a519edd7205cdc708a8949d54">Database::escape_string</a></div><div class="ttdeci">void escape_string(std::string &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="Database_8cpp_source.html#l00204">Database.cpp:204</a></div></div>
<div class="ttc" id="aclassDatabase_html_a7ca2df98b64655a7d7e0cb21bbde220d"><div class="ttname"><a href="classDatabase.html#a7ca2df98b64655a7d7e0cb21bbde220d">Database::AsyncPQuery</a></div><div class="ttdeci">bool AsyncPQuery(Class *object, void(Class::*method)(QueryResult *), const char *format,...) ATTR_PRINTF(4</div><div class="ttdef"><b>Definition:</b> <a href="DatabaseImpl_8h_source.html#l00112">DatabaseImpl.h:112</a></div></div>
<div class="ttc" id="aclassDatabase_html_aaf7bde53b1b1fc06068a5efe4be6479a"><div class="ttname"><a href="classDatabase.html#aaf7bde53b1b1fc06068a5efe4be6479a">Database::DelayQueryHolder</a></div><div class="ttdeci">bool bool bool bool bool bool bool bool DelayQueryHolder(Class *object, void(Class::*method)(QueryResult *, SqlQueryHolder *), SqlQueryHolder *holder)</div></div>
<div class="ttc" id="aclassDatabase_html_abb8080b8ddbc8345e193a7e6f0cfbd88"><div class="ttname"><a href="classDatabase.html#abb8080b8ddbc8345e193a7e6f0cfbd88">Database::CreateStatement</a></div><div class="ttdeci">SqlStatement CreateStatement(SqlStatementID &amp;index, const char *fmt)</div><div class="ttdef"><b>Definition:</b> <a href="Database_8cpp_source.html#l00581">Database.cpp:581</a></div></div>
<div class="ttc" id="aclassDatabase_html_ae9332e6ba803852091f432bc329a62bc"><div class="ttname"><a href="classDatabase.html#ae9332e6ba803852091f432bc329a62bc">Database::PQuery</a></div><div class="ttdeci">QueryResult * PQuery(const char *format,...) ATTR_PRINTF(2</div><div class="ttdef"><b>Definition:</b> <a href="Database_8cpp_source.html#l00286">Database.cpp:286</a></div></div>
<div class="ttc" id="aclassDatabase_html_af4d03f875b7540de19eb1e8ccd0fb841"><div class="ttname"><a href="classDatabase.html#af4d03f875b7540de19eb1e8ccd0fb841">Database::CommitTransaction</a></div><div class="ttdeci">bool CommitTransaction()</div><div class="ttdef"><b>Definition:</b> <a href="Database_8cpp_source.html#l00401">Database.cpp:401</a></div></div>
<div class="ttc" id="aclassField_html"><div class="ttname"><a href="classField.html">Field</a></div><div class="ttdef"><b>Definition:</b> <a href="Field_8h_source.html#l00024">Field.h:25</a></div></div>
<div class="ttc" id="aclassField_html_a090beafdf8b41555058a87d00443498a"><div class="ttname"><a href="classField.html#a090beafdf8b41555058a87d00443498a">Field::GetUInt8</a></div><div class="ttdeci">uint8 GetUInt8() const</div><div class="ttdef"><b>Definition:</b> <a href="Field_8h_source.html#l00056">Field.h:56</a></div></div>
<div class="ttc" id="aclassField_html_ac3fe5bf9cdc61b5be66a4c79598cba5e"><div class="ttname"><a href="classField.html#ac3fe5bf9cdc61b5be66a4c79598cba5e">Field::GetCppString</a></div><div class="ttdeci">std::string GetCppString() const</div><div class="ttdef"><b>Definition:</b> <a href="Field_8h_source.html#l00049">Field.h:49</a></div></div>
<div class="ttc" id="aclassField_html_af71c97fd38da328f4d9590b112f859c4"><div class="ttname"><a href="classField.html#af71c97fd38da328f4d9590b112f859c4">Field::GetUInt32</a></div><div class="ttdeci">uint32 GetUInt32() const</div><div class="ttdef"><b>Definition:</b> <a href="Field_8h_source.html#l00059">Field.h:59</a></div></div>
<div class="ttc" id="aclassGroup_html"><div class="ttname"><a href="classGroup.html">Group</a></div><div class="ttdoc">request member stats checken</div><div class="ttdef"><b>Definition:</b> <a href="Group_8h_source.html#l00122">Group.h:123</a></div></div>
<div class="ttc" id="aclassGroup_html_a708373cab218d8c47c89427f4c2e348b"><div class="ttname"><a href="classGroup.html#a708373cab218d8c47c89427f4c2e348b">Group::UpdatePlayerOnlineStatus</a></div><div class="ttdeci">void UpdatePlayerOnlineStatus(Player *player, bool online=true)</div><div class="ttdef"><b>Definition:</b> <a href="Group_8cpp_source.html#l00735">Group.cpp:735</a></div></div>
<div class="ttc" id="aclassGroup_html_a7d9770739b386d71eacc7c4efa8c9fe5"><div class="ttname"><a href="classGroup.html#a7d9770739b386d71eacc7c4efa8c9fe5">Group::SendUpdateTo</a></div><div class="ttdeci">void SendUpdateTo(Player *player)</div><div class="ttdef"><b>Definition:</b> <a href="Group_8cpp_source.html#l00653">Group.cpp:653</a></div></div>
<div class="ttc" id="aclassGuild_html"><div class="ttname"><a href="classGuild.html">Guild</a></div><div class="ttdef"><b>Definition:</b> <a href="Guild_8h_source.html#l00297">Guild.h:298</a></div></div>
<div class="ttc" id="aclassGuild_html_a597dfc2946cb307fb194bb043c343ac7"><div class="ttname"><a href="classGuild.html#a597dfc2946cb307fb194bb043c343ac7">Guild::DisplayGuildBankTabsInfo</a></div><div class="ttdeci">void DisplayGuildBankTabsInfo(WorldSession *session)</div><div class="ttdef"><b>Definition:</b> <a href="Guild_8cpp_source.html#l01118">Guild.cpp:1118</a></div></div>
<div class="ttc" id="aclassGuild_html_ae01e6c7f19f1ac29bd95b7e848337472"><div class="ttname"><a href="classGuild.html#ae01e6c7f19f1ac29bd95b7e848337472">Guild::GetMOTD</a></div><div class="ttdeci">std::string const  &amp; GetMOTD() const</div><div class="ttdef"><b>Definition:</b> <a href="Guild_8h_source.html#l00314">Guild.h:314</a></div></div>
<div class="ttc" id="aclassGuild_html_afc4606bddd3b65dd670327ffef34a0e1"><div class="ttname"><a href="classGuild.html#afc4606bddd3b65dd670327ffef34a0e1">Guild::BroadcastEvent</a></div><div class="ttdeci">void BroadcastEvent(GuildEvents event, ObjectGuid guid, char const *str1=nullptr, char const *str2=nullptr, char const *str3=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Guild_8cpp_source.html#l02425">Guild.cpp:2425</a></div></div>
<div class="ttc" id="aclassItem_html"><div class="ttname"><a href="classItem.html">Item</a></div><div class="ttdef"><b>Definition:</b> <a href="Item_8h_source.html#l00271">Item.h:272</a></div></div>
<div class="ttc" id="aclassItem_html_a99b0a6a75ee480ff3586f191bb64a19a"><div class="ttname"><a href="classItem.html#a99b0a6a75ee480ff3586f191bb64a19a">Item::GetPos</a></div><div class="ttdeci">uint16 GetPos() const</div><div class="ttdef"><b>Definition:</b> <a href="Item_8h_source.html#l00323">Item.h:323</a></div></div>
<div class="ttc" id="aclassLoginQueryHolder_html"><div class="ttname"><a href="classLoginQueryHolder.html">LoginQueryHolder</a></div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l00056">CharacterHandler.cpp:57</a></div></div>
<div class="ttc" id="aclassLoginQueryHolder_html_a0e1a9e1b505ba40d08daee432eaa40c1"><div class="ttname"><a href="classLoginQueryHolder.html#a0e1a9e1b505ba40d08daee432eaa40c1">LoginQueryHolder::LoginQueryHolder</a></div><div class="ttdeci">LoginQueryHolder(uint32 accountId, ObjectGuid guid)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l00062">CharacterHandler.cpp:62</a></div></div>
<div class="ttc" id="aclassLoginQueryHolder_html_a8cdce5befc3b7f8727eef78ab1f768a2"><div class="ttname"><a href="classLoginQueryHolder.html#a8cdce5befc3b7f8727eef78ab1f768a2">LoginQueryHolder::GetGuid</a></div><div class="ttdeci">ObjectGuid GetGuid() const</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l00064">CharacterHandler.cpp:64</a></div></div>
<div class="ttc" id="aclassLoginQueryHolder_html_ab4696408b2e649dcdaae0bc4330c0b9e"><div class="ttname"><a href="classLoginQueryHolder.html#ab4696408b2e649dcdaae0bc4330c0b9e">LoginQueryHolder::m_guid</a></div><div class="ttdeci">ObjectGuid m_guid</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l00060">CharacterHandler.cpp:60</a></div></div>
<div class="ttc" id="aclassLoginQueryHolder_html_abc8056182803af44a062fe6153fdd009"><div class="ttname"><a href="classLoginQueryHolder.html#abc8056182803af44a062fe6153fdd009">LoginQueryHolder::m_accountId</a></div><div class="ttdeci">uint32 m_accountId</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l00059">CharacterHandler.cpp:59</a></div></div>
<div class="ttc" id="aclassLoginQueryHolder_html_ac44ea5d53fa90dae955bfaa3f472ecea"><div class="ttname"><a href="classLoginQueryHolder.html#ac44ea5d53fa90dae955bfaa3f472ecea">LoginQueryHolder::GetAccountId</a></div><div class="ttdeci">uint32 GetAccountId() const</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l00065">CharacterHandler.cpp:65</a></div></div>
<div class="ttc" id="aclassLoginQueryHolder_html_ae21aca0c9ccc627e084b4a535b3f5774"><div class="ttname"><a href="classLoginQueryHolder.html#ae21aca0c9ccc627e084b4a535b3f5774">LoginQueryHolder::Initialize</a></div><div class="ttdeci">bool Initialize()</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l00069">CharacterHandler.cpp:69</a></div></div>
<div class="ttc" id="aclassLoot_html"><div class="ttname"><a href="classLoot.html">Loot</a></div><div class="ttdef"><b>Definition:</b> <a href="LootMgr_8h_source.html#l00287">LootMgr.h:288</a></div></div>
<div class="ttc" id="aclassMap_html_a268ac27873ee35c75c578e5c4d04bdc5"><div class="ttname"><a href="classMap.html#a268ac27873ee35c75c578e5c4d04bdc5">Map::CreatePlayerOnClient</a></div><div class="ttdeci">void CreatePlayerOnClient(Player *player)</div><div class="ttdef"><b>Definition:</b> <a href="Map_8cpp_source.html#l00469">Map.cpp:469</a></div></div>
<div class="ttc" id="aclassMap_html_a556d2eafa563b4a5de4957de28e369b3"><div class="ttname"><a href="classMap.html#a556d2eafa563b4a5de4957de28e369b3">Map::IsRaid</a></div><div class="ttdeci">bool IsRaid() const</div><div class="ttdef"><b>Definition:</b> <a href="Map_8h_source.html#l00228">Map.h:228</a></div></div>
<div class="ttc" id="aclassMap_html_a7f47c1b7efbaada5de480afb5d9c48a1"><div class="ttname"><a href="classMap.html#a7f47c1b7efbaada5de480afb5d9c48a1">Map::GetWorldObject</a></div><div class="ttdeci">WorldObject * GetWorldObject(ObjectGuid guid)</div><div class="ttdoc">Function return world object in world at CURRENT map, so any except transports.</div><div class="ttdef"><b>Definition:</b> <a href="Map_8cpp_source.html#l02304">Map.cpp:2304</a></div></div>
<div class="ttc" id="aclassMap_html_af928c75fd7374971a2abdc658c89e9d6"><div class="ttname"><a href="classMap.html#af928c75fd7374971a2abdc658c89e9d6">Map::Add</a></div><div class="ttdeci">virtual bool Add(Player *)</div><div class="ttdef"><b>Definition:</b> <a href="Map_8cpp_source.html#l00483">Map.cpp:483</a></div></div>
<div class="ttc" id="aclassMotionMaster_html_a06d5cf35eac7d31217b2266951d60820"><div class="ttname"><a href="classMotionMaster.html#a06d5cf35eac7d31217b2266951d60820">MotionMaster::Initialize</a></div><div class="ttdeci">void Initialize()</div><div class="ttdef"><b>Definition:</b> <a href="MotionMaster_8cpp_source.html#l00059">MotionMaster.cpp:59</a></div></div>
<div class="ttc" id="aclassMovementInfo_html_a029ac9f0cb7e6659f09d62a759cad13a"><div class="ttname"><a href="classMovementInfo.html#a029ac9f0cb7e6659f09d62a759cad13a">MovementInfo::GetTransportPos</a></div><div class="ttdeci">Position const  &amp; GetTransportPos() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00894">Object.h:894</a></div></div>
<div class="ttc" id="aclassObjectAccessor_html_a959bcb90b71aacbb8560642c86c3ab63"><div class="ttname"><a href="classObjectAccessor.html#a959bcb90b71aacbb8560642c86c3ab63">ObjectAccessor::FindPlayer</a></div><div class="ttdeci">static Player * FindPlayer(ObjectGuid guid, bool inWorld=true)</div><div class="ttdef"><b>Definition:</b> <a href="ObjectAccessor_8cpp_source.html#l00102">ObjectAccessor.cpp:102</a></div></div>
<div class="ttc" id="aclassObjectGuid_html"><div class="ttname"><a href="classObjectGuid.html">ObjectGuid</a></div><div class="ttdef"><b>Definition:</b> <a href="ObjectGuid_8h_source.html#l00087">ObjectGuid.h:88</a></div></div>
<div class="ttc" id="aclassObjectGuid_html_a0eb47d3c61516f4242e8599b55ae755e"><div class="ttname"><a href="classObjectGuid.html#a0eb47d3c61516f4242e8599b55ae755e">ObjectGuid::GetString</a></div><div class="ttdeci">std::string GetString() const</div><div class="ttdef"><b>Definition:</b> <a href="ObjectGuid_8cpp_source.html#l00047">ObjectGuid.cpp:47</a></div></div>
<div class="ttc" id="aclassObjectGuid_html_a65626f4640cb4f79c66ce9d5dda8ab27"><div class="ttname"><a href="classObjectGuid.html#a65626f4640cb4f79c66ce9d5dda8ab27">ObjectGuid::GetRawValue</a></div><div class="ttdeci">uint64 GetRawValue() const</div><div class="ttdef"><b>Definition:</b> <a href="ObjectGuid_8h_source.html#l00109">ObjectGuid.h:109</a></div></div>
<div class="ttc" id="aclassObjectGuid_html_a66935d98ce09dcb80d05a34b2697496a"><div class="ttname"><a href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">ObjectGuid::GetCounter</a></div><div class="ttdeci">uint32 GetCounter() const</div><div class="ttdef"><b>Definition:</b> <a href="ObjectGuid_8h_source.html#l00112">ObjectGuid.h:112</a></div></div>
<div class="ttc" id="aclassObjectGuid_html_af2b5cd8ff82b26233adb50a1d8b6cbd9"><div class="ttname"><a href="classObjectGuid.html#af2b5cd8ff82b26233adb50a1d8b6cbd9">ObjectGuid::ReadAsPacked</a></div><div class="ttdeci">PackedGuidReader ReadAsPacked()</div><div class="ttdef"><b>Definition:</b> <a href="ObjectGuid_8h_source.html#l00102">ObjectGuid.h:102</a></div></div>
<div class="ttc" id="aclassObjectMgr_html_a80758dd5cc7374b44e74dffa91313344"><div class="ttname"><a href="classObjectMgr.html#a80758dd5cc7374b44e74dffa91313344">ObjectMgr::CheckPlayerName</a></div><div class="ttdeci">static uint8 CheckPlayerName(const std::string &amp;name, bool create=false)</div><div class="ttdef"><b>Definition:</b> <a href="ObjectMgr_8cpp_source.html#l08875">ObjectMgr.cpp:8875</a></div></div>
<div class="ttc" id="aclassObjectMgr_html_a9083baa829cb9c4eda30c3aea80295dd"><div class="ttname"><a href="classObjectMgr.html#a9083baa829cb9c4eda30c3aea80295dd">ObjectMgr::CheckDeclinedNames</a></div><div class="ttdeci">static bool CheckDeclinedNames(const std::wstring &amp;mainpart, DeclinedName const &amp;names)</div><div class="ttdef"><b>Definition:</b> <a href="ObjectMgr_8cpp_source.html#l09316">ObjectMgr.cpp:9316</a></div></div>
<div class="ttc" id="aclassObject_html_a0a29933a2da73d788a130f971511f2f5"><div class="ttname"><a href="classObject.html#a0a29933a2da73d788a130f971511f2f5">Object::SetByteValue</a></div><div class="ttdeci">void SetByteValue(uint16 index, uint8 offset, uint8 value)</div><div class="ttdef"><b>Definition:</b> <a href="Object_8cpp_source.html#l01048">Object.cpp:1048</a></div></div>
<div class="ttc" id="aclassObject_html_a1dd144f55a02384903919242dbf17505"><div class="ttname"><a href="classObject.html#a1dd144f55a02384903919242dbf17505">Object::SetInt32Value</a></div><div class="ttdeci">void SetInt32Value(uint16 index, int32 value)</div><div class="ttdef"><b>Definition:</b> <a href="Object_8cpp_source.html#l00999">Object.cpp:999</a></div></div>
<div class="ttc" id="aclassObject_html_a4777844356842a389621c1bad1433109"><div class="ttname"><a href="classObject.html#a4777844356842a389621c1bad1433109">Object::GetGUIDLow</a></div><div class="ttdeci">uint32 GetGUIDLow() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00410">Object.h:410</a></div></div>
<div class="ttc" id="aclassObject_html_a5c2f31b9fb0a083ff4caca3de93fac90"><div class="ttname"><a href="classObject.html#a5c2f31b9fb0a083ff4caca3de93fac90">Object::GetGuidStr</a></div><div class="ttdeci">std::string GetGuidStr() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00414">Object.h:414</a></div></div>
<div class="ttc" id="aclassObject_html_a8acb91caf94322dc0289d3e60eb8e0e7"><div class="ttname"><a href="classObject.html#a8acb91caf94322dc0289d3e60eb8e0e7">Object::IsInWorld</a></div><div class="ttdeci">const bool &amp; IsInWorld() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00391">Object.h:391</a></div></div>
<div class="ttc" id="aclassObject_html_acf64820d3725a37cef2c63f0baa820e7"><div class="ttname"><a href="classObject.html#acf64820d3725a37cef2c63f0baa820e7">Object::HasFlag</a></div><div class="ttdeci">bool HasFlag(uint16 index, uint32 flag) const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00524">Object.h:524</a></div></div>
<div class="ttc" id="aclassObject_html_ae6d7d519332f6d82f25286070ed351b1"><div class="ttname"><a href="classObject.html#ae6d7d519332f6d82f25286070ed351b1">Object::ToggleFlag</a></div><div class="ttdeci">void ToggleFlag(uint16 index, uint32 flag)</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00516">Object.h:516</a></div></div>
<div class="ttc" id="aclassObject_html_ae7e0c11556aeda48ab347a56b6b7bd6a"><div class="ttname"><a href="classObject.html#ae7e0c11556aeda48ab347a56b6b7bd6a">Object::GetObjectGuid</a></div><div class="ttdeci">ObjectGuid const  &amp; GetObjectGuid() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00409">Object.h:409</a></div></div>
<div class="ttc" id="aclassPet_html_ab1abe749d93699ce7b7fba55403796c1"><div class="ttname"><a href="classPet.html#ab1abe749d93699ce7b7fba55403796c1">Pet::resetTalentsForAllPetsOf</a></div><div class="ttdeci">static void resetTalentsForAllPetsOf(Player *owner, Pet *online_pet=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Pet_8cpp_source.html#l02016">Pet.cpp:2016</a></div></div>
<div class="ttc" id="aclassPlayerDumpWriter_html"><div class="ttname"><a href="classPlayerDumpWriter.html">PlayerDumpWriter</a></div><div class="ttdef"><b>Definition:</b> <a href="PlayerDump_8h_source.html#l00073">PlayerDump.h:74</a></div></div>
<div class="ttc" id="aclassPlayerDumpWriter_html_ad32b71e6fa25e6694999327494de401f"><div class="ttname"><a href="classPlayerDumpWriter.html#ad32b71e6fa25e6694999327494de401f">PlayerDumpWriter::GetDump</a></div><div class="ttdeci">std::string GetDump(uint32 guid)</div><div class="ttdef"><b>Definition:</b> <a href="PlayerDump_8cpp_source.html#l00347">PlayerDump.cpp:347</a></div></div>
<div class="ttc" id="aclassPlayerSocial_html_a28a7032c4f34e3bfa767a35003e8b3a7"><div class="ttname"><a href="classPlayerSocial.html#a28a7032c4f34e3bfa767a35003e8b3a7">PlayerSocial::SendSocialList</a></div><div class="ttdeci">void SendSocialList()</div><div class="ttdef"><b>Definition:</b> <a href="SocialMgr_8cpp_source.html#l00121">SocialMgr.cpp:121</a></div></div>
<div class="ttc" id="aclassPlayer_html"><div class="ttname"><a href="classPlayer.html">Player</a></div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l01063">Player.h:1064</a></div></div>
<div class="ttc" id="aclassPlayer_html_a04c51185abf2bf437016e97f4d79b2bc"><div class="ttname"><a href="classPlayer.html#a04c51185abf2bf437016e97f4d79b2bc">Player::CleanupChannels</a></div><div class="ttdeci">void CleanupChannels()</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l05279">Player.cpp:5279</a></div></div>
<div class="ttc" id="aclassPlayer_html_a06adafbf0eb3a828dfc0049cc81ca31c"><div class="ttname"><a href="classPlayer.html#a06adafbf0eb3a828dfc0049cc81ca31c">Player::GetReputationMgr</a></div><div class="ttdeci">ReputationMgr &amp; GetReputationMgr()</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l02068">Player.h:2068</a></div></div>
<div class="ttc" id="aclassPlayer_html_a06cd820961fe07e87607b0d975dbe0c3"><div class="ttname"><a href="classPlayer.html#a06cd820961fe07e87607b0d975dbe0c3">Player::SendInitialPacketsAfterAddToMap</a></div><div class="ttdeci">void SendInitialPacketsAfterAddToMap()</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l21310">Player.cpp:21310</a></div></div>
<div class="ttc" id="aclassPlayer_html_a073c8943818a762ba4a6ce8894023ff8"><div class="ttname"><a href="classPlayer.html#a073c8943818a762ba4a6ce8894023ff8">Player::TeamForRace</a></div><div class="ttdeci">static Team TeamForRace(uint8 race)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l06903">Player.cpp:6903</a></div></div>
<div class="ttc" id="aclassPlayer_html_a0a493134d9edc25a43ed9f6d111be9ac"><div class="ttname"><a href="classPlayer.html#a0a493134d9edc25a43ed9f6d111be9ac">Player::SaveToDB</a></div><div class="ttdeci">void SaveToDB()</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l18143">Player.cpp:18143</a></div></div>
<div class="ttc" id="aclassPlayer_html_a0a8049df86707056ac7d376363e8a3da"><div class="ttname"><a href="classPlayer.html#a0a8049df86707056ac7d376363e8a3da">Player::GetRaidDifficulty</a></div><div class="ttdeci">Difficulty GetRaidDifficulty() const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l01861">Player.h:1861</a></div></div>
<div class="ttc" id="aclassPlayer_html_a0ca862189959bae87963c1c60ff79527"><div class="ttname"><a href="classPlayer.html#a0ca862189959bae87963c1c60ff79527">Player::SendCinematicStart</a></div><div class="ttdeci">void SendCinematicStart(uint32 CinematicSequenceId)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l06768">Player.cpp:6768</a></div></div>
<div class="ttc" id="aclassPlayer_html_a0e2828d6c8499db29934f3424d8484e4"><div class="ttname"><a href="classPlayer.html#a0e2828d6c8499db29934f3424d8484e4">Player::SendCorpseReclaimDelay</a></div><div class="ttdeci">void SendCorpseReclaimDelay(bool load=false) const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l22435">Player.cpp:22435</a></div></div>
<div class="ttc" id="aclassPlayer_html_a0ee06e278ecf1ca41c3052e9eb72f13c"><div class="ttname"><a href="classPlayer.html#a0ee06e278ecf1ca41c3052e9eb72f13c">Player::TeleportTo</a></div><div class="ttdeci">bool TeleportTo(uint32 mapid, float x, float y, float z, float orientation, uint32 options=0, AreaTrigger const *at=nullptr, GenericTransport *transport=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l02016">Player.cpp:2016</a></div></div>
<div class="ttc" id="aclassPlayer_html_a10e0fd65ef0d0c9a73107e398622b5c6"><div class="ttname"><a href="classPlayer.html#a10e0fd65ef0d0c9a73107e398622b5c6">Player::resetTalents</a></div><div class="ttdeci">bool resetTalents(bool no_cost=false, bool all_specs=false)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l04116">Player.cpp:4116</a></div></div>
<div class="ttc" id="aclassPlayer_html_a134bcbd463d0048b59372a89f6c455af"><div class="ttname"><a href="classPlayer.html#a134bcbd463d0048b59372a89f6c455af">Player::SendTalentsInfoData</a></div><div class="ttdeci">void SendTalentsInfoData(bool pet)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l23928">Player.cpp:23928</a></div></div>
<div class="ttc" id="aclassPlayer_html_a1b47c641fe0c837c6a39ac8b01022600"><div class="ttname"><a href="classPlayer.html#a1b47c641fe0c837c6a39ac8b01022600">Player::isGMVisible</a></div><div class="ttdeci">bool isGMVisible() const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l01143">Player.h:1143</a></div></div>
<div class="ttc" id="aclassPlayer_html_a1c212b8f9ae8b1a38a41f9c7db005dca"><div class="ttname"><a href="classPlayer.html#a1c212b8f9ae8b1a38a41f9c7db005dca">Player::GetSession</a></div><div class="ttdeci">WorldSession * GetSession() const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l01932">Player.h:1932</a></div></div>
<div class="ttc" id="aclassPlayer_html_a1e02f2ed117ad96e188ed48c2507869b"><div class="ttname"><a href="classPlayer.html#a1e02f2ed117ad96e188ed48c2507869b">Player::GetGuildId</a></div><div class="ttdeci">uint32 GetGuildId() const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l01835">Player.h:1835</a></div></div>
<div class="ttc" id="aclassPlayer_html_a1e95e21528afebf71bd56f1e424ea541"><div class="ttname"><a href="classPlayer.html#a1e95e21528afebf71bd56f1e424ea541">Player::IsBeingTeleportedFar</a></div><div class="ttdeci">bool IsBeingTeleportedFar() const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l02026">Player.h:2026</a></div></div>
<div class="ttc" id="aclassPlayer_html_a1f1b62c81bf8f997e1829cd81369ec16"><div class="ttname"><a href="classPlayer.html#a1f1b62c81bf8f997e1829cd81369ec16">Player::SendRaidDifficulty</a></div><div class="ttdeci">void SendRaidDifficulty(bool IsInGroup, uint32 difficulty) const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l19128">Player.cpp:19128</a></div></div>
<div class="ttc" id="aclassPlayer_html_a21d0d74ce120e8af04f6ef29f9b18bac"><div class="ttname"><a href="classPlayer.html#a21d0d74ce120e8af04f6ef29f9b18bac">Player::SendPetBar</a></div><div class="ttdeci">void SendPetBar()</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l25229">Player.cpp:25229</a></div></div>
<div class="ttc" id="aclassPlayer_html_a2c237f923c0bbaab236259bdeeafeba6"><div class="ttname"><a href="classPlayer.html#a2c237f923c0bbaab236259bdeeafeba6">Player::LoadFromDB</a></div><div class="ttdeci">bool LoadFromDB(ObjectGuid guid, SqlQueryHolder *holder)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l16230">Player.cpp:16230</a></div></div>
<div class="ttc" id="aclassPlayer_html_a2d66ff121460f8923f1e4f4f7a4f1736"><div class="ttname"><a href="classPlayer.html#a2d66ff121460f8923f1e4f4f7a4f1736">Player::m_clientGUIDs</a></div><div class="ttdeci">GuidSet m_clientGUIDs</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l02925">Player.h:2925</a></div></div>
<div class="ttc" id="aclassPlayer_html_a2ef854a82c818ec024051f3d7683e06c"><div class="ttname"><a href="classPlayer.html#a2ef854a82c818ec024051f3d7683e06c">Player::ApplyGlyph</a></div><div class="ttdeci">void ApplyGlyph(uint8 slot, bool apply)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l22749">Player.cpp:22749</a></div></div>
<div class="ttc" id="aclassPlayer_html_a3839a0db7911f71e34f92a46a8ceaa6a"><div class="ttname"><a href="classPlayer.html#a3839a0db7911f71e34f92a46a8ceaa6a">Player::CanStoreItem</a></div><div class="ttdeci">InventoryResult CanStoreItem(uint8 bag, uint8 slot, ItemPosCountVec &amp;dest, Item *pItem, bool swap=false) const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l01297">Player.h:1297</a></div></div>
<div class="ttc" id="aclassPlayer_html_a3acf7eadb0ec1ae686858ea11ee87302"><div class="ttname"><a href="classPlayer.html#a3acf7eadb0ec1ae686858ea11ee87302">Player::GetGroup</a></div><div class="ttdeci">Group * GetGroup()</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l02444">Player.h:2444</a></div></div>
<div class="ttc" id="aclassPlayer_html_a4b55b85a0c0a94c13e155c7031388757"><div class="ttname"><a href="classPlayer.html#a4b55b85a0c0a94c13e155c7031388757">Player::GetGlyph</a></div><div class="ttdeci">uint32 GetGlyph(uint8 slot) const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l01745">Player.h:1745</a></div></div>
<div class="ttc" id="aclassPlayer_html_a4d56d9b5b5047d2db579bfcdb72f819d"><div class="ttname"><a href="classPlayer.html#a4d56d9b5b5047d2db579bfcdb72f819d">Player::SendDungeonDifficulty</a></div><div class="ttdeci">void SendDungeonDifficulty(bool IsInGroup) const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l19118">Player.cpp:19118</a></div></div>
<div class="ttc" id="aclassPlayer_html_a4e146717e02e530b473d147e6c650ff4"><div class="ttname"><a href="classPlayer.html#a4e146717e02e530b473d147e6c650ff4">Player::GetDifficulty</a></div><div class="ttdeci">Difficulty GetDifficulty(bool isRaid) const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l19814">Player.cpp:19814</a></div></div>
<div class="ttc" id="aclassPlayer_html_a51b251222aee52825d8cca5597c11c57"><div class="ttname"><a href="classPlayer.html#a51b251222aee52825d8cca5597c11c57">Player::getCinematic</a></div><div class="ttdeci">uint32 getCinematic() const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l01790">Player.h:1790</a></div></div>
<div class="ttc" id="aclassPlayer_html_a521ab0ff1df28db6683bec51fb39293e"><div class="ttname"><a href="classPlayer.html#a521ab0ff1df28db6683bec51fb39293e">Player::setCinematic</a></div><div class="ttdeci">void setCinematic(uint32 cine)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l01791">Player.h:1791</a></div></div>
<div class="ttc" id="aclassPlayer_html_a53e1db7bde15cef472a6db923d4e79fa"><div class="ttname"><a href="classPlayer.html#a53e1db7bde15cef472a6db923d4e79fa">Player::SendInitialPacketsBeforeAddToMap</a></div><div class="ttdeci">void SendInitialPacketsBeforeAddToMap()</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l21249">Player.cpp:21249</a></div></div>
<div class="ttc" id="aclassPlayer_html_a5e5968eecbbf83a335791937f571c6e4"><div class="ttname"><a href="classPlayer.html#a5e5968eecbbf83a335791937f571c6e4">Player::LoadCorpse</a></div><div class="ttdeci">void LoadCorpse()</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l17069">Player.cpp:17069</a></div></div>
<div class="ttc" id="aclassPlayer_html_a613ef93bed586a887ef8e573cbebb82d"><div class="ttname"><a href="classPlayer.html#a613ef93bed586a887ef8e573cbebb82d">Player::SwapItem</a></div><div class="ttdeci">void SwapItem(uint16 src, uint16 dst)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l12267">Player.cpp:12267</a></div></div>
<div class="ttc" id="aclassPlayer_html_a614350cecee47508508d9a1c683f96a6"><div class="ttname"><a href="classPlayer.html#a614350cecee47508508d9a1c683f96a6">Player::StopCinematic</a></div><div class="ttdeci">void StopCinematic()</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l25251">Player.cpp:25251</a></div></div>
<div class="ttc" id="aclassPlayer_html_a67ac5859ee04767ae673f4bd92f615aa"><div class="ttname"><a href="classPlayer.html#a67ac5859ee04767ae673f4bd92f615aa">Player::SetAtLoginFlag</a></div><div class="ttdeci">void SetAtLoginFlag(AtLoginFlags f)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l02390">Player.h:2390</a></div></div>
<div class="ttc" id="aclassPlayer_html_a6abbe921a0c1584d24a97ccc7cbfc423"><div class="ttname"><a href="classPlayer.html#a6abbe921a0c1584d24a97ccc7cbfc423">Player::DeleteEquipmentSet</a></div><div class="ttdeci">void DeleteEquipmentSet(uint64 setGuid)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l24160">Player.cpp:24160</a></div></div>
<div class="ttc" id="aclassPlayer_html_a6ce4d8eb68a5e4a1a656ebfac0a7653a"><div class="ttname"><a href="classPlayer.html#a6ce4d8eb68a5e4a1a656ebfac0a7653a">Player::RemoveAtLoginFlag</a></div><div class="ttdeci">void RemoveAtLoginFlag(AtLoginFlags f, bool in_db_also=false)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l24346">Player.cpp:24346</a></div></div>
<div class="ttc" id="aclassPlayer_html_a6e31042962f16c90a443ff772363d22f"><div class="ttname"><a href="classPlayer.html#a6e31042962f16c90a443ff772363d22f">Player::GetItemByPos</a></div><div class="ttdeci">Item * GetItemByPos(uint16 pos) const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l09479">Player.cpp:9479</a></div></div>
<div class="ttc" id="aclassPlayer_html_a75da1220ec57e3bf09f3f1be5f787e88"><div class="ttname"><a href="classPlayer.html#a75da1220ec57e3bf09f3f1be5f787e88">Player::Customize</a></div><div class="ttdeci">static void Customize(ObjectGuid guid, uint8 gender, uint8 skin, uint8 face, uint8 hairStyle, uint8 hairColor, uint8 facialHair)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l19055">Player.cpp:19055</a></div></div>
<div class="ttc" id="aclassPlayer_html_a7a3890d188f59bb481d316b5219fb998"><div class="ttname"><a href="classPlayer.html#a7a3890d188f59bb481d316b5219fb998">Player::UpdatePvPContested</a></div><div class="ttdeci">void UpdatePvPContested(bool state, bool overriding=false)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l20697">Player.cpp:20697</a></div></div>
<div class="ttc" id="aclassPlayer_html_a7fd9ab1a44ca7503596a254522533528"><div class="ttname"><a href="classPlayer.html#a7fd9ab1a44ca7503596a254522533528">Player::SendMirrorTimers</a></div><div class="ttdeci">void SendMirrorTimers(bool forced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l01282">Player.cpp:1282</a></div></div>
<div class="ttc" id="aclassPlayer_html_a8130bd3a5158505f20dd68ecca1008b9"><div class="ttname"><a href="classPlayer.html#a8130bd3a5158505f20dd68ecca1008b9">Player::BuildEnumData</a></div><div class="ttdeci">static bool BuildEnumData(QueryResult *result, WorldPacket &amp;p_data)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l01773">Player.cpp:1773</a></div></div>
<div class="ttc" id="aclassPlayer_html_a849f0b3145091380d06a5cade6d3f784"><div class="ttname"><a href="classPlayer.html#a849f0b3145091380d06a5cade6d3f784">Player::TeleportToHomebind</a></div><div class="ttdeci">bool TeleportToHomebind(uint32 options=0)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l02358">Player.h:2358</a></div></div>
<div class="ttc" id="aclassPlayer_html_a89f4e35a51862a89983ee51f3188f550"><div class="ttname"><a href="classPlayer.html#a89f4e35a51862a89983ee51f3188f550">Player::InitTaxiNodesForLevel</a></div><div class="ttdeci">void InitTaxiNodesForLevel()</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l01228">Player.h:1228</a></div></div>
<div class="ttc" id="aclassPlayer_html_a8ccdc080ea11f865575a80f28d6dde5c"><div class="ttname"><a href="classPlayer.html#a8ccdc080ea11f865575a80f28d6dde5c">Player::GetBarberShopCost</a></div><div class="ttdeci">uint32 GetBarberShopCost(uint8 newhairstyle, uint8 newhaircolor, uint8 newfacialhair, uint32 newskintone) const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l22686">Player.cpp:22686</a></div></div>
<div class="ttc" id="aclassPlayer_html_a9186114e20c2bd7ab82ab69956748d6c"><div class="ttname"><a href="classPlayer.html#a9186114e20c2bd7ab82ab69956748d6c">Player::SetInGuild</a></div><div class="ttdeci">void SetInGuild(uint32 GuildId)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l01832">Player.h:1832</a></div></div>
<div class="ttc" id="aclassPlayer_html_a9f23cae8a3da0345a05c2a2bfedc2fe2"><div class="ttname"><a href="classPlayer.html#a9f23cae8a3da0345a05c2a2bfedc2fe2">Player::IsGameMaster</a></div><div class="ttdeci">bool IsGameMaster() const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l01137">Player.h:1137</a></div></div>
<div class="ttc" id="aclassPlayer_html_aa12e2a41dd622b255da7e7874145e1bc"><div class="ttname"><a href="classPlayer.html#aa12e2a41dd622b255da7e7874145e1bc">Player::GetSocial</a></div><div class="ttdeci">PlayerSocial * GetSocial()</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l01130">Player.h:1130</a></div></div>
<div class="ttc" id="aclassPlayer_html_aa1d62e3ea66572ed20ac1035d0de3911"><div class="ttname"><a href="classPlayer.html#aa1d62e3ea66572ed20ac1035d0de3911">Player::DeleteFromDB</a></div><div class="ttdeci">static void DeleteFromDB(ObjectGuid playerguid, uint32 accountId, bool updateRealmChars=true, bool deleteFinally=false)</div><div class="ttdoc">Deletes a character from the database.</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l04464">Player.cpp:4464</a></div></div>
<div class="ttc" id="aclassPlayer_html_aa2abf3e96ea129f9c386b15de2b78a90"><div class="ttname"><a href="classPlayer.html#aa2abf3e96ea129f9c386b15de2b78a90">Player::LoadPet</a></div><div class="ttdeci">void LoadPet()</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l17389">Player.cpp:17389</a></div></div>
<div class="ttc" id="aclassPlayer_html_aa353117ee116132b3eecb927f6fdd48f"><div class="ttname"><a href="classPlayer.html#aa353117ee116132b3eecb927f6fdd48f">Player::SetEquipmentSet</a></div><div class="ttdeci">void SetEquipmentSet(uint32 index, EquipmentSet eqset)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l24018">Player.cpp:24018</a></div></div>
<div class="ttc" id="aclassPlayer_html_aa4b60d0c4800ec25d0703008f7b5d99e"><div class="ttname"><a href="classPlayer.html#aa4b60d0c4800ec25d0703008f7b5d99e">Player::SetGlyph</a></div><div class="ttdeci">void SetGlyph(uint8 slot, uint32 glyph)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l01744">Player.h:1744</a></div></div>
<div class="ttc" id="aclassPlayer_html_aa5ecbc83f83472a98aac1cff3497e806"><div class="ttname"><a href="classPlayer.html#aa5ecbc83f83472a98aac1cff3497e806">Player::GetMoney</a></div><div class="ttdeci">uint32 GetMoney() const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l01615">Player.h:1615</a></div></div>
<div class="ttc" id="aclassPlayer_html_ab098f1496ff1cd35c68d8bf625a1bc13"><div class="ttname"><a href="classPlayer.html#ab098f1496ff1cd35c68d8bf625a1bc13">Player::UpdateClientControl</a></div><div class="ttdeci">void UpdateClientControl(Unit const *target, bool enabled, bool forced=false) const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l22331">Player.cpp:22331</a></div></div>
<div class="ttc" id="aclassPlayer_html_ab09c33760081b99a1d4d9b5156ee71ee"><div class="ttname"><a href="classPlayer.html#ab09c33760081b99a1d4d9b5156ee71ee">Player::Create</a></div><div class="ttdeci">bool Create(uint32 guidlow, const std::string &amp;name, uint8 race, uint8 class_, uint8 gender, uint8 skin, uint8 face, uint8 hairStyle, uint8 hairColor, uint8 facialHair, uint8 outfitId)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l00799">Player.cpp:799</a></div></div>
<div class="ttc" id="aclassPlayer_html_ab2eee9d5a0dcc1bf22d0d3e1d9db3f44"><div class="ttname"><a href="classPlayer.html#ab2eee9d5a0dcc1bf22d0d3e1d9db3f44">Player::ModifyMoney</a></div><div class="ttdeci">void ModifyMoney(int32 d)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l01616">Player.h:1616</a></div></div>
<div class="ttc" id="aclassPlayer_html_ab44cedcf193c8807967a7126bb38de3b"><div class="ttname"><a href="classPlayer.html#ab44cedcf193c8807967a7126bb38de3b">Player::SendEquipError</a></div><div class="ttdeci">void SendEquipError(InventoryResult msg, Item *pItem, Item *pItem2=nullptr, uint32 itemid=0) const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l12645">Player.cpp:12645</a></div></div>
<div class="ttc" id="aclassPlayer_html_aba46f31b2dbdee8ef622f8be4a605ad1"><div class="ttname"><a href="classPlayer.html#aba46f31b2dbdee8ef622f8be4a605ad1">Player::GetAreaTriggerLockStatus</a></div><div class="ttdeci">AreaLockStatus GetAreaTriggerLockStatus(AreaTrigger const *at, Difficulty difficulty, uint32 &amp;miscRequirement, bool forceAllChecks=false)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l24651">Player.cpp:24651</a></div></div>
<div class="ttc" id="aclassPlayer_html_abbf043a7330affa865b3d56730376f3a"><div class="ttname"><a href="classPlayer.html#abbf043a7330affa865b3d56730376f3a">Player::SendEnchantmentDurations</a></div><div class="ttdeci">void SendEnchantmentDurations()</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l13247">Player.cpp:13247</a></div></div>
<div class="ttc" id="aclassPlayer_html_ac6351ac9ee0e10224edb31cef32292e9"><div class="ttname"><a href="classPlayer.html#ac6351ac9ee0e10224edb31cef32292e9">Player::GetAchievementMgr</a></div><div class="ttdeci">AchievementMgr const  &amp; GetAchievementMgr() const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l02488">Player.h:2488</a></div></div>
<div class="ttc" id="aclassPlayer_html_ac6ac8f46f22af63052cbbe3952d2a61a"><div class="ttname"><a href="classPlayer.html#ac6ac8f46f22af63052cbbe3952d2a61a">Player::StoreItem</a></div><div class="ttdeci">Item * StoreItem(ItemPosCountVec const &amp;dest, Item *pItem, bool update)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l11353">Player.cpp:11353</a></div></div>
<div class="ttc" id="aclassPlayer_html_ac869ebf7ab6ba7686d77c7407ece3d04"><div class="ttname"><a href="classPlayer.html#ac869ebf7ab6ba7686d77c7407ece3d04">Player::SendInitWorldStates</a></div><div class="ttdeci">void SendInitWorldStates(uint32 zoneid, uint32 areaid) const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l08834">Player.cpp:8834</a></div></div>
<div class="ttc" id="aclassPlayer_html_acab761654ec528fb7c3bc77fc28a25bd"><div class="ttname"><a href="classPlayer.html#acab761654ec528fb7c3bc77fc28a25bd">Player::HasAtLoginFlag</a></div><div class="ttdeci">bool HasAtLoginFlag(AtLoginFlags f) const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l02389">Player.h:2389</a></div></div>
<div class="ttc" id="aclassPlayer_html_acf2638905279b5bcb6df3e285bece043"><div class="ttname"><a href="classPlayer.html#acf2638905279b5bcb6df3e285bece043">Player::RemoveItem</a></div><div class="ttdeci">void RemoveItem(uint8 bag, uint8 slot, bool update)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l11666">Player.cpp:11666</a></div></div>
<div class="ttc" id="aclassPlayer_html_ad0457921cdd5c6a19c3bbd08c8e2371c"><div class="ttname"><a href="classPlayer.html#ad0457921cdd5c6a19c3bbd08c8e2371c">Player::UpdateClientAuras</a></div><div class="ttdeci">void UpdateClientAuras()</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l25223">Player.cpp:25223</a></div></div>
<div class="ttc" id="aclassPlayer_html_ada2b3bd00f67c2688090c371e7d01bb5"><div class="ttname"><a href="classPlayer.html#ada2b3bd00f67c2688090c371e7d01bb5">Player::SetTaxiCheater</a></div><div class="ttdeci">void SetTaxiCheater(bool on)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l01142">Player.h:1142</a></div></div>
<div class="ttc" id="aclassPlayer_html_adf5d2bf68d3caad2202caeb25daadc8e"><div class="ttname"><a href="classPlayer.html#adf5d2bf68d3caad2202caeb25daadc8e">Player::GetItemByGuid</a></div><div class="ttdeci">Item * GetItemByGuid(ObjectGuid guid) const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l09445">Player.cpp:9445</a></div></div>
<div class="ttc" id="aclassPlayer_html_ae1d1899fa6df13292b3d0672e4ce5ebe"><div class="ttname"><a href="classPlayer.html#ae1d1899fa6df13292b3d0672e4ce5ebe">Player::SendItemDurations</a></div><div class="ttdeci">void SendItemDurations()</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l13255">Player.cpp:13255</a></div></div>
<div class="ttc" id="aclassPlayer_html_ae59b0fc7554f98d467ed950286a213b0"><div class="ttname"><a href="classPlayer.html#ae59b0fc7554f98d467ed950286a213b0">Player::ValidateAppearance</a></div><div class="ttdeci">static bool ValidateAppearance(uint8 race, uint8 class_, uint8 gender, uint8 hairID, uint8 hairColor, uint8 faceID, uint8 facialHair, uint8 skinColor, bool create=false)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l00765">Player.cpp:765</a></div></div>
<div class="ttc" id="aclassPlayer_html_aeb27cbb60fc471fd2cb39a321fb38245"><div class="ttname"><a href="classPlayer.html#aeb27cbb60fc471fd2cb39a321fb38245">Player::SetInGameTime</a></div><div class="ttdeci">void SetInGameTime(uint32 time)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l01560">Player.h:1560</a></div></div>
<div class="ttc" id="aclassPlayer_html_af3fe29e20b63e5611e229194d6d332c7"><div class="ttname"><a href="classPlayer.html#af3fe29e20b63e5611e229194d6d332c7">Player::SetRank</a></div><div class="ttdeci">void SetRank(uint32 rankId)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l01833">Player.h:1833</a></div></div>
<div class="ttc" id="aclassPlayer_html_af65f1b1b6e05c2db9fc94ed27948d9ae"><div class="ttname"><a href="classPlayer.html#af65f1b1b6e05c2db9fc94ed27948d9ae">Player::TaxiFlightResume</a></div><div class="ttdeci">void TaxiFlightResume(bool forceRenewMoveGen=false)</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l20046">Player.cpp:20046</a></div></div>
<div class="ttc" id="aclassPlayer_html_af844c9dfab333ce6bb51a81ce88647b0"><div class="ttname"><a href="classPlayer.html#af844c9dfab333ce6bb51a81ce88647b0">Player::resetSpells</a></div><div class="ttdeci">void resetSpells()</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l21486">Player.cpp:21486</a></div></div>
<div class="ttc" id="aclassPlayerbotMgr_html_a83ee5d59d994b37063b3a97d16ffc973"><div class="ttname"><a href="classPlayerbotMgr.html#a83ee5d59d994b37063b3a97d16ffc973">PlayerbotMgr::LoginPlayerBot</a></div><div class="ttdeci">void LoginPlayerBot(ObjectGuid guid)</div></div>
<div class="ttc" id="aclassQueryResult_html"><div class="ttname"><a href="classQueryResult.html">QueryResult</a></div><div class="ttdef"><b>Definition:</b> <a href="QueryResult_8h_source.html#l00026">QueryResult.h:27</a></div></div>
<div class="ttc" id="aclassQueryResult_html_a8f1f135d431fe357bf2b9373dc8d59be"><div class="ttname"><a href="classQueryResult.html#a8f1f135d431fe357bf2b9373dc8d59be">QueryResult::NextRow</a></div><div class="ttdeci">virtual bool NextRow()=0</div></div>
<div class="ttc" id="aclassQueryResult_html_ae59bcb12d59b9a369953be91ddb5c446"><div class="ttname"><a href="classQueryResult.html#ae59bcb12d59b9a369953be91ddb5c446">QueryResult::Fetch</a></div><div class="ttdeci">Field * Fetch() const</div><div class="ttdef"><b>Definition:</b> <a href="QueryResult_8h_source.html#l00036">QueryResult.h:36</a></div></div>
<div class="ttc" id="aclassReputationMgr_html_a58f870fddc369974199f4cc8305cad74"><div class="ttname"><a href="classReputationMgr.html#a58f870fddc369974199f4cc8305cad74">ReputationMgr::SetAtWar</a></div><div class="ttdeci">void SetAtWar(RepListID repListID, bool on)</div><div class="ttdef"><b>Definition:</b> <a href="ReputationMgr_8cpp_source.html#l00454">ReputationMgr.cpp:454</a></div></div>
<div class="ttc" id="aclassReputationMgr_html_af67314d7007c3b81130dd1e47c479d7d"><div class="ttname"><a href="classReputationMgr.html#af67314d7007c3b81130dd1e47c479d7d">ReputationMgr::SetInactive</a></div><div class="ttdeci">void SetInactive(RepListID repListID, bool on)</div><div class="ttdef"><b>Definition:</b> <a href="ReputationMgr_8cpp_source.html#l00489">ReputationMgr.cpp:489</a></div></div>
<div class="ttc" id="aclassSQLStorage_html_ace42ec0424ef41d187eb7c1bdcfa8c62"><div class="ttname"><a href="classSQLStorage.html#ace42ec0424ef41d187eb7c1bdcfa8c62">SQLStorage::LookupEntry</a></div><div class="ttdeci">T const  * LookupEntry(uint32 id) const</div><div class="ttdef"><b>Definition:</b> <a href="SQLStorage_8h_source.html#l00113">SQLStorage.h:113</a></div></div>
<div class="ttc" id="aclassSqlQueryHolder_html"><div class="ttname"><a href="classSqlQueryHolder.html">SqlQueryHolder</a></div><div class="ttdef"><b>Definition:</b> <a href="SqlOperations_8h_source.html#l00119">SqlOperations.h:120</a></div></div>
<div class="ttc" id="aclassSqlQueryHolder_html_a7e746be9e265f33222d288dccd2bc442"><div class="ttname"><a href="classSqlQueryHolder.html#a7e746be9e265f33222d288dccd2bc442">SqlQueryHolder::GetResult</a></div><div class="ttdeci">QueryResult * GetResult(size_t index)</div><div class="ttdef"><b>Definition:</b> <a href="SqlOperations_8cpp_source.html#l00175">SqlOperations.cpp:175</a></div></div>
<div class="ttc" id="aclassSqlQueryHolder_html_a856777eb4b0519adc52d7f1dac72fdd3"><div class="ttname"><a href="classSqlQueryHolder.html#a856777eb4b0519adc52d7f1dac72fdd3">SqlQueryHolder::SetPQuery</a></div><div class="ttdeci">bool SetPQuery(size_t index, const char *format,...) ATTR_PRINTF(3</div><div class="ttdef"><b>Definition:</b> <a href="SqlOperations_8cpp_source.html#l00152">SqlOperations.cpp:152</a></div></div>
<div class="ttc" id="aclassSqlQueryHolder_html_a8ad1b3829b242ecdc11e4eb192700411"><div class="ttname"><a href="classSqlQueryHolder.html#a8ad1b3829b242ecdc11e4eb192700411">SqlQueryHolder::SetSize</a></div><div class="ttdeci">bool void SetSize(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="SqlOperations_8cpp_source.html#l00212">SqlOperations.cpp:212</a></div></div>
<div class="ttc" id="aclassSqlStatementID_html"><div class="ttname"><a href="classSqlStatementID.html">SqlStatementID</a></div><div class="ttdef"><b>Definition:</b> <a href="SqlPreparedStatement_8h_source.html#l00172">SqlPreparedStatement.h:173</a></div></div>
<div class="ttc" id="aclassSqlStatement_html"><div class="ttname"><a href="classSqlStatement.html">SqlStatement</a></div><div class="ttdef"><b>Definition:</b> <a href="SqlPreparedStatement_8h_source.html#l00191">SqlPreparedStatement.h:192</a></div></div>
<div class="ttc" id="aclassSqlStatement_html_afb3a28c8d108512cb788670efd8a910a"><div class="ttname"><a href="classSqlStatement.html#afb3a28c8d108512cb788670efd8a910a">SqlStatement::PExecute</a></div><div class="ttdeci">bool PExecute(ParamType1 param1)</div><div class="ttdef"><b>Definition:</b> <a href="SqlPreparedStatement_8h_source.html#l00212">SqlPreparedStatement.h:212</a></div></div>
<div class="ttc" id="aclassUnit_html_a0d13935c40d0392f7f7b5a34540461b2"><div class="ttname"><a href="classUnit.html#a0d13935c40d0392f7f7b5a34540461b2">Unit::getGender</a></div><div class="ttdeci">uint8 getGender() const</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l01396">Unit.h:1396</a></div></div>
<div class="ttc" id="aclassUnit_html_a16c11cd0fdc3d5eff1759e7aa191fe89"><div class="ttname"><a href="classUnit.html#a16c11cd0fdc3d5eff1759e7aa191fe89">Unit::SetStunnedByLogout</a></div><div class="ttdeci">bool SetStunnedByLogout(bool apply)</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8cpp_source.html#l12145">Unit.cpp:12145</a></div></div>
<div class="ttc" id="aclassUnit_html_a211876b6b1dcea2eedcc52e754093d70"><div class="ttname"><a href="classUnit.html#a211876b6b1dcea2eedcc52e754093d70">Unit::CastSpell</a></div><div class="ttdeci">SpellCastResult CastSpell(Unit *Victim, uint32 spellId, uint32 triggeredFlags, Item *castItem=nullptr, Aura *triggeredByAura=nullptr, ObjectGuid originalCaster=ObjectGuid(), SpellEntry const *triggeredBy=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8cpp_source.html#l01479">Unit.cpp:1479</a></div></div>
<div class="ttc" id="aclassUnit_html_a5861302a7c0e64113cfc5bc6d5660fa4"><div class="ttname"><a href="classUnit.html#a5861302a7c0e64113cfc5bc6d5660fa4">Unit::IsClientControlled</a></div><div class="ttdeci">bool IsClientControlled(Player const *exactClient=nullptr) const</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8cpp_source.html#l07738">Unit.cpp:7738</a></div></div>
<div class="ttc" id="aclassUnit_html_a58a507ebe628930b8a506144b364d84b"><div class="ttname"><a href="classUnit.html#a58a507ebe628930b8a506144b364d84b">Unit::getClass</a></div><div class="ttdeci">uint8 getClass() const</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l01394">Unit.h:1394</a></div></div>
<div class="ttc" id="aclassUnit_html_a598220bd7032e604abfdb838b9d60f66"><div class="ttname"><a href="classUnit.html#a598220bd7032e604abfdb838b9d60f66">Unit::IsTaxiFlying</a></div><div class="ttdeci">bool IsTaxiFlying() const</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l01705">Unit.h:1705</a></div></div>
<div class="ttc" id="aclassUnit_html_a5ea3f54af571493f7889220724667189"><div class="ttname"><a href="classUnit.html#a5ea3f54af571493f7889220724667189">Unit::IsAlive</a></div><div class="ttdeci">bool IsAlive() const</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l01895">Unit.h:1895</a></div></div>
<div class="ttc" id="aclassUnit_html_a6095270dbf0be2614592c880d455fa3c"><div class="ttname"><a href="classUnit.html#a6095270dbf0be2614592c880d455fa3c">Unit::m_deathState</a></div><div class="ttdeci">DeathState m_deathState</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l02632">Unit.h:2632</a></div></div>
<div class="ttc" id="aclassUnit_html_a66120644adf09a45c139d48d4e4dce5b"><div class="ttname"><a href="classUnit.html#a66120644adf09a45c139d48d4e4dce5b">Unit::IsStandState</a></div><div class="ttdeci">bool IsStandState() const</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8cpp_source.html#l12264">Unit.cpp:12264</a></div></div>
<div class="ttc" id="aclassUnit_html_a7e54441e936d60c8d5debbf0f64b8d9c"><div class="ttname"><a href="classUnit.html#a7e54441e936d60c8d5debbf0f64b8d9c">Unit::GetLevel</a></div><div class="ttdeci">uint32 GetLevel() const override</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l01391">Unit.h:1391</a></div></div>
<div class="ttc" id="aclassUnit_html_a8013081555f55a6ae6bd0a10e5e37c83"><div class="ttname"><a href="classUnit.html#a8013081555f55a6ae6bd0a10e5e37c83">Unit::SetPvPFreeForAll</a></div><div class="ttdeci">void SetPvPFreeForAll(bool state)</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8cpp_source.html#l12869">Unit.cpp:12869</a></div></div>
<div class="ttc" id="aclassUnit_html_a9731c4b138baf4f2f4e9ff97f1c11dc0"><div class="ttname"><a href="classUnit.html#a9731c4b138baf4f2f4e9ff97f1c11dc0">Unit::IsStunned</a></div><div class="ttdeci">bool IsStunned() const</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l02424">Unit.h:2424</a></div></div>
<div class="ttc" id="aclassUnit_html_aa763cca3344c39360cf4f891300a17df"><div class="ttname"><a href="classUnit.html#aa763cca3344c39360cf4f891300a17df">Unit::getRace</a></div><div class="ttdeci">virtual uint8 getRace() const</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l01392">Unit.h:1392</a></div></div>
<div class="ttc" id="aclassUnit_html_aae6570959bf6129418e1db63aeafdc1a"><div class="ttname"><a href="classUnit.html#aae6570959bf6129418e1db63aeafdc1a">Unit::GetMotionMaster</a></div><div class="ttdeci">MotionMaster * GetMotionMaster()</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l02408">Unit.h:2408</a></div></div>
<div class="ttc" id="aclassUnit_html_abb79712b4352c29254d80b3072ba9956"><div class="ttname"><a href="classUnit.html#abb79712b4352c29254d80b3072ba9956">Unit::SetStandState</a></div><div class="ttdeci">void SetStandState(uint8 state, bool acknowledge=false)</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8cpp_source.html#l12285">Unit.cpp:12285</a></div></div>
<div class="ttc" id="aclassUnit_html_aebec2aa935a64dee5c5b219e54f714d0"><div class="ttname"><a href="classUnit.html#aebec2aa935a64dee5c5b219e54f714d0">Unit::SetWaterWalk</a></div><div class="ttdeci">void SetWaterWalk(bool enabled)</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8cpp_source.html#l14941">Unit.cpp:14941</a></div></div>
<div class="ttc" id="aclassWorldObject_html"><div class="ttname"><a href="classWorldObject.html">WorldObject</a></div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00946">Object.h:947</a></div></div>
<div class="ttc" id="aclassWorldObject_html_a485ded18163bda1b789be2283781780e"><div class="ttname"><a href="classWorldObject.html#a485ded18163bda1b789be2283781780e">WorldObject::GetMapId</a></div><div class="ttdeci">uint32 GetMapId() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l01043">Object.h:1043</a></div></div>
<div class="ttc" id="aclassWorldObject_html_a76c507a1b3adcebf2732572bc6b67fe0"><div class="ttname"><a href="classWorldObject.html#a76c507a1b3adcebf2732572bc6b67fe0">WorldObject::GetMap</a></div><div class="ttdeci">Map * GetMap() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l01170">Object.h:1170</a></div></div>
<div class="ttc" id="aclassWorldObject_html_a87ee372cff9cd5f87dc4171ad3a7efef"><div class="ttname"><a href="classWorldObject.html#a87ee372cff9cd5f87dc4171ad3a7efef">WorldObject::GetTransport</a></div><div class="ttdeci">GenericTransport * GetTransport() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l01239">Object.h:1239</a></div></div>
<div class="ttc" id="aclassWorldObject_html_a950bb10c341d39dff61c394009860ac3"><div class="ttname"><a href="classWorldObject.html#a950bb10c341d39dff61c394009860ac3">WorldObject::GetPositionY</a></div><div class="ttdeci">float GetPositionY() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00969">Object.h:969</a></div></div>
<div class="ttc" id="aclassWorldObject_html_a9c900e733e0e4b039682234dd9514a7e"><div class="ttname"><a href="classWorldObject.html#a9c900e733e0e4b039682234dd9514a7e">WorldObject::GetPositionZ</a></div><div class="ttdeci">float GetPositionZ() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00970">Object.h:970</a></div></div>
<div class="ttc" id="aclassWorldObject_html_aa66c526ae67a978c3c8abfef4e45df50"><div class="ttname"><a href="classWorldObject.html#aa66c526ae67a978c3c8abfef4e45df50">WorldObject::GetPositionX</a></div><div class="ttdeci">float GetPositionX() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00968">Object.h:968</a></div></div>
<div class="ttc" id="aclassWorldObject_html_ab6ca0a11a0d2bb8a7ec0110adb732857"><div class="ttname"><a href="classWorldObject.html#ab6ca0a11a0d2bb8a7ec0110adb732857">WorldObject::GetOrientation</a></div><div class="ttdeci">float GetOrientation() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00976">Object.h:976</a></div></div>
<div class="ttc" id="aclassWorldObject_html_ad7f9a1627d3568f34c381027145f39ee"><div class="ttname"><a href="classWorldObject.html#ad7f9a1627d3568f34c381027145f39ee">WorldObject::m_movementInfo</a></div><div class="ttdeci">MovementInfo m_movementInfo</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l01242">Object.h:1242</a></div></div>
<div class="ttc" id="aclassWorldObject_html_ae1a8efe701e885f0ed1eaeb93bbece8e"><div class="ttname"><a href="classWorldObject.html#ae1a8efe701e885f0ed1eaeb93bbece8e">WorldObject::GetZoneAndAreaId</a></div><div class="ttdeci">void GetZoneAndAreaId(uint32 &amp;zoneid, uint32 &amp;areaid) const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8cpp_source.html#l01406">Object.cpp:1406</a></div></div>
<div class="ttc" id="aclassWorldObject_html_af60e24425abfff16a925c7b5808d8b38"><div class="ttname"><a href="classWorldObject.html#af60e24425abfff16a925c7b5808d8b38">WorldObject::GetName</a></div><div class="ttdeci">char const  * GetName() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l01058">Object.h:1058</a></div></div>
<div class="ttc" id="aclassWorldPacket_html"><div class="ttname"><a href="classWorldPacket.html">WorldPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="WorldPacket_8h_source.html#l00029">WorldPacket.h:30</a></div></div>
<div class="ttc" id="aclassWorldPacket_html_a59f4f321e9acdb083f31cc54f1203b21"><div class="ttname"><a href="classWorldPacket.html#a59f4f321e9acdb083f31cc54f1203b21">WorldPacket::Initialize</a></div><div class="ttdeci">void Initialize(Opcodes opcode, size_t newres=200)</div><div class="ttdef"><b>Definition:</b> <a href="WorldPacket_8h_source.html#l00046">WorldPacket.h:46</a></div></div>
<div class="ttc" id="aclassWorldSession_html"><div class="ttname"><a href="classWorldSession.html">WorldSession</a></div><div class="ttdoc">Player session in the World.</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00243">WorldSession.h:244</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a035730564f110faad74aef245f930e42"><div class="ttname"><a href="classWorldSession.html#a035730564f110faad74aef245f930e42">WorldSession::HandleEquipmentSetDeleteOpcode</a></div><div class="ttdeci">void HandleEquipmentSetDeleteOpcode(WorldPacket &amp;recv_data)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l01563">CharacterHandler.cpp:1563</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a037c12aed6ed5ef982a25682f19316e9"><div class="ttname"><a href="classWorldSession.html#a037c12aed6ed5ef982a25682f19316e9">WorldSession::HandleShowingHelmOpcode</a></div><div class="ttdeci">void HandleShowingHelmOpcode(WorldPacket &amp;recv_data)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l01160">CharacterHandler.cpp:1160</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a0e56de66ca225e2bd5926685768d8ed5"><div class="ttname"><a href="classWorldSession.html#a0e56de66ca225e2bd5926685768d8ed5">WorldSession::KickPlayer</a></div><div class="ttdeci">void KickPlayer(bool save=false, bool inPlace=false)</div><div class="ttdoc">Kick a player out of the World.</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8cpp_source.html#l00788">WorldSession.cpp:788</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a10d7c2283c9d5f90922d1b6b519af70e"><div class="ttname"><a href="classWorldSession.html#a10d7c2283c9d5f90922d1b6b519af70e">WorldSession::HandlePlayerReconnect</a></div><div class="ttdeci">void HandlePlayerReconnect()</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l00953">CharacterHandler.cpp:953</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a146351c9d05131f0384674a5684f0920"><div class="ttname"><a href="classWorldSession.html#a146351c9d05131f0384674a5684f0920">WorldSession::HandlePlayerLoginOpcode</a></div><div class="ttdeci">void HandlePlayerLoginOpcode(WorldPacket &amp;recvPacket)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l00589">CharacterHandler.cpp:589</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a1486aa8ec22b37286f37d3af1a85d68a"><div class="ttname"><a href="classWorldSession.html#a1486aa8ec22b37286f37d3af1a85d68a">WorldSession::HandleRemoveGlyphOpcode</a></div><div class="ttdeci">void HandleRemoveGlyphOpcode(WorldPacket &amp;recv_data)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l01401">CharacterHandler.cpp:1401</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a15a10b125d9f54c3945a3daf319b228f"><div class="ttname"><a href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">WorldSession::SendPacket</a></div><div class="ttdeci">void SendPacket(WorldPacket const &amp;packet) const</div><div class="ttdoc">Send a packet to the client.</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8cpp_source.html#l00202">WorldSession.cpp:202</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a24565a748dd8dcc1b1adbcaf8ac399c3"><div class="ttname"><a href="classWorldSession.html#a24565a748dd8dcc1b1adbcaf8ac399c3">WorldSession::SendExpectedSpamRecords</a></div><div class="ttdeci">void SendExpectedSpamRecords()</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8cpp_source.html#l00816">WorldSession.cpp:816</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a24890a3e19f87de8527150838b6d1498"><div class="ttname"><a href="classWorldSession.html#a24890a3e19f87de8527150838b6d1498">WorldSession::HandleShowingCloakOpcode</a></div><div class="ttdeci">void HandleShowingCloakOpcode(WorldPacket &amp;recv_data)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l01166">CharacterHandler.cpp:1166</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a25cfeb6fbef3f5e939aa08dc5d12a407"><div class="ttname"><a href="classWorldSession.html#a25cfeb6fbef3f5e939aa08dc5d12a407">WorldSession::SendNotification</a></div><div class="ttdeci">void SendNotification(const char *format,...) const ATTR_PRINTF(2</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8cpp_source.html#l00878">WorldSession.cpp:878</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a2a51e88cab8c007756b59edf45776fac"><div class="ttname"><a href="classWorldSession.html#a2a51e88cab8c007756b59edf45776fac">WorldSession::HandleCharEnumOpcode</a></div><div class="ttdeci">void HandleCharEnumOpcode(WorldPacket &amp;recvPacket)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l00197">CharacterHandler.cpp:197</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a2b220dba264661e5d38d42f18aab3cff"><div class="ttname"><a href="classWorldSession.html#a2b220dba264661e5d38d42f18aab3cff">WorldSession::isLogingOut</a></div><div class="ttdeci">bool isLogingOut() const</div><div class="ttdoc">Is the user engaged in a log out process?</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00326">WorldSession.h:326</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a3469eb70c410f08e9ebe33aa6837ee65"><div class="ttname"><a href="classWorldSession.html#a3469eb70c410f08e9ebe33aa6837ee65">WorldSession::HandleCharCustomizeOpcode</a></div><div class="ttdeci">void HandleCharCustomizeOpcode(WorldPacket &amp;recv_data)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l01420">CharacterHandler.cpp:1420</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a38f29ba7dc5216093dd812cf3e7861df"><div class="ttname"><a href="classWorldSession.html#a38f29ba7dc5216093dd812cf3e7861df">WorldSession::GetSecurity</a></div><div class="ttdeci">AccountTypes GetSecurity() const</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00290">WorldSession.h:290</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a4468ba5e2473de51ebaa0e7e1d2e9e14"><div class="ttname"><a href="classWorldSession.html#a4468ba5e2473de51ebaa0e7e1d2e9e14">WorldSession::m_playerLoading</a></div><div class="ttdeci">bool m_playerLoading</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l01058">WorldSession.h:1058</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a49473749c6f07121ea8bbedff4a563d4"><div class="ttname"><a href="classWorldSession.html#a49473749c6f07121ea8bbedff4a563d4">WorldSession::HandlePlayerLogin</a></div><div class="ttdeci">void HandlePlayerLogin(LoginQueryHolder *holder)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l00676">CharacterHandler.cpp:676</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a4a3d581db50d5638253340fa4375b3cc"><div class="ttname"><a href="classWorldSession.html#a4a3d581db50d5638253340fa4375b3cc">WorldSession::SetOnline</a></div><div class="ttdeci">void SetOnline()</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8cpp_source.html#l00147">WorldSession.cpp:147</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a507d36d62e25aa6af085c1ff9d276143"><div class="ttname"><a href="classWorldSession.html#a507d36d62e25aa6af085c1ff9d276143">WorldSession::GetAccountName</a></div><div class="ttdeci">std::string const  &amp; GetAccountName() const</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00296">WorldSession.h:296</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a516d5a9c21e771938aed3adf66743782"><div class="ttname"><a href="classWorldSession.html#a516d5a9c21e771938aed3adf66743782">WorldSession::HandleSetFactionInactiveOpcode</a></div><div class="ttdeci">void HandleSetFactionInactiveOpcode(WorldPacket &amp;recv_data)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l01150">CharacterHandler.cpp:1150</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a52a8c539a52a2c6207cd6435184a553f"><div class="ttname"><a href="classWorldSession.html#a52a8c539a52a2c6207cd6435184a553f">WorldSession::HandleEquipmentSetSaveOpcode</a></div><div class="ttdeci">void HandleEquipmentSetSaveOpcode(WorldPacket &amp;recv_data)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l01511">CharacterHandler.cpp:1511</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a58f0fa41509b5c906e9ec11e2bfd1ae5"><div class="ttname"><a href="classWorldSession.html#a58f0fa41509b5c906e9ec11e2bfd1ae5">WorldSession::GetTutorialInt</a></div><div class="ttdeci">uint32 GetTutorialInt(uint32 intId)</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00405">WorldSession.h:405</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a5c059cf7f3ade617eb581df7c15d2c20"><div class="ttname"><a href="classWorldSession.html#a5c059cf7f3ade617eb581df7c15d2c20">WorldSession::m_anticheat</a></div><div class="ttdeci">std::unique_ptr&lt; SessionAnticheatInterface &gt; m_anticheat</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l01052">WorldSession.h:1052</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a64f75083467d260521ec1d7b246e2fa6"><div class="ttname"><a href="classWorldSession.html#a64f75083467d260521ec1d7b246e2fa6">WorldSession::m_currentPlayerLevel</a></div><div class="ttdeci">std::atomic&lt; uint32 &gt; m_currentPlayerLevel</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l01097">WorldSession.h:1097</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a6518fa6d76b730689eb44f2256af3726"><div class="ttname"><a href="classWorldSession.html#a6518fa6d76b730689eb44f2256af3726">WorldSession::PlayerLoading</a></div><div class="ttdeci">bool PlayerLoading() const</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00261">WorldSession.h:261</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a730d1bccf7b7f889892938cef23f5756"><div class="ttname"><a href="classWorldSession.html#a730d1bccf7b7f889892938cef23f5756">WorldSession::HandleTutorialFlagOpcode</a></div><div class="ttdeci">void HandleTutorialFlagOpcode(WorldPacket &amp;recv_data)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l01110">CharacterHandler.cpp:1110</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a7421f32307b83922c994cca13c467d09"><div class="ttname"><a href="classWorldSession.html#a7421f32307b83922c994cca13c467d09">WorldSession::HandleCharEnum</a></div><div class="ttdeci">void HandleCharEnum(QueryResult *result)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l00170">CharacterHandler.cpp:170</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a8255ed0fb321832a76515274cd234922"><div class="ttname"><a href="classWorldSession.html#a8255ed0fb321832a76515274cd234922">WorldSession::SendOfflineNameQueryResponses</a></div><div class="ttdeci">void SendOfflineNameQueryResponses()</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8cpp_source.html#l00851">WorldSession.cpp:851</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a83ccce60b4ba2b7d65097dec043bc73f"><div class="ttname"><a href="classWorldSession.html#a83ccce60b4ba2b7d65097dec043bc73f">WorldSession::HandleSetWatchedFactionOpcode</a></div><div class="ttdeci">void HandleSetWatchedFactionOpcode(WorldPacket &amp;recv_data)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l01142">CharacterHandler.cpp:1142</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a840baddf304dca9623c0398890de0984"><div class="ttname"><a href="classWorldSession.html#a840baddf304dca9623c0398890de0984">WorldSession::HandleChangePlayerNameOpcodeCallBack</a></div><div class="ttdeci">static void HandleChangePlayerNameOpcodeCallBack(QueryResult *result, uint32 accountId, std::string newname)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l01219">CharacterHandler.cpp:1219</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a88fb73d33691773e6b47bacfee09ce06"><div class="ttname"><a href="classWorldSession.html#a88fb73d33691773e6b47bacfee09ce06">WorldSession::LoadAccountData</a></div><div class="ttdeci">void LoadAccountData(QueryResult *result, uint32 mask)</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8cpp_source.html#l00969">WorldSession.cpp:969</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a8ebfff411a3cb135670d5a418e7b85c5"><div class="ttname"><a href="classWorldSession.html#a8ebfff411a3cb135670d5a418e7b85c5">WorldSession::m_initialZoneUpdated</a></div><div class="ttdeci">bool m_initialZoneUpdated</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l01075">WorldSession.h:1075</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a8f345b81d0c9953a3f75ac8e278a9e05"><div class="ttname"><a href="classWorldSession.html#a8f345b81d0c9953a3f75ac8e278a9e05">WorldSession::HandleCharDeleteOpcode</a></div><div class="ttdeci">void HandleCharDeleteOpcode(WorldPacket &amp;recvPacket)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l00525">CharacterHandler.cpp:525</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a8fee661e39e14c3bcb35189731d32b9d"><div class="ttname"><a href="classWorldSession.html#a8fee661e39e14c3bcb35189731d32b9d">WorldSession::HandleTutorialClearOpcode</a></div><div class="ttdeci">void HandleTutorialClearOpcode(WorldPacket &amp;recv_data)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l01130">CharacterHandler.cpp:1130</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a9049c99c2dc91929316b964377c1df87"><div class="ttname"><a href="classWorldSession.html#a9049c99c2dc91929316b964377c1df87">WorldSession::HandleMoveWorldportAckOpcode</a></div><div class="ttdeci">void HandleMoveWorldportAckOpcode()</div><div class="ttdef"><b>Definition:</b> <a href="MovementHandler_8cpp_source.html#l00048">MovementHandler.cpp:48</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a90b597b1f9fd50438e1a555bd31aee54"><div class="ttname"><a href="classWorldSession.html#a90b597b1f9fd50438e1a555bd31aee54">WorldSession::GetRecruitingFriendId</a></div><div class="ttdeci">uint32 GetRecruitingFriendId() const</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00482">WorldSession.h:482</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a91b000b80de794cd0323cb238c566240"><div class="ttname"><a href="classWorldSession.html#a91b000b80de794cd0323cb238c566240">WorldSession::HandleCharRenameOpcode</a></div><div class="ttdeci">void HandleCharRenameOpcode(WorldPacket &amp;recv_data)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l01172">CharacterHandler.cpp:1172</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a9c6e99a26383d28f378bac3a488b97ba"><div class="ttname"><a href="classWorldSession.html#a9c6e99a26383d28f378bac3a488b97ba">WorldSession::HandleSetFactionAtWarOpcode</a></div><div class="ttdeci">void HandleSetFactionAtWarOpcode(WorldPacket &amp;recv_data)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l01097">CharacterHandler.cpp:1097</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a9f750558e9fd10f5096bfa0a5108b05a"><div class="ttname"><a href="classWorldSession.html#a9f750558e9fd10f5096bfa0a5108b05a">WorldSession::HandleTutorialResetOpcode</a></div><div class="ttdeci">void HandleTutorialResetOpcode(WorldPacket &amp;recv_data)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l01136">CharacterHandler.cpp:1136</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a9fa5510daf576fe281d1961430902dd9"><div class="ttname"><a href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">WorldSession::GetAccountId</a></div><div class="ttdeci">uint32 GetAccountId() const</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00295">WorldSession.h:295</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a9ff58527e5ea20e6a902d0ad51006662"><div class="ttname"><a href="classWorldSession.html#a9ff58527e5ea20e6a902d0ad51006662">WorldSession::HandleEquipmentSetUseOpcode</a></div><div class="ttdeci">void HandleEquipmentSetUseOpcode(WorldPacket &amp;recv_data)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l01574">CharacterHandler.cpp:1574</a></div></div>
<div class="ttc" id="aclassWorldSession_html_aa2d4260ff3d726ac5f3ed1fcba6b118d"><div class="ttname"><a href="classWorldSession.html#aa2d4260ff3d726ac5f3ed1fcba6b118d">WorldSession::LogoutRequest</a></div><div class="ttdeci">void LogoutRequest(time_t requestTime, bool saveToDB=true, bool kickSession=false)</div><div class="ttdoc">Engage the logout process for the user.</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00329">WorldSession.h:329</a></div></div>
<div class="ttc" id="aclassWorldSession_html_aaaa2363b99d5a167cc35d223a01a2781"><div class="ttname"><a href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">WorldSession::_player</a></div><div class="ttdeci">Player * _player</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l01032">WorldSession.h:1032</a></div></div>
<div class="ttc" id="aclassWorldSession_html_abb51ac5b8c3910c53d21fb22f7b95557"><div class="ttname"><a href="classWorldSession.html#abb51ac5b8c3910c53d21fb22f7b95557">WorldSession::HandleCharCreateOpcode</a></div><div class="ttdeci">void HandleCharCreateOpcode(WorldPacket &amp;recvPacket)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l00227">CharacterHandler.cpp:227</a></div></div>
<div class="ttc" id="aclassWorldSession_html_abfd2c7f7bb4dad71df7d71992d250af3"><div class="ttname"><a href="classWorldSession.html#abfd2c7f7bb4dad71df7d71992d250af3">WorldSession::GetExpansion</a></div><div class="ttdeci">uint8 GetExpansion() const</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00310">WorldSession.h:310</a></div></div>
<div class="ttc" id="aclassWorldSession_html_ad146e22917545a0ef3264bc70e7534e1"><div class="ttname"><a href="classWorldSession.html#ad146e22917545a0ef3264bc70e7534e1">WorldSession::SendAccountDataTimes</a></div><div class="ttdeci">void SendAccountDataTimes(uint32 mask)</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8cpp_source.html#l01048">WorldSession.cpp:1048</a></div></div>
<div class="ttc" id="aclassWorldSession_html_ad86bd9e35adfadaa31941a3ca75cd987"><div class="ttname"><a href="classWorldSession.html#ad86bd9e35adfadaa31941a3ca75cd987">WorldSession::HandleAlterAppearanceOpcode</a></div><div class="ttdeci">void HandleAlterAppearanceOpcode(WorldPacket &amp;recv_data)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l01345">CharacterHandler.cpp:1345</a></div></div>
<div class="ttc" id="aclassWorldSession_html_adc205d8d639afd785c297c7049083e4e"><div class="ttname"><a href="classWorldSession.html#adc205d8d639afd785c297c7049083e4e">WorldSession::SendMotd</a></div><div class="ttdeci">void SendMotd()</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8cpp_source.html#l00829">WorldSession.cpp:829</a></div></div>
<div class="ttc" id="aclassWorldSession_html_ae08873f763d3f6230f0117601a77e3f0"><div class="ttname"><a href="classWorldSession.html#ae08873f763d3f6230f0117601a77e3f0">WorldSession::SetTutorialInt</a></div><div class="ttdeci">void SetTutorialInt(uint32 intId, uint32 value)</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00410">WorldSession.h:410</a></div></div>
<div class="ttc" id="aclassWorldSession_html_ae4321c0e91e37c40085d0a320e59047a"><div class="ttname"><a href="classWorldSession.html#ae4321c0e91e37c40085d0a320e59047a">WorldSession::SetPlayer</a></div><div class="ttdeci">void SetPlayer(Player *plr, uint32 playerGuid)</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8cpp_source.html#l00185">WorldSession.cpp:185</a></div></div>
<div class="ttc" id="aclassWorldSession_html_ae448834fe91656409fc30f46d11e2481"><div class="ttname"><a href="classWorldSession.html#ae448834fe91656409fc30f46d11e2481">WorldSession::GetPlayer</a></div><div class="ttdeci">Player * GetPlayer() const</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00297">WorldSession.h:297</a></div></div>
<div class="ttc" id="aclassWorldSession_html_ae7bb39b9517565902c438423dc1d64c0"><div class="ttname"><a href="classWorldSession.html#ae7bb39b9517565902c438423dc1d64c0">WorldSession::HandleSetPlayerDeclinedNamesOpcode</a></div><div class="ttdeci">void HandleSetPlayerDeclinedNamesOpcode(WorldPacket &amp;recv_data)</div><div class="ttdef"><b>Definition:</b> <a href="CharacterHandler_8cpp_source.html#l01258">CharacterHandler.cpp:1258</a></div></div>
<div class="ttc" id="aclassWorldSession_html_af6e608cecc30614e007a88e3362f9ed6"><div class="ttname"><a href="classWorldSession.html#af6e608cecc30614e007a88e3362f9ed6">WorldSession::GetRemoteAddress</a></div><div class="ttdeci">const std::string GetRemoteAddress() const</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00305">WorldSession.h:305</a></div></div>
<div class="ttc" id="aclassWorldTimer_html_ae257706b7a1456a593811cc77fa84375"><div class="ttname"><a href="classWorldTimer.html#ae257706b7a1456a593811cc77fa84375">WorldTimer::getMSTime</a></div><div class="ttdeci">static uint32 getMSTime()</div><div class="ttdef"><b>Definition:</b> <a href="Util_8cpp_source.html#l00060">Util.cpp:60</a></div></div>
<div class="ttc" id="agroup__game_html_gga671007e5c9d47b3ccb212f971e65baeda4f34c5c191d6e0d028ca831b6c0b1571"><div class="ttname"><a href="group__game.html#gga671007e5c9d47b3ccb212f971e65baeda4f34c5c191d6e0d028ca831b6c0b1571">ALIVE</a></div><div class="ttdeci">@ ALIVE</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l00353">Unit.h:353</a></div></div>
<div class="ttc" id="agroup__game_html_gga809d475cf0ffeaa1ddad86f73e24a7c1ae36b6864d89399e04b14123d3194e224"><div class="ttname"><a href="group__game.html#gga809d475cf0ffeaa1ddad86f73e24a7c1ae36b6864d89399e04b14123d3194e224">UNIT_STAND_STATE_STAND</a></div><div class="ttdeci">@ UNIT_STAND_STATE_STAND</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l00104">Unit.h:104</a></div></div>
<div class="ttc" id="agroup__mangosd_html_ga4af16b54c7219346503d4c430d955f41"><div class="ttname"><a href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a></div><div class="ttdeci">DatabaseType CharacterDatabase</div><div class="ttdoc">Accessor to the character database.</div><div class="ttdef"><b>Definition:</b> <a href="mangosd_2Main_8cpp_source.html#l00062">mangosd/Main.cpp:62</a></div></div>
<div class="ttc" id="agroup__mangosd_html_ga8dc09682b17696c62c0fae61abccbdb1"><div class="ttname"><a href="group__mangosd.html#ga8dc09682b17696c62c0fae61abccbdb1">LoginDatabase</a></div><div class="ttdeci">DatabaseType LoginDatabase</div><div class="ttdoc">Accessor to the realm/login database.</div><div class="ttdef"><b>Definition:</b> <a href="mangosd_2Main_8cpp_source.html#l00063">mangosd/Main.cpp:63</a></div></div>
<div class="ttc" id="agroup__u2w_html_ga38a03c6cd9103a9891842f233758fbe7"><div class="ttname"><a href="group__u2w.html#ga38a03c6cd9103a9891842f233758fbe7">PER_CHARACTER_CACHE_MASK</a></div><div class="ttdeci">#define PER_CHARACTER_CACHE_MASK</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00082">WorldSession.h:82</a></div></div>
<div class="ttc" id="agroup__u2w_html_ggabeeee4622d9285fa92e9b61857002caca064d16c376e3f6e5876715f1dc4d3c96"><div class="ttname"><a href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca064d16c376e3f6e5876715f1dc4d3c96">SMSG_USE_EQUIPMENT_SET_RESULT</a></div><div class="ttdeci">@ SMSG_USE_EQUIPMENT_SET_RESULT</div><div class="ttdef"><b>Definition:</b> <a href="Opcodes_8h_source.html#l01275">Opcodes.h:1275</a></div></div>
<div class="ttc" id="agroup__u2w_html_ggabeeee4622d9285fa92e9b61857002caca16dd9f8d323296427754d5fac22d22ec"><div class="ttname"><a href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca16dd9f8d323296427754d5fac22d22ec">SMSG_CHAR_RENAME</a></div><div class="ttdeci">@ SMSG_CHAR_RENAME</div><div class="ttdef"><b>Definition:</b> <a href="Opcodes_8h_source.html#l00749">Opcodes.h:749</a></div></div>
<div class="ttc" id="agroup__u2w_html_ggabeeee4622d9285fa92e9b61857002caca1d84124a3d18181fdb53f5ebd6507ade"><div class="ttname"><a href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca1d84124a3d18181fdb53f5ebd6507ade">SMSG_CHAR_CREATE</a></div><div class="ttdeci">@ SMSG_CHAR_CREATE</div><div class="ttdef"><b>Definition:</b> <a href="Opcodes_8h_source.html#l00095">Opcodes.h:95</a></div></div>
<div class="ttc" id="agroup__u2w_html_ggabeeee4622d9285fa92e9b61857002caca45996e7b0a1054cb166b98ea7c1924e6"><div class="ttname"><a href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca45996e7b0a1054cb166b98ea7c1924e6">SMSG_SET_PLAYER_DECLINED_NAMES_RESULT</a></div><div class="ttdeci">@ SMSG_SET_PLAYER_DECLINED_NAMES_RESULT</div><div class="ttdef"><b>Definition:</b> <a href="Opcodes_8h_source.html#l01087">Opcodes.h:1087</a></div></div>
<div class="ttc" id="agroup__u2w_html_ggabeeee4622d9285fa92e9b61857002caca783d126c55ca5fa28a3a2d3e28409ce7"><div class="ttname"><a href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca783d126c55ca5fa28a3a2d3e28409ce7">SMSG_LEARNED_DANCE_MOVES</a></div><div class="ttdeci">@ SMSG_LEARNED_DANCE_MOVES</div><div class="ttdef"><b>Definition:</b> <a href="Opcodes_8h_source.html#l01146">Opcodes.h:1146</a></div></div>
<div class="ttc" id="agroup__u2w_html_ggabeeee4622d9285fa92e9b61857002caca97b3530c52250d072799957703492dc3"><div class="ttname"><a href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca97b3530c52250d072799957703492dc3">SMSG_GUILD_EVENT</a></div><div class="ttdeci">@ SMSG_GUILD_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="Opcodes_8h_source.html#l00183">Opcodes.h:183</a></div></div>
<div class="ttc" id="agroup__u2w_html_ggabeeee4622d9285fa92e9b61857002cacaa5639c2d47fdca0098e52cd3dcf7a867"><div class="ttname"><a href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacaa5639c2d47fdca0098e52cd3dcf7a867">SMSG_CHARACTER_LOGIN_FAILED</a></div><div class="ttdeci">@ SMSG_CHARACTER_LOGIN_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="Opcodes_8h_source.html#l00102">Opcodes.h:102</a></div></div>
<div class="ttc" id="agroup__u2w_html_ggabeeee4622d9285fa92e9b61857002cacaacceaef4729621e401e4d87b6acafb26"><div class="ttname"><a href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacaacceaef4729621e401e4d87b6acafb26">SMSG_LOGIN_VERIFY_WORLD</a></div><div class="ttdeci">@ SMSG_LOGIN_VERIFY_WORLD</div><div class="ttdef"><b>Definition:</b> <a href="Opcodes_8h_source.html#l00603">Opcodes.h:603</a></div></div>
<div class="ttc" id="agroup__u2w_html_ggabeeee4622d9285fa92e9b61857002cacabac4d79fb761c6e2ca111b8dc6ef0215"><div class="ttname"><a href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacabac4d79fb761c6e2ca111b8dc6ef0215">SMSG_BARBER_SHOP_RESULT</a></div><div class="ttdeci">@ SMSG_BARBER_SHOP_RESULT</div><div class="ttdef"><b>Definition:</b> <a href="Opcodes_8h_source.html#l01101">Opcodes.h:1101</a></div></div>
<div class="ttc" id="agroup__u2w_html_ggabeeee4622d9285fa92e9b61857002cacabcf2ae25c2f92e7c6d1fb57afa197320"><div class="ttname"><a href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacabcf2ae25c2f92e7c6d1fb57afa197320">SMSG_CHAR_DELETE</a></div><div class="ttdeci">@ SMSG_CHAR_DELETE</div><div class="ttdef"><b>Definition:</b> <a href="Opcodes_8h_source.html#l00097">Opcodes.h:97</a></div></div>
<div class="ttc" id="agroup__u2w_html_ggabeeee4622d9285fa92e9b61857002cacacc595f421e93024b09b7c5767c977456"><div class="ttname"><a href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacacc595f421e93024b09b7c5767c977456">SMSG_CHAR_CUSTOMIZE</a></div><div class="ttdeci">@ SMSG_CHAR_CUSTOMIZE</div><div class="ttdef"><b>Definition:</b> <a href="Opcodes_8h_source.html#l01177">Opcodes.h:1177</a></div></div>
<div class="ttc" id="agroup__u2w_html_ggabeeee4622d9285fa92e9b61857002cacad19e6875231d938b8821ad48962e864c"><div class="ttname"><a href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacad19e6875231d938b8821ad48962e864c">SMSG_CHAR_ENUM</a></div><div class="ttdeci">@ SMSG_CHAR_ENUM</div><div class="ttdef"><b>Definition:</b> <a href="Opcodes_8h_source.html#l00096">Opcodes.h:96</a></div></div>
<div class="ttc" id="agroup__u2w_html_ggabeeee4622d9285fa92e9b61857002cacaff9b8362a8981b8728f4d5288f00a21a"><div class="ttname"><a href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacaff9b8362a8981b8728f4d5288f00a21a">SMSG_FEATURE_SYSTEM_STATUS</a></div><div class="ttdeci">@ SMSG_FEATURE_SYSTEM_STATUS</div><div class="ttdef"><b>Definition:</b> <a href="Opcodes_8h_source.html#l01006">Opcodes.h:1006</a></div></div>
<div class="ttc" id="agroup__world_html_ga05dfb35c344e5b947a19e4284e7f5fa7"><div class="ttname"><a href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a></div><div class="ttdeci">#define sWorld</div><div class="ttdef"><b>Definition:</b> <a href="World_8h_source.html#l00832">World.h:832</a></div></div>
<div class="ttc" id="agroup__world_html_ga8d3f75207fc057cde3ffc9e3bf77dc79"><div class="ttname"><a href="group__world.html#ga8d3f75207fc057cde3ffc9e3bf77dc79">realmID</a></div><div class="ttdeci">uint32 realmID</div><div class="ttdoc">Id of the realm.</div><div class="ttdef"><b>Definition:</b> <a href="mangosd_2Main_8cpp_source.html#l00066">mangosd/Main.cpp:66</a></div></div>
<div class="ttc" id="agroup__world_html_gga0400d571bb6627ef2b170a4e0dc846cda730f3090db5320398b2c697b41860fd3"><div class="ttname"><a href="group__world.html#gga0400d571bb6627ef2b170a4e0dc846cda730f3090db5320398b2c697b41860fd3">CONFIG_BOOL_ALLOW_TWO_SIDE_ACCOUNTS</a></div><div class="ttdeci">@ CONFIG_BOOL_ALLOW_TWO_SIDE_ACCOUNTS</div><div class="ttdef"><b>Definition:</b> <a href="World_8h_source.html#l00331">World.h:331</a></div></div>
<div class="ttc" id="agroup__world_html_gga0400d571bb6627ef2b170a4e0dc846cdace6b65e81ecbbcdfcdfea4d754ff5516"><div class="ttname"><a href="group__world.html#gga0400d571bb6627ef2b170a4e0dc846cdace6b65e81ecbbcdfcdfea4d754ff5516">CONFIG_BOOL_ALL_TAXI_PATHS</a></div><div class="ttdeci">@ CONFIG_BOOL_ALL_TAXI_PATHS</div><div class="ttdef"><b>Definition:</b> <a href="World_8h_source.html#l00370">World.h:370</a></div></div>
<div class="ttc" id="agroup__world_html_gga0400d571bb6627ef2b170a4e0dc846cdaec39fe9ae0432b5e3abcb811a3780221"><div class="ttname"><a href="group__world.html#gga0400d571bb6627ef2b170a4e0dc846cdaec39fe9ae0432b5e3abcb811a3780221">CONFIG_BOOL_DECLINED_NAMES_USED</a></div><div class="ttdeci">@ CONFIG_BOOL_DECLINED_NAMES_USED</div><div class="ttdef"><b>Definition:</b> <a href="World_8h_source.html#l00371">World.h:371</a></div></div>
<div class="ttc" id="agroup__world_html_gga89a532a320ff8bd5866836fee5541232a00f2821d5cc58a3a548e1479a7809289"><div class="ttname"><a href="group__world.html#gga89a532a320ff8bd5866836fee5541232a00f2821d5cc58a3a548e1479a7809289">CONFIG_UINT32_HEROIC_CHARACTERS_PER_REALM</a></div><div class="ttdeci">@ CONFIG_UINT32_HEROIC_CHARACTERS_PER_REALM</div><div class="ttdef"><b>Definition:</b> <a href="World_8h_source.html#l00116">World.h:116</a></div></div>
<div class="ttc" id="agroup__world_html_gga89a532a320ff8bd5866836fee5541232a540fd779b1a8afca1bc0697c0edc0aee"><div class="ttname"><a href="group__world.html#gga89a532a320ff8bd5866836fee5541232a540fd779b1a8afca1bc0697c0edc0aee">CONFIG_UINT32_CHARACTERS_CREATING_DISABLED</a></div><div class="ttdeci">@ CONFIG_UINT32_CHARACTERS_CREATING_DISABLED</div><div class="ttdef"><b>Definition:</b> <a href="World_8h_source.html#l00113">World.h:113</a></div></div>
<div class="ttc" id="agroup__world_html_gga89a532a320ff8bd5866836fee5541232a7baa2c71b7b249a1cfdc13d4e8da705a"><div class="ttname"><a href="group__world.html#gga89a532a320ff8bd5866836fee5541232a7baa2c71b7b249a1cfdc13d4e8da705a">CONFIG_UINT32_MAX_PLAYER_LEVEL</a></div><div class="ttdeci">@ CONFIG_UINT32_MAX_PLAYER_LEVEL</div><div class="ttdef"><b>Definition:</b> <a href="World_8h_source.html#l00119">World.h:119</a></div></div>
<div class="ttc" id="agroup__world_html_gga89a532a320ff8bd5866836fee5541232aa10d2c065ce909a43fe9b0b9aee1118c"><div class="ttname"><a href="group__world.html#gga89a532a320ff8bd5866836fee5541232aa10d2c065ce909a43fe9b0b9aee1118c">CONFIG_UINT32_SKIP_CINEMATICS</a></div><div class="ttdeci">@ CONFIG_UINT32_SKIP_CINEMATICS</div><div class="ttdef"><b>Definition:</b> <a href="World_8h_source.html#l00118">World.h:118</a></div></div>
<div class="ttc" id="agroup__world_html_gga89a532a320ff8bd5866836fee5541232aa815963af8980c2ed02597ed95fc1eae"><div class="ttname"><a href="group__world.html#gga89a532a320ff8bd5866836fee5541232aa815963af8980c2ed02597ed95fc1eae">CONFIG_UINT32_MIN_LEVEL_FOR_HEROIC_CHARACTER_CREATING</a></div><div class="ttdeci">@ CONFIG_UINT32_MIN_LEVEL_FOR_HEROIC_CHARACTER_CREATING</div><div class="ttdef"><b>Definition:</b> <a href="World_8h_source.html#l00117">World.h:117</a></div></div>
<div class="ttc" id="agroup__world_html_gga89a532a320ff8bd5866836fee5541232abf5e00a865b3278fa548f77b9f0c15e4"><div class="ttname"><a href="group__world.html#gga89a532a320ff8bd5866836fee5541232abf5e00a865b3278fa548f77b9f0c15e4">CONFIG_UINT32_GM_INVISIBLE_AURA</a></div><div class="ttdeci">@ CONFIG_UINT32_GM_INVISIBLE_AURA</div><div class="ttdef"><b>Definition:</b> <a href="World_8h_source.html#l00149">World.h:149</a></div></div>
<div class="ttc" id="agroup__world_html_gga89a532a320ff8bd5866836fee5541232add9fb2b536122274bbd42f8994aaa2fc"><div class="ttname"><a href="group__world.html#gga89a532a320ff8bd5866836fee5541232add9fb2b536122274bbd42f8994aaa2fc">CONFIG_UINT32_CHARACTERS_PER_ACCOUNT</a></div><div class="ttdeci">@ CONFIG_UINT32_CHARACTERS_PER_ACCOUNT</div><div class="ttdef"><b>Definition:</b> <a href="World_8h_source.html#l00114">World.h:114</a></div></div>
<div class="ttc" id="agroup__world_html_gga89a532a320ff8bd5866836fee5541232addaa1b29c3f2503ecff3269db83b3d92"><div class="ttname"><a href="group__world.html#gga89a532a320ff8bd5866836fee5541232addaa1b29c3f2503ecff3269db83b3d92">CONFIG_UINT32_CHARACTERS_PER_REALM</a></div><div class="ttdeci">@ CONFIG_UINT32_CHARACTERS_PER_REALM</div><div class="ttdef"><b>Definition:</b> <a href="World_8h_source.html#l00115">World.h:115</a></div></div>
<div class="ttc" id="astructAreaTrigger_html"><div class="ttname"><a href="structAreaTrigger.html">AreaTrigger</a></div><div class="ttdef"><b>Definition:</b> <a href="ObjectMgr_8h_source.html#l00086">ObjectMgr.h:87</a></div></div>
<div class="ttc" id="astructAreaTrigger_html_a2989d5eea5b30399539d964d84d5b701"><div class="ttname"><a href="structAreaTrigger.html#a2989d5eea5b30399539d964d84d5b701">AreaTrigger::target_X</a></div><div class="ttdeci">float target_X</div><div class="ttdef"><b>Definition:</b> <a href="ObjectMgr_8h_source.html#l00096">ObjectMgr.h:96</a></div></div>
<div class="ttc" id="astructAreaTrigger_html_a4ac4cd2ffdb0210062694d0138193a8c"><div class="ttname"><a href="structAreaTrigger.html#a4ac4cd2ffdb0210062694d0138193a8c">AreaTrigger::target_mapId</a></div><div class="ttdeci">uint32 target_mapId</div><div class="ttdef"><b>Definition:</b> <a href="ObjectMgr_8h_source.html#l00095">ObjectMgr.h:95</a></div></div>
<div class="ttc" id="astructAreaTrigger_html_a71d6376840dfa490fb7944ce3f04814b"><div class="ttname"><a href="structAreaTrigger.html#a71d6376840dfa490fb7944ce3f04814b">AreaTrigger::target_Z</a></div><div class="ttdeci">float target_Z</div><div class="ttdef"><b>Definition:</b> <a href="ObjectMgr_8h_source.html#l00098">ObjectMgr.h:98</a></div></div>
<div class="ttc" id="astructAreaTrigger_html_ac895924a476d777856b62c8e3d6e63c0"><div class="ttname"><a href="structAreaTrigger.html#ac895924a476d777856b62c8e3d6e63c0">AreaTrigger::target_Y</a></div><div class="ttdeci">float target_Y</div><div class="ttdef"><b>Definition:</b> <a href="ObjectMgr_8h_source.html#l00097">ObjectMgr.h:97</a></div></div>
<div class="ttc" id="astructBarberShopStyleEntry_html"><div class="ttname"><a href="structBarberShopStyleEntry.html">BarberShopStyleEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="DBCStructure_8h_source.html#l00615">DBCStructure.h:616</a></div></div>
<div class="ttc" id="astructBarberShopStyleEntry_html_a289bb362ba13235c754647ba67be1e56"><div class="ttname"><a href="structBarberShopStyleEntry.html#a289bb362ba13235c754647ba67be1e56">BarberShopStyleEntry::type</a></div><div class="ttdeci">uint32 type</div><div class="ttdef"><b>Definition:</b> <a href="DBCStructure_8h_source.html#l00618">DBCStructure.h:618</a></div></div>
<div class="ttc" id="astructBarberShopStyleEntry_html_a458f5a1e2aca1fd34bb1afadeb5f6db2"><div class="ttname"><a href="structBarberShopStyleEntry.html#a458f5a1e2aca1fd34bb1afadeb5f6db2">BarberShopStyleEntry::race</a></div><div class="ttdeci">uint32 race</div><div class="ttdef"><b>Definition:</b> <a href="DBCStructure_8h_source.html#l00624">DBCStructure.h:624</a></div></div>
<div class="ttc" id="astructBarberShopStyleEntry_html_a571684c3aa6f2b0192b545d2a38ab333"><div class="ttname"><a href="structBarberShopStyleEntry.html#a571684c3aa6f2b0192b545d2a38ab333">BarberShopStyleEntry::gender</a></div><div class="ttdeci">uint32 gender</div><div class="ttdef"><b>Definition:</b> <a href="DBCStructure_8h_source.html#l00625">DBCStructure.h:625</a></div></div>
<div class="ttc" id="astructBarberShopStyleEntry_html_af4646a9adb0a1dc18b34158de2116b84"><div class="ttname"><a href="structBarberShopStyleEntry.html#af4646a9adb0a1dc18b34158de2116b84">BarberShopStyleEntry::hair_id</a></div><div class="ttdeci">uint32 hair_id</div><div class="ttdef"><b>Definition:</b> <a href="DBCStructure_8h_source.html#l00626">DBCStructure.h:626</a></div></div>
<div class="ttc" id="astructChrClassesEntry_html"><div class="ttname"><a href="structChrClassesEntry.html">ChrClassesEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="DBCStructure_8h_source.html#l00732">DBCStructure.h:733</a></div></div>
<div class="ttc" id="astructChrClassesEntry_html_a7c57eabd8d94849cd8536b013a8d4138"><div class="ttname"><a href="structChrClassesEntry.html#a7c57eabd8d94849cd8536b013a8d4138">ChrClassesEntry::expansion</a></div><div class="ttdeci">uint32 expansion</div><div class="ttdef"><b>Definition:</b> <a href="DBCStructure_8h_source.html#l00748">DBCStructure.h:748</a></div></div>
<div class="ttc" id="astructChrRacesEntry_html"><div class="ttname"><a href="structChrRacesEntry.html">ChrRacesEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="DBCStructure_8h_source.html#l00751">DBCStructure.h:752</a></div></div>
<div class="ttc" id="astructChrRacesEntry_html_ab6547f8b08d4d1bf57a37f9574b71e43"><div class="ttname"><a href="structChrRacesEntry.html#ab6547f8b08d4d1bf57a37f9574b71e43">ChrRacesEntry::expansion</a></div><div class="ttdeci">uint32 expansion</div><div class="ttdef"><b>Definition:</b> <a href="DBCStructure_8h_source.html#l00775">DBCStructure.h:775</a></div></div>
<div class="ttc" id="astructDeclinedName_html"><div class="ttname"><a href="structDeclinedName.html">DeclinedName</a></div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00180">WorldSession.h:181</a></div></div>
<div class="ttc" id="astructDeclinedName_html_acda589ff9e0fdb0a813707736191d049"><div class="ttname"><a href="structDeclinedName.html#acda589ff9e0fdb0a813707736191d049">DeclinedName::name</a></div><div class="ttdeci">std::string name[MAX_DECLINED_NAME_CASES]</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00182">WorldSession.h:182</a></div></div>
<div class="ttc" id="astructEquipmentSet_html"><div class="ttname"><a href="structEquipmentSet.html">EquipmentSet</a></div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00700">Player.h:701</a></div></div>
<div class="ttc" id="astructEquipmentSet_html_a2b4691a1b44ae47e7d3c2e63f88d78ba"><div class="ttname"><a href="structEquipmentSet.html#a2b4691a1b44ae47e7d3c2e63f88d78ba">EquipmentSet::Name</a></div><div class="ttdeci">std::string Name</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00709">Player.h:709</a></div></div>
<div class="ttc" id="astructEquipmentSet_html_a40233dfcc23f125ff88693d6c7d7fab5"><div class="ttname"><a href="structEquipmentSet.html#a40233dfcc23f125ff88693d6c7d7fab5">EquipmentSet::IconName</a></div><div class="ttdeci">std::string IconName</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00710">Player.h:710</a></div></div>
<div class="ttc" id="astructEquipmentSet_html_a7e2270a6041dda26f8bc7f8c82597e7f"><div class="ttname"><a href="structEquipmentSet.html#a7e2270a6041dda26f8bc7f8c82597e7f">EquipmentSet::state</a></div><div class="ttdeci">EquipmentSetUpdateState state</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00713">Player.h:713</a></div></div>
<div class="ttc" id="astructEquipmentSet_html_a95902ccdc62ff67e6374877a21a09c41"><div class="ttname"><a href="structEquipmentSet.html#a95902ccdc62ff67e6374877a21a09c41">EquipmentSet::Items</a></div><div class="ttdeci">uint32 Items[EQUIPMENT_SLOT_END]</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00712">Player.h:712</a></div></div>
<div class="ttc" id="astructEquipmentSet_html_aae529ea61a2ad4f114b6a108564f5474"><div class="ttname"><a href="structEquipmentSet.html#aae529ea61a2ad4f114b6a108564f5474">EquipmentSet::Guid</a></div><div class="ttdeci">uint64 Guid</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00708">Player.h:708</a></div></div>
<div class="ttc" id="astructEquipmentSet_html_af116e824d23f000f424f3b261618e827"><div class="ttname"><a href="structEquipmentSet.html#af116e824d23f000f424f3b261618e827">EquipmentSet::IgnoreMask</a></div><div class="ttdeci">uint32 IgnoreMask</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l00711">Player.h:711</a></div></div>
<div class="ttc" id="astructMapEntry_html"><div class="ttname"><a href="structMapEntry.html">MapEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="DBCStructure_8h_source.html#l01460">DBCStructure.h:1461</a></div></div>
<div class="ttc" id="astructMapEntry_html_a39e6d2e230183f30e369c3bada111bfe"><div class="ttname"><a href="structMapEntry.html#a39e6d2e230183f30e369c3bada111bfe">MapEntry::Expansion</a></div><div class="ttdeci">uint32 Expansion() const</div><div class="ttdef"><b>Definition:</b> <a href="DBCStructure_8h_source.html#l01485">DBCStructure.h:1485</a></div></div>
<div class="ttc" id="astructPosition_html"><div class="ttname"><a href="structPosition.html">Position</a></div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00330">Object.h:331</a></div></div>
<div class="ttc" id="astructPosition_html_a54a6182b5f7539295b32255808897d3f"><div class="ttname"><a href="structPosition.html#a54a6182b5f7539295b32255808897d3f">Position::y</a></div><div class="ttdeci">float y</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00335">Object.h:335</a></div></div>
<div class="ttc" id="astructPosition_html_a5dc8c08d3d7209ba538ad21ba604aa44"><div class="ttname"><a href="structPosition.html#a5dc8c08d3d7209ba538ad21ba604aa44">Position::z</a></div><div class="ttdeci">float z</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00335">Object.h:335</a></div></div>
<div class="ttc" id="astructPosition_html_ab03b4a5c58b5d266e2505bffc906d21e"><div class="ttname"><a href="structPosition.html#ab03b4a5c58b5d266e2505bffc906d21e">Position::o</a></div><div class="ttdeci">float o</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00335">Object.h:335</a></div></div>
<div class="ttc" id="astructPosition_html_af684446cbf0f6d53386686283da6dcc6"><div class="ttname"><a href="structPosition.html#af684446cbf0f6d53386686283da6dcc6">Position::x</a></div><div class="ttdeci">float x</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00335">Object.h:335</a></div></div>
<div class="ttc" id="astructSpellEntry_html"><div class="ttname"><a href="structSpellEntry.html">SpellEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="DBCStructure_8h_source.html#l01816">DBCStructure.h:1817</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_1699be727a800b1d059c6f7f2b91d2ee.html">game</a></li><li class="navelem"><a class="el" href="dir_cd88f974f65999c85b4646cf8392f257.html">Entities</a></li><li class="navelem"><a class="el" href="CharacterHandler_8cpp.html">CharacterHandler.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
