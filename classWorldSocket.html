<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CMaNGOS_WoTLK: WorldSocket Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CMaNGOS_WoTLK
   &#160;<span id="projectnumber">0b6ed145724bbfe54f426dc34e27de563eb3bc54</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classWorldSocket.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">WorldSocket Class Reference<div class="ingroups"><a class="el" href="group__u2w.html">User to World Communication</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classWorldSocket.html" title="WorldSocket.">WorldSocket</a>.  
 <a href="classWorldSocket.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="WorldSocket_8h_source.html">WorldSocket.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for WorldSocket:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classWorldSocket.png" usemap="#WorldSocket_map" alt=""/>
  <map id="WorldSocket_map" name="WorldSocket_map">
<area href="classMaNGOS_1_1Socket.html" alt="MaNGOS::Socket" shape="rect" coords="0,56,238,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structWorldSocket_1_1ClientPktHeader.html">ClientPktHeader</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3660c8205b6ba2df05d266b1096686eb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#a3660c8205b6ba2df05d266b1096686eb">WorldSocket</a> (boost::asio::io_service &amp;service, <a class="el" href="go__scripts_8cpp.html#af644fca167e62eaa31e0f48bb7d1946c">std::function</a>&lt; void(<a class="el" href="classMaNGOS_1_1Socket.html#a51b011ebd6f6c880176e1ebd39204ce7">Socket</a> *)&gt; closeHandler)</td></tr>
<tr class="separator:a3660c8205b6ba2df05d266b1096686eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f02d29126e17254545b3def656d695b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#a2f02d29126e17254545b3def656d695b">SendPacket</a> (const <a class="el" href="classWorldPacket.html">WorldPacket</a> &amp;pct, bool immediate=false)</td></tr>
<tr class="separator:a2f02d29126e17254545b3def656d695b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac939368f0c016eb6f019bf4bf61c88b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#ac939368f0c016eb6f019bf4bf61c88b3">FinalizeSession</a> ()</td></tr>
<tr class="separator:ac939368f0c016eb6f019bf4bf61c88b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab08c3ac88a04dc2403f1cda2928971b0"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#ab08c3ac88a04dc2403f1cda2928971b0">Open</a> () override</td></tr>
<tr class="separator:ab08c3ac88a04dc2403f1cda2928971b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a081e045175ac79bb0727efe80cc388ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBigNumber.html">BigNumber</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#a081e045175ac79bb0727efe80cc388ff">GetSessionKey</a> ()</td></tr>
<tr class="memdesc:a081e045175ac79bb0727efe80cc388ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the session key.  <a href="classWorldSocket.html#a081e045175ac79bb0727efe80cc388ff">More...</a><br /></td></tr>
<tr class="separator:a081e045175ac79bb0727efe80cc388ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3259060b76ab90fa60768b2bb4b7b810"><td class="memItemLeft" align="right" valign="top">std::deque&lt; <a class="el" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#a3259060b76ab90fa60768b2bb4b7b810">GetOutOpcodeHistory</a> ()</td></tr>
<tr class="separator:a3259060b76ab90fa60768b2bb4b7b810"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab37c9468caf6ef1735c6d4132fd79335"><td class="memItemLeft" align="right" valign="top">std::deque&lt; <a class="el" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#ab37c9468caf6ef1735c6d4132fd79335">GetIncOpcodeHistory</a> ()</td></tr>
<tr class="separator:ab37c9468caf6ef1735c6d4132fd79335"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2b85522ffc2c07e76519441aaa9dbaf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#ab2b85522ffc2c07e76519441aaa9dbaf">IsLoggingPackets</a> () const</td></tr>
<tr class="separator:ab2b85522ffc2c07e76519441aaa9dbaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b8170b00a5ee56b6aa22bfe7123bd11"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#a1b8170b00a5ee56b6aa22bfe7123bd11">SetPacketLogging</a> (bool state)</td></tr>
<tr class="separator:a1b8170b00a5ee56b6aa22bfe7123bd11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classMaNGOS_1_1Socket"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classMaNGOS_1_1Socket')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classMaNGOS_1_1Socket.html">MaNGOS::Socket</a></td></tr>
<tr class="memitem:a51b011ebd6f6c880176e1ebd39204ce7 inherit pub_methods_classMaNGOS_1_1Socket"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaNGOS_1_1Socket.html#a51b011ebd6f6c880176e1ebd39204ce7">Socket</a> (boost::asio::io_service &amp;service, <a class="el" href="go__scripts_8cpp.html#af644fca167e62eaa31e0f48bb7d1946c">std::function</a>&lt; void(<a class="el" href="classMaNGOS_1_1Socket.html">Socket</a> *)&gt; closeHandler)</td></tr>
<tr class="separator:a51b011ebd6f6c880176e1ebd39204ce7 inherit pub_methods_classMaNGOS_1_1Socket"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4116eb172d3c5cdec672e437810fe52 inherit pub_methods_classMaNGOS_1_1Socket"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaNGOS_1_1Socket.html#ac4116eb172d3c5cdec672e437810fe52">~Socket</a> ()=default</td></tr>
<tr class="separator:ac4116eb172d3c5cdec672e437810fe52 inherit pub_methods_classMaNGOS_1_1Socket"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d1040587af18478de244c02aead195c inherit pub_methods_classMaNGOS_1_1Socket"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaNGOS_1_1Socket.html#a7d1040587af18478de244c02aead195c">Close</a> ()</td></tr>
<tr class="separator:a7d1040587af18478de244c02aead195c inherit pub_methods_classMaNGOS_1_1Socket"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf3df98f52f5bd99178ec41eebeda4c8 inherit pub_methods_classMaNGOS_1_1Socket"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaNGOS_1_1Socket.html#abf3df98f52f5bd99178ec41eebeda4c8">IsClosed</a> () const</td></tr>
<tr class="separator:abf3df98f52f5bd99178ec41eebeda4c8 inherit pub_methods_classMaNGOS_1_1Socket"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6574dd32b524366db1909eb41eb727c inherit pub_methods_classMaNGOS_1_1Socket"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaNGOS_1_1Socket.html#aa6574dd32b524366db1909eb41eb727c">Deletable</a> () const</td></tr>
<tr class="separator:aa6574dd32b524366db1909eb41eb727c inherit pub_methods_classMaNGOS_1_1Socket"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a349c70325d7681aa34ac282782a378f0 inherit pub_methods_classMaNGOS_1_1Socket"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaNGOS_1_1Socket.html#a349c70325d7681aa34ac282782a378f0">Read</a> (char *buffer, int length)</td></tr>
<tr class="separator:a349c70325d7681aa34ac282782a378f0 inherit pub_methods_classMaNGOS_1_1Socket"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7d7b4513b04feb49c985101bb360499 inherit pub_methods_classMaNGOS_1_1Socket"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaNGOS_1_1Socket.html#ad7d7b4513b04feb49c985101bb360499">ReadSkip</a> (int length)</td></tr>
<tr class="separator:ad7d7b4513b04feb49c985101bb360499 inherit pub_methods_classMaNGOS_1_1Socket"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc13050b11f8dc2d09746bdf0364d685 inherit pub_methods_classMaNGOS_1_1Socket"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaNGOS_1_1Socket.html#abc13050b11f8dc2d09746bdf0364d685">Write</a> (const char *buffer, int length)</td></tr>
<tr class="separator:abc13050b11f8dc2d09746bdf0364d685 inherit pub_methods_classMaNGOS_1_1Socket"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3b90ae0a481a8e6ebef00289d378119 inherit pub_methods_classMaNGOS_1_1Socket"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaNGOS_1_1Socket.html#af3b90ae0a481a8e6ebef00289d378119">Write</a> (const char *header, int headerSize, const char *content, int contentSize)</td></tr>
<tr class="separator:af3b90ae0a481a8e6ebef00289d378119 inherit pub_methods_classMaNGOS_1_1Socket"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a509f213574ad507c2a928831e7b39bc1 inherit pub_methods_classMaNGOS_1_1Socket"><td class="memItemLeft" align="right" valign="top">boost::asio::ip::tcp::socket &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaNGOS_1_1Socket.html#a509f213574ad507c2a928831e7b39bc1">GetAsioSocket</a> ()</td></tr>
<tr class="separator:a509f213574ad507c2a928831e7b39bc1 inherit pub_methods_classMaNGOS_1_1Socket"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01d926cf7e3fec25bd6f64afeb445bd2 inherit pub_methods_classMaNGOS_1_1Socket"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaNGOS_1_1Socket.html#a01d926cf7e3fec25bd6f64afeb445bd2">GetRemoteEndpoint</a> () const</td></tr>
<tr class="separator:a01d926cf7e3fec25bd6f64afeb445bd2 inherit pub_methods_classMaNGOS_1_1Socket"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ee25d6f578efcb7d63a204d0d55fbea inherit pub_methods_classMaNGOS_1_1Socket"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaNGOS_1_1Socket.html#a7ee25d6f578efcb7d63a204d0d55fbea">GetRemoteAddress</a> () const</td></tr>
<tr class="separator:a7ee25d6f578efcb7d63a204d0d55fbea inherit pub_methods_classMaNGOS_1_1Socket"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4783b2a7a8ddc28404102f1c152f4f7 inherit pub_methods_classMaNGOS_1_1Socket"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ab4783b2a7a8ddc28404102f1c152f4f7 inherit pub_methods_classMaNGOS_1_1Socket"><td class="memTemplItemLeft" align="right" valign="top">std::shared_ptr&lt; T &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classMaNGOS_1_1Socket.html#ab4783b2a7a8ddc28404102f1c152f4f7">shared</a> ()</td></tr>
<tr class="separator:ab4783b2a7a8ddc28404102f1c152f4f7 inherit pub_methods_classMaNGOS_1_1Socket"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9f29cd7472a9d26ac446cdebfd9c99f inherit pub_methods_classMaNGOS_1_1Socket"><td class="memItemLeft" align="right" valign="top">boost::asio::ip::address&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaNGOS_1_1Socket.html#ad9f29cd7472a9d26ac446cdebfd9c99f">GetRemoteIpAddress</a> () const</td></tr>
<tr class="separator:ad9f29cd7472a9d26ac446cdebfd9c99f inherit pub_methods_classMaNGOS_1_1Socket"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c8a1fe75f735114b3332e23f81025b7 inherit pub_methods_classMaNGOS_1_1Socket"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaNGOS_1_1Socket.html#a1c8a1fe75f735114b3332e23f81025b7">GetRemotePort</a> () const</td></tr>
<tr class="separator:a1c8a1fe75f735114b3332e23f81025b7 inherit pub_methods_classMaNGOS_1_1Socket"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a4873a50db333e50e5c53c3eae74a6053"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>, <a class="el" href="Common_8h.html#a4261a6a40855caeed69661cc67faca82">TimePoint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#a4873a50db333e50e5c53c3eae74a6053">m_lastPacket</a></td></tr>
<tr class="separator:a4873a50db333e50e5c53c3eae74a6053"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a42e60207b7ca1db2fc2a86fcdb369d35"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; <a class="el" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#a42e60207b7ca1db2fc2a86fcdb369d35">m_packetCooldowns</a> = <a class="el" href="WorldSocket_8cpp.html#aafb70e8d03d23d0533c86661219174a7">InitOpcodeCooldowns</a>()</td></tr>
<tr class="separator:a42e60207b7ca1db2fc2a86fcdb369d35"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a07270fc1ade397fef9628c31e94ade32"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#a07270fc1ade397fef9628c31e94ade32">ProcessIncomingData</a> () override</td></tr>
<tr class="memdesc:a07270fc1ade397fef9628c31e94ade32"><td class="mdescLeft">&#160;</td><td class="mdescRight">process one incoming packet.  <a href="classWorldSocket.html#a07270fc1ade397fef9628c31e94ade32">More...</a><br /></td></tr>
<tr class="separator:a07270fc1ade397fef9628c31e94ade32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05e9d2b627b1849bf9291f372170a007"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#a05e9d2b627b1849bf9291f372170a007">HandleAuthSession</a> (<a class="el" href="classWorldPacket.html">WorldPacket</a> &amp;recvPacket)</td></tr>
<tr class="memdesc:a05e9d2b627b1849bf9291f372170a007"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by ProcessIncoming() on CMSG_AUTH_SESSION.  <a href="classWorldSocket.html#a05e9d2b627b1849bf9291f372170a007">More...</a><br /></td></tr>
<tr class="separator:a05e9d2b627b1849bf9291f372170a007"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36f3f1c808fc289113d61b589a2dc3e2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#a36f3f1c808fc289113d61b589a2dc3e2">HandlePing</a> (<a class="el" href="classWorldPacket.html">WorldPacket</a> &amp;recvPacket)</td></tr>
<tr class="memdesc:a36f3f1c808fc289113d61b589a2dc3e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by ProcessIncoming() on CMSG_PING.  <a href="classWorldSocket.html#a36f3f1c808fc289113d61b589a2dc3e2">More...</a><br /></td></tr>
<tr class="separator:a36f3f1c808fc289113d61b589a2dc3e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ac773c3125cde91d4948b69d139239436"><td class="memItemLeft" align="right" valign="top">std::chrono::system_clock::time_point&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#ac773c3125cde91d4948b69d139239436">m_lastPingTime</a></td></tr>
<tr class="memdesc:ac773c3125cde91d4948b69d139239436"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time in which the last ping was received.  <a href="classWorldSocket.html#ac773c3125cde91d4948b69d139239436">More...</a><br /></td></tr>
<tr class="separator:ac773c3125cde91d4948b69d139239436"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7de7fd5d88c192655cede9bc49d130ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#a7de7fd5d88c192655cede9bc49d130ec">m_overSpeedPings</a></td></tr>
<tr class="memdesc:a7de7fd5d88c192655cede9bc49d130ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Keep track of over-speed pings ,to prevent ping flood.  <a href="classWorldSocket.html#a7de7fd5d88c192655cede9bc49d130ec">More...</a><br /></td></tr>
<tr class="separator:a7de7fd5d88c192655cede9bc49d130ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac402a6a5fbe5bd8f0be4feccbcc17632"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structWorldSocket_1_1ClientPktHeader.html">ClientPktHeader</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#ac402a6a5fbe5bd8f0be4feccbcc17632">m_existingHeader</a></td></tr>
<tr class="separator:ac402a6a5fbe5bd8f0be4feccbcc17632"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11e8fee3d2d78c9bc01451f752394a72"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#a11e8fee3d2d78c9bc01451f752394a72">m_useExistingHeader</a></td></tr>
<tr class="separator:a11e8fee3d2d78c9bc01451f752394a72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa002d9fc201c83d6ac5a66aa3556be0d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classAuthCrypt.html">AuthCrypt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#aa002d9fc201c83d6ac5a66aa3556be0d">m_crypt</a></td></tr>
<tr class="memdesc:aa002d9fc201c83d6ac5a66aa3556be0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class used for managing encryption of the headers.  <a href="classWorldSocket.html#aa002d9fc201c83d6ac5a66aa3556be0d">More...</a><br /></td></tr>
<tr class="separator:aa002d9fc201c83d6ac5a66aa3556be0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a806ae484767bb61b8214d0e86948b51f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWorldSession.html">WorldSession</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#a806ae484767bb61b8214d0e86948b51f">m_session</a></td></tr>
<tr class="memdesc:a806ae484767bb61b8214d0e86948b51f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Session to which received packets are routed.  <a href="classWorldSocket.html#a806ae484767bb61b8214d0e86948b51f">More...</a><br /></td></tr>
<tr class="separator:a806ae484767bb61b8214d0e86948b51f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fc869a2a037d4974734ac4daaf33b0e"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#a1fc869a2a037d4974734ac4daaf33b0e">m_seed</a></td></tr>
<tr class="separator:a1fc869a2a037d4974734ac4daaf33b0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac593e5cdaeae2acf8b9fc23702991d22"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBigNumber.html">BigNumber</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#ac593e5cdaeae2acf8b9fc23702991d22">m_s</a></td></tr>
<tr class="separator:ac593e5cdaeae2acf8b9fc23702991d22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb224a0812b59769398130b2ba7e9245"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#abb224a0812b59769398130b2ba7e9245">m_worldSocketMutex</a></td></tr>
<tr class="separator:abb224a0812b59769398130b2ba7e9245"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf40773ca4834223fa3cb7c59cbbd52d"><td class="memItemLeft" align="right" valign="top">std::deque&lt; <a class="el" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#aaf40773ca4834223fa3cb7c59cbbd52d">m_opcodeHistoryOut</a></td></tr>
<tr class="separator:aaf40773ca4834223fa3cb7c59cbbd52d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e203971fa727a8dc244589fc6f22a3f"><td class="memItemLeft" align="right" valign="top">std::deque&lt; <a class="el" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#a3e203971fa727a8dc244589fc6f22a3f">m_opcodeHistoryInc</a></td></tr>
<tr class="separator:a3e203971fa727a8dc244589fc6f22a3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b5b5aa0f549cfb4920ed560b7bdec91"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldSocket.html#a4b5b5aa0f549cfb4920ed560b7bdec91">m_loggingPackets</a></td></tr>
<tr class="separator:a4b5b5aa0f549cfb4920ed560b7bdec91"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classMaNGOS_1_1Socket"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classMaNGOS_1_1Socket')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classMaNGOS_1_1Socket.html">MaNGOS::Socket</a></td></tr>
<tr class="memitem:ab906a8d1f0d88acc16246b95df6f140b inherit pro_methods_classMaNGOS_1_1Socket"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaNGOS_1_1Socket.html#ab906a8d1f0d88acc16246b95df6f140b">InPeak</a> () const</td></tr>
<tr class="separator:ab906a8d1f0d88acc16246b95df6f140b inherit pro_methods_classMaNGOS_1_1Socket"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4f72e226c152f2066d9acc8a426075a inherit pro_methods_classMaNGOS_1_1Socket"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaNGOS_1_1Socket.html#af4f72e226c152f2066d9acc8a426075a">ReadLengthRemaining</a> () const</td></tr>
<tr class="separator:af4f72e226c152f2066d9acc8a426075a inherit pro_methods_classMaNGOS_1_1Socket"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9134ff8b31c7d8a926b7b8d31cf91dbb inherit pro_methods_classMaNGOS_1_1Socket"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaNGOS_1_1Socket.html#a9134ff8b31c7d8a926b7b8d31cf91dbb">ForceFlushOut</a> ()</td></tr>
<tr class="separator:a9134ff8b31c7d8a926b7b8d31cf91dbb inherit pro_methods_classMaNGOS_1_1Socket"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classMaNGOS_1_1Socket"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classMaNGOS_1_1Socket')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classMaNGOS_1_1Socket.html">MaNGOS::Socket</a></td></tr>
<tr class="memitem:a5b6389efad4934d36c57b2c802207509 inherit pro_attribs_classMaNGOS_1_1Socket"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaNGOS_1_1Socket.html#a5b6389efad4934d36c57b2c802207509">m_address</a></td></tr>
<tr class="separator:a5b6389efad4934d36c57b2c802207509 inherit pro_attribs_classMaNGOS_1_1Socket"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f10639483eb64e4e6ccc14f821ea201 inherit pro_attribs_classMaNGOS_1_1Socket"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaNGOS_1_1Socket.html#a3f10639483eb64e4e6ccc14f821ea201">m_remoteEndpoint</a></td></tr>
<tr class="separator:a3f10639483eb64e4e6ccc14f821ea201 inherit pro_attribs_classMaNGOS_1_1Socket"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb5a014c88be577c140c85a3f65f966e inherit pro_attribs_classMaNGOS_1_1Socket"><td class="memItemLeft" align="right" valign="top">boost::asio::ip::address&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaNGOS_1_1Socket.html#acb5a014c88be577c140c85a3f65f966e">m_remoteAddress</a></td></tr>
<tr class="separator:acb5a014c88be577c140c85a3f65f966e inherit pro_attribs_classMaNGOS_1_1Socket"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac95a9929f2bdc0ba41ce73b6050ac655 inherit pro_attribs_classMaNGOS_1_1Socket"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaNGOS_1_1Socket.html#ac95a9929f2bdc0ba41ce73b6050ac655">m_remotePort</a></td></tr>
<tr class="separator:ac95a9929f2bdc0ba41ce73b6050ac655 inherit pro_attribs_classMaNGOS_1_1Socket"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classWorldSocket.html" title="WorldSocket.">WorldSocket</a>. </p>
<p>This class is responsible for the communication with remote clients. Most methods return -1 on failure. The class uses reference counting.</p>
<p>For output the class uses one buffer (64K usually) and a queue where it stores packet if there is no place on the queue. The reason this is done, is because the server does really a lot of small-size writes to it, and it doesn't scale well to allocate memory for every. When something is written to the output buffer the socket is not immediately activated for output (again for the same reason), there is 10ms celling (thats why there is Update() override method). This concept is similar to TCP_CORK, but TCP_CORK uses 200ms celling. As result overhead generated by sending packets from "producer" threads is minimal, and doing a lot of writes with small size is tolerated.</p>
<p>The calls to Update () method are managed by WorldSocketMgr and ReactorRunnable.</p>
<p>For input ,the class uses one 1024 bytes buffer on stack to which it does recv() calls. And then received data is distributed where its needed. 1024 matches pretty well the traffic generated by client for now.</p>
<p>The input/output do speculative reads/writes (AKA it tries to read all data available in the kernel buffer or tries to write everything available in userspace buffer), which is ok for using with Level and Edge Triggered IO notification. </p>

<p class="definition">Definition at line <a class="el" href="WorldSocket_8h_source.html#l00077">77</a> of file <a class="el" href="WorldSocket_8h_source.html">WorldSocket.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3660c8205b6ba2df05d266b1096686eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3660c8205b6ba2df05d266b1096686eb">&#9670;&nbsp;</a></span>WorldSocket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WorldSocket::WorldSocket </td>
          <td>(</td>
          <td class="paramtype">boost::asio::io_service &amp;&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="go__scripts_8cpp.html#af644fca167e62eaa31e0f48bb7d1946c">std::function</a>&lt; void(<a class="el" href="classMaNGOS_1_1Socket.html#a51b011ebd6f6c880176e1ebd39204ce7">Socket</a> *)&gt;&#160;</td>
          <td class="paramname"><em>closeHandler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldSocket_8cpp_source.html#l00115">115</a> of file <a class="el" href="WorldSocket_8cpp_source.html">WorldSocket.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac939368f0c016eb6f019bf4bf61c88b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac939368f0c016eb6f019bf4bf61c88b3">&#9670;&nbsp;</a></span>FinalizeSession()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WorldSocket::FinalizeSession </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldSocket_8h_source.html#l00137">137</a> of file <a class="el" href="WorldSocket_8h_source.html">WorldSocket.h</a>.</p>

<p class="reference">References <a class="el" href="WorldSocket_8h_source.html#l00109">m_session</a>.</p>

</div>
</div>
<a id="ab37c9468caf6ef1735c6d4132fd79335"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab37c9468caf6ef1735c6d4132fd79335">&#9670;&nbsp;</a></span>GetIncOpcodeHistory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::deque&lt; <a class="el" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> &gt; WorldSocket::GetIncOpcodeHistory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldSocket_8cpp_source.html#l00109">109</a> of file <a class="el" href="WorldSocket_8cpp_source.html">WorldSocket.cpp</a>.</p>

<p class="reference">References <a class="el" href="WorldSocket_8h_source.html#l00127">m_opcodeHistoryInc</a>, and <a class="el" href="WorldSocket_8h_source.html#l00124">m_worldSocketMutex</a>.</p>

</div>
</div>
<a id="a3259060b76ab90fa60768b2bb4b7b810"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3259060b76ab90fa60768b2bb4b7b810">&#9670;&nbsp;</a></span>GetOutOpcodeHistory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::deque&lt; <a class="el" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> &gt; WorldSocket::GetOutOpcodeHistory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldSocket_8cpp_source.html#l00103">103</a> of file <a class="el" href="WorldSocket_8cpp_source.html">WorldSocket.cpp</a>.</p>

<p class="reference">References <a class="el" href="WorldSocket_8h_source.html#l00126">m_opcodeHistoryOut</a>, and <a class="el" href="WorldSocket_8h_source.html#l00124">m_worldSocketMutex</a>.</p>

</div>
</div>
<a id="a081e045175ac79bb0727efe80cc388ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a081e045175ac79bb0727efe80cc388ff">&#9670;&nbsp;</a></span>GetSessionKey()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBigNumber.html">BigNumber</a>&amp; WorldSocket::GetSessionKey </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the session key. </p>

<p class="definition">Definition at line <a class="el" href="WorldSocket_8h_source.html#l00142">142</a> of file <a class="el" href="WorldSocket_8h_source.html">WorldSocket.h</a>.</p>

<p class="reference">References <a class="el" href="WorldSocket_8h_source.html#l00113">m_s</a>.</p>

</div>
</div>
<a id="a05e9d2b627b1849bf9291f372170a007"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05e9d2b627b1849bf9291f372170a007">&#9670;&nbsp;</a></span>HandleAuthSession()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WorldSocket::HandleAuthSession </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classWorldPacket.html">WorldPacket</a> &amp;&#160;</td>
          <td class="paramname"><em>recvPacket</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by ProcessIncoming() on CMSG_AUTH_SESSION. </p>
<ul>
<li>Re-check ip locking (same check as in realmd).</li>
</ul>

<p class="definition">Definition at line <a class="el" href="WorldSocket_8cpp_source.html#l00317">317</a> of file <a class="el" href="WorldSocket_8cpp_source.html">WorldSocket.cpp</a>.</p>

<p class="reference">References <a class="el" href="Messager_8h_source.html#l00030">Messager&lt; T &gt;::AddMessage()</a>, <a class="el" href="BigNumber_8cpp_source.html#l00181">BigNumber::AsHexStr()</a>, <a class="el" href="WorldSession_8cpp_source.html#l01284">WorldSession::AssignAnticheat()</a>, <a class="el" href="SharedDefines_8h_source.html#l01969">AUTH_BANNED</a>, <a class="el" href="SharedDefines_8h_source.html#l01954">AUTH_FAILED</a>, <a class="el" href="SharedDefines_8h_source.html#l01957">AUTH_UNAVAILABLE</a>, <a class="el" href="SharedDefines_8h_source.html#l01962">AUTH_UNKNOWN_ACCOUNT</a>, <a class="el" href="SharedDefines_8h_source.html#l01961">AUTH_VERSION_MISMATCH</a>, <a class="el" href="Log_8h_source.html#l00238">BASIC_LOG</a>, <a class="el" href="WorldSession_8h_source.html#l00096">CLIENT_OS_MAC</a>, <a class="el" href="WorldSession_8h_source.html#l00095">CLIENT_OS_WIN</a>, <a class="el" href="WorldSession_8h_source.html#l00103">CLIENT_PLATFORM_PPC</a>, <a class="el" href="WorldSession_8h_source.html#l00102">CLIENT_PLATFORM_X86</a>, <a class="el" href="World_8h_source.html#l00166">CONFIG_UINT32_EXPANSION</a>, <a class="el" href="Database_8cpp_source.html#l00581">Database::CreateStatement()</a>, <a class="el" href="Log_8h_source.html#l00262">DEBUG_LOG</a>, <a class="el" href="Database_8cpp_source.html#l00204">Database::escape_string()</a>, <a class="el" href="QueryResult_8h_source.html#l00036">QueryResult::Fetch()</a>, <a class="el" href="CryptoHash_8h_source.html#l00095">CryptoHash&lt; Algorithm, DigestSize &gt;::Finalize()</a>, <a class="el" href="WorldSession_8h_source.html#l00316">WorldSession::GetAnticheat()</a>, <a class="el" href="CryptoHash_8h_source.html#l00097">CryptoHash&lt; Algorithm, DigestSize &gt;::GetDigest()</a>, <a class="el" href="Locales_8cpp_source.html#l00032">GetLocaleByName()</a>, <a class="el" href="WorldSession_8h_source.html#l01007">WorldSession::GetMessager()</a>, <a class="el" href="Socket_8hpp_source.html#l00112">MaNGOS::Socket::GetRemoteAddress()</a>, <a class="el" href="WorldSession_8h_source.html#l00259">WorldSession::GetState()</a>, <a class="el" href="Field_8h_source.html#l00045">Field::GetString()</a>, <a class="el" href="Field_8h_source.html#l00057">Field::GetUInt16()</a>, <a class="el" href="Field_8h_source.html#l00059">Field::GetUInt32()</a>, <a class="el" href="Field_8h_source.html#l00056">Field::GetUInt8()</a>, <a class="el" href="AuthCrypt_8cpp_source.html#l00027">AuthCrypt::Init()</a>, <a class="el" href="WorldPacket_8h_source.html#l00046">WorldPacket::Initialize()</a>, <a class="el" href="WorldSession_8cpp_source.html#l01279">WorldSession::InitializeAnticheat()</a>, <a class="el" href="DBCStores_8cpp_source.html#l00218">IsAcceptableClientBuild()</a>, <a class="el" href="Socket_8hpp_source.html#l00100">MaNGOS::Socket::IsClosed()</a>, <a class="el" href="WorldSession_8cpp_source.html#l00961">WorldSession::LoadGlobalAccountData()</a>, <a class="el" href="WorldSession_8cpp_source.html#l01060">WorldSession::LoadTutorialsData()</a>, <a class="el" href="CommonDefines_8h_source.html#l00025">LOGIN_TYPE_MANGOSD</a>, <a class="el" href="mangosd_2Main_8cpp_source.html#l00063">LoginDatabase</a>, <a class="el" href="WorldSocket_8h_source.html#l00106">m_crypt</a>, <a class="el" href="WorldSocket_8h_source.html#l00113">m_s</a>, <a class="el" href="WorldSocket_8h_source.html#l00111">m_seed</a>, <a class="el" href="WorldSocket_8h_source.html#l00109">m_session</a>, <a class="el" href="SqlPreparedStatement_8h_source.html#l00212">SqlStatement::PExecute()</a>, <a class="el" href="Database_8cpp_source.html#l00286">Database::PQuery()</a>, <a class="el" href="ByteBuffer_8h_source.html#l00298">ByteBuffer::read()</a>, <a class="el" href="ByteBuffer_8h_source.html#l00289">ByteBuffer::read_skip()</a>, <a class="el" href="classSessionAnticheatInterface.html#a9aa41b55b18a1058c5e2f2f01ddba150">SessionAnticheatInterface::ReadAddonInfo()</a>, <a class="el" href="WorldSession_8cpp_source.html#l00162">WorldSession::RequestNewSocket()</a>, <a class="el" href="Anticheat_8hpp_source.html#l00136">sAnticheatLib</a>, <a class="el" href="Common_8h_source.html#l00126">SEC_ADMINISTRATOR</a>, <a class="el" href="Common_8h_source.html#l00125">SEC_GAMEMASTER</a>, <a class="el" href="Common_8h_source.html#l00123">SEC_PLAYER</a>, <a class="el" href="WorldSession_8cpp_source.html#l01240">WorldSession::SendAuthOk()</a>, <a class="el" href="WorldSocket_8cpp_source.html#l00120">SendPacket()</a>, <a class="el" href="WorldSession_8cpp_source.html#l01289">WorldSession::SetDelayedAnticheat()</a>, <a class="el" href="BigNumber_8cpp_source.html#l00048">BigNumber::SetDword()</a>, <a class="el" href="WorldSession_8h_source.html#l00475">WorldSession::SetGameBuild()</a>, <a class="el" href="BigNumber_8cpp_source.html#l00068">BigNumber::SetHexStr()</a>, <a class="el" href="WorldSession_8h_source.html#l00471">WorldSession::SetOS()</a>, <a class="el" href="WorldSession_8h_source.html#l00473">WorldSession::SetPlatform()</a>, <a class="el" href="Log_8h_source.html#l00236">sLog</a>, <a class="el" href="Opcodes_8h_source.html#l00531">SMSG_AUTH_RESPONSE</a>, <a class="el" href="World_8h_source.html#l00832">sWorld</a>, <a class="el" href="WorldState_8h_source.html#l00668">sWorldState</a>, <a class="el" href="CryptoHash_8h_source.html#l00077">CryptoHash&lt; Algorithm, DigestSize &gt;::UpdateBigNumbers()</a>, <a class="el" href="CryptoHash_8h_source.html#l00090">CryptoHash&lt; Algorithm, DigestSize &gt;::UpdateData()</a>, and <a class="el" href="WorldSession_8h_source.html#l00173">WORLD_SESSION_STATE_CHAR_SELECTION</a>.</p>

<p class="reference">Referenced by <a class="el" href="WorldSocket_8cpp_source.html#l00173">ProcessIncomingData()</a>.</p>

</div>
</div>
<a id="a36f3f1c808fc289113d61b589a2dc3e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36f3f1c808fc289113d61b589a2dc3e2">&#9670;&nbsp;</a></span>HandlePing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WorldSocket::HandlePing </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classWorldPacket.html">WorldPacket</a> &amp;&#160;</td>
          <td class="paramname"><em>recvPacket</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by ProcessIncoming() on CMSG_PING. </p>

<p class="definition">Definition at line <a class="el" href="WorldSocket_8cpp_source.html#l00647">647</a> of file <a class="el" href="WorldSocket_8cpp_source.html">WorldSocket.cpp</a>.</p>

<p class="reference">References <a class="el" href="World_8h_source.html#l00165">CONFIG_UINT32_MAX_OVERSPEED_PINGS</a>, <a class="el" href="Socket_8hpp_source.html#l00112">MaNGOS::Socket::GetRemoteAddress()</a>, <a class="el" href="WorldSession_8h_source.html#l00290">WorldSession::GetSecurity()</a>, <a class="el" href="WorldSocket_8h_source.html#l00097">m_lastPingTime</a>, <a class="el" href="WorldSocket_8h_source.html#l00100">m_overSpeedPings</a>, <a class="el" href="WorldSocket_8h_source.html#l00109">m_session</a>, <a class="el" href="WorldSession_8h_source.html#l00468">WorldSession::ResetClientTimeDelay()</a>, <a class="el" href="Common_8h_source.html#l00123">SEC_PLAYER</a>, <a class="el" href="WorldSocket_8cpp_source.html#l00120">SendPacket()</a>, <a class="el" href="WorldSession_8h_source.html#l00467">WorldSession::SetLatency()</a>, <a class="el" href="Log_8h_source.html#l00236">sLog</a>, <a class="el" href="Opcodes_8h_source.html#l00514">SMSG_PONG</a>, and <a class="el" href="World_8h_source.html#l00832">sWorld</a>.</p>

<p class="reference">Referenced by <a class="el" href="WorldSocket_8cpp_source.html#l00173">ProcessIncomingData()</a>.</p>

</div>
</div>
<a id="ab2b85522ffc2c07e76519441aaa9dbaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2b85522ffc2c07e76519441aaa9dbaf">&#9670;&nbsp;</a></span>IsLoggingPackets()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WorldSocket::IsLoggingPackets </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldSocket_8h_source.html#l00150">150</a> of file <a class="el" href="WorldSocket_8h_source.html">WorldSocket.h</a>.</p>

<p class="reference">References <a class="el" href="WorldSocket_8h_source.html#l00129">m_loggingPackets</a>.</p>

<p class="reference">Referenced by <a class="el" href="WorldSocket_8cpp_source.html#l00173">ProcessIncomingData()</a>, and <a class="el" href="WorldSocket_8cpp_source.html#l00120">SendPacket()</a>.</p>

</div>
</div>
<a id="ab08c3ac88a04dc2403f1cda2928971b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab08c3ac88a04dc2403f1cda2928971b0">&#9670;&nbsp;</a></span>Open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WorldSocket::Open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classMaNGOS_1_1Socket.html#a5fba5be174ad1386134bf78ff346ded7">MaNGOS::Socket</a>.</p>

<p class="definition">Definition at line <a class="el" href="WorldSocket_8cpp_source.html#l00150">150</a> of file <a class="el" href="WorldSocket_8cpp_source.html">WorldSocket.cpp</a>.</p>

<p class="reference">References <a class="el" href="ByteBuffer_8h_source.html#l00381">ByteBuffer::append()</a>, <a class="el" href="BigNumber_8cpp_source.html#l00160">BigNumber::AsByteArray()</a>, <a class="el" href="WorldSocket_8h_source.html#l00111">m_seed</a>, <a class="el" href="WorldSocket_8cpp_source.html#l00120">SendPacket()</a>, <a class="el" href="BigNumber_8cpp_source.html#l00073">BigNumber::SetRand()</a>, and <a class="el" href="Opcodes_8h_source.html#l00529">SMSG_AUTH_CHALLENGE</a>.</p>

</div>
</div>
<a id="a07270fc1ade397fef9628c31e94ade32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07270fc1ade397fef9628c31e94ade32">&#9670;&nbsp;</a></span>ProcessIncomingData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WorldSocket::ProcessIncomingData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>process one incoming packet. </p>

<p>Implements <a class="el" href="classMaNGOS_1_1Socket.html#ad8aa9f2ebbfe190c21c6aa3002d75012">MaNGOS::Socket</a>.</p>

<p class="definition">Definition at line <a class="el" href="WorldSocket_8cpp_source.html#l00173">173</a> of file <a class="el" href="WorldSocket_8cpp_source.html">WorldSocket.cpp</a>.</p>

<p class="reference">References <a class="el" href="PacketLog_8h_source.html#l00028">CLIENT_TO_SERVER</a>, <a class="el" href="WorldSocket_8h_source.html#l00088">WorldSocket::ClientPktHeader::cmd</a>, <a class="el" href="Opcodes_8h_source.html#l00530">CMSG_AUTH_SESSION</a>, <a class="el" href="Opcodes_8h_source.html#l01068">CMSG_KEEP_ALIVE</a>, <a class="el" href="Opcodes_8h_source.html#l00513">CMSG_PING</a>, <a class="el" href="Opcodes_8h_source.html#l00950">CMSG_TIME_SYNC_RESP</a>, <a class="el" href="World_8h_source.html#l00390">CONFIG_BOOL_KICK_PLAYER_ON_BAD_PACKET</a>, <a class="el" href="Log_8h_source.html#l00262">DEBUG_LOG</a>, <a class="el" href="AuthCrypt_8cpp_source.html#l00059">AuthCrypt::DecryptRecv()</a>, <a class="el" href="Log_8h_source.html#l00250">DETAIL_LOG</a>, <a class="el" href="ByteConverter_8h_source.html#l00049">EndianConvert()</a>, <a class="el" href="ByteConverter_8h_source.html#l00050">EndianConvertReverse()</a>, <a class="el" href="WorldSession_8h_source.html#l00295">WorldSession::GetAccountId()</a>, <a class="el" href="Socket_8hpp_source.html#l00112">MaNGOS::Socket::GetRemoteAddress()</a>, <a class="el" href="Socket_8hpp_source.html#l00111">MaNGOS::Socket::GetRemoteEndpoint()</a>, <a class="el" href="Socket_8hpp_source.html#l00117">MaNGOS::Socket::GetRemoteIpAddress()</a>, <a class="el" href="Socket_8hpp_source.html#l00118">MaNGOS::Socket::GetRemotePort()</a>, <a class="el" href="WorldSocket_8cpp_source.html#l00317">HandleAuthSession()</a>, <a class="el" href="WorldSocket_8cpp_source.html#l00647">HandlePing()</a>, <a class="el" href="Socket_8hpp_source.html#l00087">MaNGOS::Socket::InPeak()</a>, <a class="el" href="Socket_8hpp_source.html#l00100">MaNGOS::Socket::IsClosed()</a>, <a class="el" href="WorldSocket_8h_source.html#l00150">IsLoggingPackets()</a>, <a class="el" href="Log_8h_source.html#l00035">LOG_LVL_DEBUG</a>, <a class="el" href="WorldSocket_8h_source.html#l00106">m_crypt</a>, <a class="el" href="WorldSocket_8h_source.html#l00102">m_existingHeader</a>, <a class="el" href="WorldSocket_8h_source.html#l00148">m_lastPacket</a>, <a class="el" href="WorldSocket_8h_source.html#l00127">m_opcodeHistoryInc</a>, <a class="el" href="WorldSocket_8h_source.html#l00147">m_packetCooldowns</a>, <a class="el" href="WorldSocket_8h_source.html#l00109">m_session</a>, <a class="el" href="WorldSocket_8h_source.html#l00103">m_useExistingHeader</a>, <a class="el" href="Opcodes_8h_source.html#l01348">NUM_MSG_TYPES</a>, <a class="el" href="WorldSession_8cpp_source.html#l00258">WorldSession::QueuePacket()</a>, <a class="el" href="Socket_8cpp_source.html#l00162">MaNGOS::Socket::Read()</a>, <a class="el" href="Socket_8hpp_source.html#l00089">MaNGOS::Socket::ReadLengthRemaining()</a>, <a class="el" href="Socket_8hpp_source.html#l00104">MaNGOS::Socket::ReadSkip()</a>, <a class="el" href="WorldSocket_8h_source.html#l00087">WorldSocket::ClientPktHeader::size</a>, <a class="el" href="Common_8h_source.html#l00090">SIZEFMTD</a>, <a class="el" href="Log_8h_source.html#l00236">sLog</a>, <a class="el" href="PacketLog_8h_source.html#l00054">sPacketLog</a>, and <a class="el" href="World_8h_source.html#l00832">sWorld</a>.</p>

</div>
</div>
<a id="a2f02d29126e17254545b3def656d695b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f02d29126e17254545b3def656d695b">&#9670;&nbsp;</a></span>SendPacket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WorldSocket::SendPacket </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classWorldPacket.html">WorldPacket</a> &amp;&#160;</td>
          <td class="paramname"><em>pct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>immediate</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldSocket_8cpp_source.html#l00120">120</a> of file <a class="el" href="WorldSocket_8cpp_source.html">WorldSocket.cpp</a>.</p>

<p class="reference">References <a class="el" href="ByteBuffer_8h_source.html#l00363">ByteBuffer::contents()</a>, <a class="el" href="ByteBuffer_8h_source.html#l00366">ByteBuffer::empty()</a>, <a class="el" href="AuthCrypt_8cpp_source.html#l00067">AuthCrypt::EncryptSend()</a>, <a class="el" href="Socket_8cpp_source.html#l00249">MaNGOS::Socket::ForceFlushOut()</a>, <a class="el" href="WorldSocket_8cpp_source.html#l00070">ServerPktHeader::getHeaderLength()</a>, <a class="el" href="WorldPacket_8h_source.html#l00053">WorldPacket::GetOpcode()</a>, <a class="el" href="WorldPacket_8h_source.html#l00055">WorldPacket::GetOpcodeName()</a>, <a class="el" href="Socket_8hpp_source.html#l00111">MaNGOS::Socket::GetRemoteEndpoint()</a>, <a class="el" href="Socket_8hpp_source.html#l00117">MaNGOS::Socket::GetRemoteIpAddress()</a>, <a class="el" href="Socket_8hpp_source.html#l00118">MaNGOS::Socket::GetRemotePort()</a>, <a class="el" href="WorldSocket_8cpp_source.html#l00082">ServerPktHeader::header</a>, <a class="el" href="Socket_8hpp_source.html#l00100">MaNGOS::Socket::IsClosed()</a>, <a class="el" href="WorldSocket_8h_source.html#l00150">IsLoggingPackets()</a>, <a class="el" href="WorldSocket_8h_source.html#l00106">m_crypt</a>, <a class="el" href="WorldSocket_8h_source.html#l00126">m_opcodeHistoryOut</a>, <a class="el" href="WorldSocket_8h_source.html#l00124">m_worldSocketMutex</a>, <a class="el" href="PacketLog_8h_source.html#l00029">SERVER_TO_CLIENT</a>, <a class="el" href="ByteBuffer_8h_source.html#l00365">ByteBuffer::size()</a>, <a class="el" href="Log_8h_source.html#l00236">sLog</a>, <a class="el" href="PacketLog_8h_source.html#l00054">sPacketLog</a>, and <a class="el" href="Socket_8cpp_source.html#l00189">MaNGOS::Socket::Write()</a>.</p>

<p class="reference">Referenced by <a class="el" href="WorldSocket_8cpp_source.html#l00317">HandleAuthSession()</a>, <a class="el" href="WorldSocket_8cpp_source.html#l00647">HandlePing()</a>, and <a class="el" href="WorldSocket_8cpp_source.html#l00150">Open()</a>.</p>

</div>
</div>
<a id="a1b8170b00a5ee56b6aa22bfe7123bd11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b8170b00a5ee56b6aa22bfe7123bd11">&#9670;&nbsp;</a></span>SetPacketLogging()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WorldSocket::SetPacketLogging </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldSocket_8h_source.html#l00151">151</a> of file <a class="el" href="WorldSocket_8h_source.html">WorldSocket.h</a>.</p>

<p class="reference">References <a class="el" href="WorldSocket_8h_source.html#l00129">m_loggingPackets</a>.</p>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="aa002d9fc201c83d6ac5a66aa3556be0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa002d9fc201c83d6ac5a66aa3556be0d">&#9670;&nbsp;</a></span>m_crypt</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAuthCrypt.html">AuthCrypt</a> WorldSocket::m_crypt</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Class used for managing encryption of the headers. </p>

<p class="definition">Definition at line <a class="el" href="WorldSocket_8h_source.html#l00106">106</a> of file <a class="el" href="WorldSocket_8h_source.html">WorldSocket.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="WorldSocket_8cpp_source.html#l00317">HandleAuthSession()</a>, <a class="el" href="WorldSocket_8cpp_source.html#l00173">ProcessIncomingData()</a>, and <a class="el" href="WorldSocket_8cpp_source.html#l00120">SendPacket()</a>.</p>

</div>
</div>
<a id="ac402a6a5fbe5bd8f0be4feccbcc17632"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac402a6a5fbe5bd8f0be4feccbcc17632">&#9670;&nbsp;</a></span>m_existingHeader</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structWorldSocket_1_1ClientPktHeader.html">ClientPktHeader</a> WorldSocket::m_existingHeader</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldSocket_8h_source.html#l00102">102</a> of file <a class="el" href="WorldSocket_8h_source.html">WorldSocket.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="WorldSocket_8cpp_source.html#l00173">ProcessIncomingData()</a>.</p>

</div>
</div>
<a id="a4873a50db333e50e5c53c3eae74a6053"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4873a50db333e50e5c53c3eae74a6053">&#9670;&nbsp;</a></span>m_lastPacket</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>, <a class="el" href="Common_8h.html#a4261a6a40855caeed69661cc67faca82">TimePoint</a>&gt; WorldSocket::m_lastPacket</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldSocket_8h_source.html#l00148">148</a> of file <a class="el" href="WorldSocket_8h_source.html">WorldSocket.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="WorldSocket_8cpp_source.html#l00173">ProcessIncomingData()</a>.</p>

</div>
</div>
<a id="ac773c3125cde91d4948b69d139239436"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac773c3125cde91d4948b69d139239436">&#9670;&nbsp;</a></span>m_lastPingTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::chrono::system_clock::time_point WorldSocket::m_lastPingTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Time in which the last ping was received. </p>

<p class="definition">Definition at line <a class="el" href="WorldSocket_8h_source.html#l00097">97</a> of file <a class="el" href="WorldSocket_8h_source.html">WorldSocket.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="WorldSocket_8cpp_source.html#l00647">HandlePing()</a>.</p>

</div>
</div>
<a id="a4b5b5aa0f549cfb4920ed560b7bdec91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b5b5aa0f549cfb4920ed560b7bdec91">&#9670;&nbsp;</a></span>m_loggingPackets</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WorldSocket::m_loggingPackets</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldSocket_8h_source.html#l00129">129</a> of file <a class="el" href="WorldSocket_8h_source.html">WorldSocket.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="WorldSocket_8h_source.html#l00150">IsLoggingPackets()</a>, and <a class="el" href="WorldSocket_8h_source.html#l00151">SetPacketLogging()</a>.</p>

</div>
</div>
<a id="a3e203971fa727a8dc244589fc6f22a3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e203971fa727a8dc244589fc6f22a3f">&#9670;&nbsp;</a></span>m_opcodeHistoryInc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::deque&lt;<a class="el" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt; WorldSocket::m_opcodeHistoryInc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldSocket_8h_source.html#l00127">127</a> of file <a class="el" href="WorldSocket_8h_source.html">WorldSocket.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="WorldSocket_8cpp_source.html#l00109">GetIncOpcodeHistory()</a>, and <a class="el" href="WorldSocket_8cpp_source.html#l00173">ProcessIncomingData()</a>.</p>

</div>
</div>
<a id="aaf40773ca4834223fa3cb7c59cbbd52d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf40773ca4834223fa3cb7c59cbbd52d">&#9670;&nbsp;</a></span>m_opcodeHistoryOut</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::deque&lt;<a class="el" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt; WorldSocket::m_opcodeHistoryOut</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldSocket_8h_source.html#l00126">126</a> of file <a class="el" href="WorldSocket_8h_source.html">WorldSocket.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="WorldSocket_8cpp_source.html#l00103">GetOutOpcodeHistory()</a>, and <a class="el" href="WorldSocket_8cpp_source.html#l00120">SendPacket()</a>.</p>

</div>
</div>
<a id="a7de7fd5d88c192655cede9bc49d130ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7de7fd5d88c192655cede9bc49d130ec">&#9670;&nbsp;</a></span>m_overSpeedPings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> WorldSocket::m_overSpeedPings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Keep track of over-speed pings ,to prevent ping flood. </p>

<p class="definition">Definition at line <a class="el" href="WorldSocket_8h_source.html#l00100">100</a> of file <a class="el" href="WorldSocket_8h_source.html">WorldSocket.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="WorldSocket_8cpp_source.html#l00647">HandlePing()</a>.</p>

</div>
</div>
<a id="a42e60207b7ca1db2fc2a86fcdb369d35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42e60207b7ca1db2fc2a86fcdb369d35">&#9670;&nbsp;</a></span>m_packetCooldowns</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> &gt; WorldSocket::m_packetCooldowns = <a class="el" href="WorldSocket_8cpp.html#aafb70e8d03d23d0533c86661219174a7">InitOpcodeCooldowns</a>()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldSocket_8h_source.html#l00147">147</a> of file <a class="el" href="WorldSocket_8h_source.html">WorldSocket.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="WorldSocket_8cpp_source.html#l00173">ProcessIncomingData()</a>.</p>

</div>
</div>
<a id="ac593e5cdaeae2acf8b9fc23702991d22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac593e5cdaeae2acf8b9fc23702991d22">&#9670;&nbsp;</a></span>m_s</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBigNumber.html">BigNumber</a> WorldSocket::m_s</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldSocket_8h_source.html#l00113">113</a> of file <a class="el" href="WorldSocket_8h_source.html">WorldSocket.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="WorldSocket_8h_source.html#l00142">GetSessionKey()</a>, and <a class="el" href="WorldSocket_8cpp_source.html#l00317">HandleAuthSession()</a>.</p>

</div>
</div>
<a id="a1fc869a2a037d4974734ac4daaf33b0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fc869a2a037d4974734ac4daaf33b0e">&#9670;&nbsp;</a></span>m_seed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> WorldSocket::m_seed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldSocket_8h_source.html#l00111">111</a> of file <a class="el" href="WorldSocket_8h_source.html">WorldSocket.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="WorldSocket_8cpp_source.html#l00317">HandleAuthSession()</a>, and <a class="el" href="WorldSocket_8cpp_source.html#l00150">Open()</a>.</p>

</div>
</div>
<a id="a806ae484767bb61b8214d0e86948b51f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a806ae484767bb61b8214d0e86948b51f">&#9670;&nbsp;</a></span>m_session</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWorldSession.html">WorldSession</a>* WorldSocket::m_session</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Session to which received packets are routed. </p>

<p class="definition">Definition at line <a class="el" href="WorldSocket_8h_source.html#l00109">109</a> of file <a class="el" href="WorldSocket_8h_source.html">WorldSocket.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="WorldSocket_8h_source.html#l00137">FinalizeSession()</a>, <a class="el" href="WorldSocket_8cpp_source.html#l00317">HandleAuthSession()</a>, <a class="el" href="WorldSocket_8cpp_source.html#l00647">HandlePing()</a>, and <a class="el" href="WorldSocket_8cpp_source.html#l00173">ProcessIncomingData()</a>.</p>

</div>
</div>
<a id="a11e8fee3d2d78c9bc01451f752394a72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11e8fee3d2d78c9bc01451f752394a72">&#9670;&nbsp;</a></span>m_useExistingHeader</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WorldSocket::m_useExistingHeader</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldSocket_8h_source.html#l00103">103</a> of file <a class="el" href="WorldSocket_8h_source.html">WorldSocket.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="WorldSocket_8cpp_source.html#l00173">ProcessIncomingData()</a>.</p>

</div>
</div>
<a id="abb224a0812b59769398130b2ba7e9245"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb224a0812b59769398130b2ba7e9245">&#9670;&nbsp;</a></span>m_worldSocketMutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex WorldSocket::m_worldSocketMutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldSocket_8h_source.html#l00124">124</a> of file <a class="el" href="WorldSocket_8h_source.html">WorldSocket.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="WorldSocket_8cpp_source.html#l00109">GetIncOpcodeHistory()</a>, <a class="el" href="WorldSocket_8cpp_source.html#l00103">GetOutOpcodeHistory()</a>, and <a class="el" href="WorldSocket_8cpp_source.html#l00120">SendPacket()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="WorldSocket_8h_source.html">WorldSocket.h</a></li>
<li><a class="el" href="WorldSocket_8cpp_source.html">WorldSocket.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classWorldSocket.html">WorldSocket</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
