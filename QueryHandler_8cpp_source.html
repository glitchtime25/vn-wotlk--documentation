<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CMaNGOS_WoTLK: QueryHandler.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CMaNGOS_WoTLK
   &#160;<span id="projectnumber">0b6ed145724bbfe54f426dc34e27de563eb3bc54</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('QueryHandler_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">QueryHandler.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="QueryHandler_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * This file is part of the CMaNGOS Project. See AUTHORS file for Copyright information</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This program is free software; you can redistribute it and/or modify</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * the Free Software Foundation; either version 2 of the License, or</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * (at your option) any later version.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * GNU General Public License for more details.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * along with this program; if not, write to the Free Software</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160; </div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Common_8h.html">Common.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Language_8h.html">Tools/Language.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DatabaseEnv_8h.html">Database/DatabaseEnv.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DatabaseImpl_8h.html">Database/DatabaseImpl.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="WorldPacket_8h.html">Server/WorldPacket.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="WorldSession_8h.html">Server/WorldSession.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Opcodes_8h.html">Server/Opcodes.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Log_8h.html">Log.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="World_8h.html">World/World.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ObjectMgr_8h.html">Globals/ObjectMgr.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ObjectGuid_8h.html">Entities/ObjectGuid.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Player_8h.html">Entities/Player.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="NPCHandler_8h.html">Entities/NPCHandler.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SQLStorages_8h.html">Server/SQLStorages.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GridDefines_8h.html">Maps/GridDefines.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="classWorldSession.html#a62daf552c8cab5a453ab1a13fb123d8b">   35</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a62daf552c8cab5a453ab1a13fb123d8b">WorldSession::SendNameQueryResponse</a>(<a class="code" href="structCharacterNameQueryResponse.html">CharacterNameQueryResponse</a>&amp; response)<span class="keyword"> const</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="comment">// guess size</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca42caacdf381083e5cad46747a1e2515a">SMSG_NAME_QUERY_RESPONSE</a>, (8 + 1 + 1 + 1 + 1 + 1 + 10));</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    data &lt;&lt; response.<a class="code" href="structCharacterNameQueryResponse.html#a701e7f193d82daa0cda4f40c93bd06c5">guid</a>.<a class="code" href="classObjectGuid.html#a07e7802fc81a89510d4286ecf52ddb08">WriteAsPacked</a>();</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="comment">// Added in 3.1: non-existent character short packet response</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">if</span> (response.<a class="code" href="structCharacterNameQueryResponse.html#af51c2f9963da2c76cd453e5a067fb2a9">name</a>.empty())</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(1);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    }</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(0);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    data &lt;&lt; response.<a class="code" href="structCharacterNameQueryResponse.html#af51c2f9963da2c76cd453e5a067fb2a9">name</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">if</span> (response.<a class="code" href="structCharacterNameQueryResponse.html#aa7c85c4b4bf19a8a7eaea7d70d8ba598">realm</a>.empty())</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(0);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        data &lt;&lt; response.<a class="code" href="structCharacterNameQueryResponse.html#aa7c85c4b4bf19a8a7eaea7d70d8ba598">realm</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(response.<a class="code" href="structCharacterNameQueryResponse.html#ad0f92c329dca3425fdc31346d29517a9">race</a>);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(response.<a class="code" href="structCharacterNameQueryResponse.html#adb1568cc19e8a5ad7526b0c6a7eda6c0">gender</a>);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(response.<a class="code" href="structCharacterNameQueryResponse.html#a50861451c8adb12f243b2682c8908ecb">classid</a>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// if the first declined name field is empty, the rest must be too</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">if</span> (response.<a class="code" href="structCharacterNameQueryResponse.html#a075792986cbdd5d4c55aa6cd73efc80d">declined</a>.<a class="code" href="structDeclinedName.html#acda589ff9e0fdb0a813707736191d049">name</a>[0].empty())</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(0);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(1);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; i : response.<a class="code" href="structCharacterNameQueryResponse.html#a075792986cbdd5d4c55aa6cd73efc80d">declined</a>.<a class="code" href="structDeclinedName.html#acda589ff9e0fdb0a813707736191d049">name</a>)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            data &lt;&lt; i;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="classWorldSession.html#a3f7948baa451136f0607acf23e566c61">   76</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a3f7948baa451136f0607acf23e566c61">WorldSession::SendNameQueryResponseFromDB</a>(<a class="code" href="classObjectGuid.html">ObjectGuid</a> guid)<span class="keyword"> const</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a>.<a class="code" href="classDatabase.html#a7ca2df98b64655a7d7e0cb21bbde220d">AsyncPQuery</a>(&amp;<a class="code" href="classWorldSession.html#aca87c7d8d6aa49dbe1246b86185dd466">WorldSession::SendNameQueryResponseFromDBCallBack</a>, <a class="code" href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>(),</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                                  !<a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.getConfig(<a class="code" href="group__world.html#gga0400d571bb6627ef2b170a4e0dc846cdaec39fe9ae0432b5e3abcb811a3780221">CONFIG_BOOL_DECLINED_NAMES_USED</a>) ?</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                                  <span class="comment">//   ------- Query Without Declined Names --------</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                  <span class="comment">//          0     1     2     3       4</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                                  <span class="stringliteral">&quot;SELECT guid, name, race, gender, class &quot;</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                                  <span class="stringliteral">&quot;FROM characters WHERE guid = &#39;%u&#39;&quot;</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                                  :</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                                  <span class="comment">//   --------- Query With Declined Names ---------</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                                  <span class="comment">//          0                1     2     3       4</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                                  <span class="stringliteral">&quot;SELECT characters.guid, name, race, gender, class, &quot;</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                                  <span class="comment">//   5         6       7           8             9</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                                  <span class="stringliteral">&quot;genitive, dative, accusative, instrumental, prepositional &quot;</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                                  <span class="stringliteral">&quot;FROM characters LEFT JOIN character_declinedname ON characters.guid = character_declinedname.guid WHERE characters.guid = &#39;%u&#39;&quot;</span>,</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                                  guid.<a class="code" href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">GetCounter</a>());</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;}</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="classWorldSession.html#aca87c7d8d6aa49dbe1246b86185dd466">   94</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#aca87c7d8d6aa49dbe1246b86185dd466">WorldSession::SendNameQueryResponseFromDBCallBack</a>(<a class="code" href="classQueryResult.html">QueryResult</a>* result, <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> accountId)</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;{</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="classWorldSession.html">WorldSession</a>* session = <a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.FindSession(accountId);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">if</span> (!session)</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keyword">delete</span> result;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="classField.html">Field</a>* fields = result-&gt;<a class="code" href="classQueryResult.html#ae59bcb12d59b9a369953be91ddb5c446">Fetch</a>();</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="structCharacterNameQueryResponse.html">CharacterNameQueryResponse</a> response;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    response.<a class="code" href="structCharacterNameQueryResponse.html#a701e7f193d82daa0cda4f40c93bd06c5">guid</a> = <a class="code" href="classObjectGuid.html">ObjectGuid</a>(<a class="code" href="ObjectGuid_8h.html#abe8666ac87665ba963053cdd2b014750ac30cd6a15de9e7763b2bcea91be46eb3">HIGHGUID_PLAYER</a>, fields[0].GetUInt32());</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    response.<a class="code" href="structCharacterNameQueryResponse.html#af51c2f9963da2c76cd453e5a067fb2a9">name</a> = fields[1].<a class="code" href="classField.html#ac3fe5bf9cdc61b5be66a4c79598cba5e">GetCppString</a>();</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    response.<a class="code" href="structCharacterNameQueryResponse.html#aa7c85c4b4bf19a8a7eaea7d70d8ba598">realm</a> = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">if</span> (!response.<a class="code" href="structCharacterNameQueryResponse.html#af51c2f9963da2c76cd453e5a067fb2a9">name</a>.empty())</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        response.<a class="code" href="structCharacterNameQueryResponse.html#ad0f92c329dca3425fdc31346d29517a9">race</a> = fields[2].<a class="code" href="classField.html#a090beafdf8b41555058a87d00443498a">GetUInt8</a>();</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        response.<a class="code" href="structCharacterNameQueryResponse.html#adb1568cc19e8a5ad7526b0c6a7eda6c0">gender</a> = fields[3].<a class="code" href="classField.html#a090beafdf8b41555058a87d00443498a">GetUInt8</a>();</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        response.<a class="code" href="structCharacterNameQueryResponse.html#a50861451c8adb12f243b2682c8908ecb">classid</a> = fields[4].<a class="code" href="classField.html#a090beafdf8b41555058a87d00443498a">GetUInt8</a>();</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">// if the first declined name field (5) is empty, the rest must be too</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.getConfig(<a class="code" href="group__world.html#gga0400d571bb6627ef2b170a4e0dc846cdaec39fe9ae0432b5e3abcb811a3780221">CONFIG_BOOL_DECLINED_NAMES_USED</a>) &amp;&amp; !fields[5].<a class="code" href="classField.html#ac3fe5bf9cdc61b5be66a4c79598cba5e">GetCppString</a>().empty())</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="group__u2w.html#ga8c9f2cb96962bbba77bd38e8bd014659">MAX_DECLINED_NAME_CASES</a>; ++i)</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            response.<a class="code" href="structCharacterNameQueryResponse.html#a075792986cbdd5d4c55aa6cd73efc80d">declined</a>.<a class="code" href="structDeclinedName.html#acda589ff9e0fdb0a813707736191d049">name</a>[i] = fields[(5 + i)].<a class="code" href="classField.html#ac3fe5bf9cdc61b5be66a4c79598cba5e">GetCppString</a>();</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">if</span> (session-&gt;<a class="code" href="classWorldSession.html#a20af5457521b2d3c651018f1b52146d9">m_sessionState</a> != <a class="code" href="group__u2w.html#gga248297ba2ec93193a5f1bcc064ddfc87ac9bc053aadde5099899189a94f400248">WORLD_SESSION_STATE_READY</a>)</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        session-&gt;<a class="code" href="classWorldSession.html#a1ce97318ddeffb7fdbeeaf6c7df2b710">m_offlineNameResponses</a>.push_back(response);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        session-&gt;<a class="code" href="classWorldSession.html#a62daf552c8cab5a453ab1a13fb123d8b">SendNameQueryResponse</a>(response);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keyword">delete</span> result;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="classWorldSession.html#a3e590c3e755ac99074972fe3a83267f1">  136</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a3e590c3e755ac99074972fe3a83267f1">WorldSession::HandleNameQueryOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; recv_data)</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;{</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="classObjectGuid.html">ObjectGuid</a> guid;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    recv_data &gt;&gt; guid;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">// When not logged in: check if name was already queried</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classWorldSession.html#a20af5457521b2d3c651018f1b52146d9">m_sessionState</a> != <a class="code" href="group__u2w.html#gga248297ba2ec93193a5f1bcc064ddfc87ac9bc053aadde5099899189a94f400248">WORLD_SESSION_STATE_READY</a>)</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keyword">auto</span> result = <a class="code" href="classWorldSession.html#af8412ed02049bcd4acd3945aa0c41056">m_offlineNameQueries</a>.insert(guid);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordflow">if</span> (!result.second)</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="classPlayer.html">Player</a>* pChar = <a class="code" href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>.GetPlayer(guid);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">if</span> (pChar)</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <a class="code" href="structCharacterNameQueryResponse.html">CharacterNameQueryResponse</a> response;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        response.<a class="code" href="structCharacterNameQueryResponse.html#a701e7f193d82daa0cda4f40c93bd06c5">guid</a> = pChar-&gt;<a class="code" href="classObject.html#ae7e0c11556aeda48ab347a56b6b7bd6a">GetObjectGuid</a>();</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        response.<a class="code" href="structCharacterNameQueryResponse.html#af51c2f9963da2c76cd453e5a067fb2a9">name</a> = pChar-&gt;<a class="code" href="classWorldObject.html#af60e24425abfff16a925c7b5808d8b38">GetName</a>();</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        response.<a class="code" href="structCharacterNameQueryResponse.html#aa7c85c4b4bf19a8a7eaea7d70d8ba598">realm</a> = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        response.<a class="code" href="structCharacterNameQueryResponse.html#ad0f92c329dca3425fdc31346d29517a9">race</a> = <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(pChar-&gt;<a class="code" href="classUnit.html#aa763cca3344c39360cf4f891300a17df">getRace</a>());</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        response.<a class="code" href="structCharacterNameQueryResponse.html#adb1568cc19e8a5ad7526b0c6a7eda6c0">gender</a> = <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(pChar-&gt;<a class="code" href="classUnit.html#a0d13935c40d0392f7f7b5a34540461b2">getGender</a>());</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        response.<a class="code" href="structCharacterNameQueryResponse.html#a50861451c8adb12f243b2682c8908ecb">classid</a> = <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(pChar-&gt;<a class="code" href="classUnit.html#a58a507ebe628930b8a506144b364d84b">getClass</a>());</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="structDeclinedName.html">DeclinedName</a> <span class="keyword">const</span>* declined = pChar-&gt;<a class="code" href="classPlayer.html#aa1c6cb7cbb3f2c0cb37140d8724225f4">GetDeclinedNames</a>())</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="group__u2w.html#ga8c9f2cb96962bbba77bd38e8bd014659">MAX_DECLINED_NAME_CASES</a>; ++i)</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;               response.<a class="code" href="structCharacterNameQueryResponse.html#a075792986cbdd5d4c55aa6cd73efc80d">declined</a>.<a class="code" href="structDeclinedName.html#acda589ff9e0fdb0a813707736191d049">name</a>[i] = declined-&gt;name[i];</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classWorldSession.html#a20af5457521b2d3c651018f1b52146d9">m_sessionState</a> != <a class="code" href="group__u2w.html#gga248297ba2ec93193a5f1bcc064ddfc87ac9bc053aadde5099899189a94f400248">WORLD_SESSION_STATE_READY</a>)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            <a class="code" href="classWorldSession.html#a1ce97318ddeffb7fdbeeaf6c7df2b710">m_offlineNameResponses</a>.push_back(response);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <a class="code" href="classWorldSession.html#a62daf552c8cab5a453ab1a13fb123d8b">SendNameQueryResponse</a>(response);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <a class="code" href="classWorldSession.html#a3f7948baa451136f0607acf23e566c61">SendNameQueryResponseFromDB</a>(guid);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="classWorldSession.html#ac5541e7882cbfc0b3462e421c1de8b80">  179</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#ac5541e7882cbfc0b3462e421c1de8b80">WorldSession::HandleQueryTimeOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; <span class="comment">/*recv_data*/</span>)</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;{</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="classWorldSession.html#a29a87e6745d3412fba76772d9c0e546c">SendQueryTimeResponse</a>();</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="classWorldSession.html#a7402c943865afaeb210e773ed36e2dbd">  185</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a7402c943865afaeb210e773ed36e2dbd">WorldSession::HandleCreatureQueryOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; recv_data)</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;{</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> entry;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    recv_data &gt;&gt; entry;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="classObjectGuid.html">ObjectGuid</a> guid;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    recv_data &gt;&gt; guid;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="structCreatureInfo.html">CreatureInfo</a> <span class="keyword">const</span>* ci = <a class="code" href="classObjectMgr.html#afc7d19c6dafd93035f5248e5ab0c234b">ObjectMgr::GetCreatureTemplate</a>(entry);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">if</span> (ci)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordtype">int</span> loc_idx = <a class="code" href="classWorldSession.html#a9604e93019df8f73ce57701ebe8e5a3e">GetSessionDbLocaleIndex</a>();</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordtype">char</span> <span class="keyword">const</span>* name = ci-&gt;<a class="code" href="structCreatureInfo.html#a3f9472919692f379cd668127b8b4a2ca">Name</a>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordtype">char</span> <span class="keyword">const</span>* subName = ci-&gt;<a class="code" href="structCreatureInfo.html#abbca0c4c7958b9542f625dd4914d75be">SubName</a>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <a class="code" href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>.GetCreatureLocaleStrings(entry, loc_idx, &amp;name, &amp;subName);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <a class="code" href="Log_8h.html#adbee991aac31d91a88ae6276d32ba9f6">DETAIL_LOG</a>(<span class="stringliteral">&quot;WORLD: CMSG_CREATURE_QUERY &#39;%s&#39; - Entry: %u.&quot;</span>, ci-&gt;<a class="code" href="structCreatureInfo.html#a3f9472919692f379cd668127b8b4a2ca">Name</a>, entry);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="comment">// guess size</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca1d8179db7154c052e613899fafa4458e">SMSG_CREATURE_QUERY_RESPONSE</a>, 100);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(entry);                              <span class="comment">// creature entry</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        data &lt;&lt; name;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(0) &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(0) &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(0);           <span class="comment">// name2, name3, name4, always empty</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        data &lt;&lt; subName;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        data &lt;&lt; ci-&gt;<a class="code" href="structCreatureInfo.html#a61e098669d93844d12260656178d9759">IconName</a>;                               <span class="comment">// &quot;Directions&quot; for guard, string for Icons 2.3.0</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(ci-&gt;<a class="code" href="structCreatureInfo.html#a0f3d0ced9f1de4a0a448675ddf64fcf6">CreatureTypeFlags</a>);              <span class="comment">// flags</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(ci-&gt;<a class="code" href="structCreatureInfo.html#ad6a14a407ef572de310d03f2315386e7">CreatureType</a>);                   <span class="comment">// CreatureType.dbc</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(ci-&gt;<a class="code" href="structCreatureInfo.html#a55f9e7b8189a5de4ef01d0787b161801">Family</a>);                         <span class="comment">// CreatureFamily.dbc</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(ci-&gt;<a class="code" href="structCreatureInfo.html#a8dc1430294293bea573b63171ec1369e">Rank</a>);                           <span class="comment">// Creature Rank (elite, boss, etc)</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(ci-&gt;<a class="code" href="structCreatureInfo.html#a5999350aca0104be803da6bd24ec15bc">KillCredit</a>[0]);                  <span class="comment">// new in 3.1, kill credit</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(ci-&gt;<a class="code" href="structCreatureInfo.html#a5999350aca0104be803da6bd24ec15bc">KillCredit</a>[1]);                  <span class="comment">// new in 3.1, kill credit</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i : ci-&gt;<a class="code" href="structCreatureInfo.html#a95109eab450e42ae34975e9fe19692f8">ModelId</a>)</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            data &lt;&lt; i;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        data &lt;&lt; float(ci-&gt;<a class="code" href="structCreatureInfo.html#a2d6ea83588e36f5dbd6f9ea473edf749">HealthMultiplier</a>);                <span class="comment">// health multiplier</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        data &lt;&lt; float(ci-&gt;<a class="code" href="structCreatureInfo.html#aceb233a74bbf2d2bcad51c15c2b82198">PowerMultiplier</a>);                 <span class="comment">// power multiplier</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(ci-&gt;<a class="code" href="structCreatureInfo.html#aff2da127dd6eb58fa37aa19661a983b7">RacialLeader</a>);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> QuestItem : ci-&gt;<a class="code" href="structCreatureInfo.html#a24f54abf4e9658781b71891ed43518bd">QuestItems</a>)</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(QuestItem);              <span class="comment">// itemId[6], quest drop</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(ci-&gt;<a class="code" href="structCreatureInfo.html#afceaca4bb88da58a00876158a7be3665">MovementTemplateId</a>);             <span class="comment">// CreatureMovementInfo.dbc</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <a class="code" href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a>(<span class="stringliteral">&quot;WORLD: Sent SMSG_CREATURE_QUERY_RESPONSE&quot;</span>);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <a class="code" href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a>(<span class="stringliteral">&quot;WORLD: CMSG_CREATURE_QUERY - Guid: %s Entry: %u NO CREATURE INFO!&quot;</span>,</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                  guid.<a class="code" href="classObjectGuid.html#a0eb47d3c61516f4242e8599b55ae755e">GetString</a>().c_str(), entry);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca1d8179db7154c052e613899fafa4458e">SMSG_CREATURE_QUERY_RESPONSE</a>, 4);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(entry | 0x80000000);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <a class="code" href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a>(<span class="stringliteral">&quot;WORLD: Sent SMSG_CREATURE_QUERY_RESPONSE&quot;</span>);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;}</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="classWorldSession.html#a8af7d700b87df69d0fa00f4822a11ac0">  240</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a8af7d700b87df69d0fa00f4822a11ac0">WorldSession::HandleGameObjectQueryOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; recv_data)</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;{</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> entryID;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    recv_data &gt;&gt; entryID;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="classObjectGuid.html">ObjectGuid</a> guid;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    recv_data &gt;&gt; guid;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keyword">const</span> <a class="code" href="structGameObjectInfo.html">GameObjectInfo</a>* info = <a class="code" href="classObjectMgr.html#acb8c34b9004a950cf03753ae6ea87dde">ObjectMgr::GetGameObjectInfo</a>(entryID);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">if</span> (info)</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        std::string Name = info-&gt;<a class="code" href="structGameObjectInfo.html#a701b61686c1dfeca238f58b43b821fdb">name</a>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        std::string IconName = info-&gt;<a class="code" href="structGameObjectInfo.html#abd725e4c5d6874999df8103b2c6ad568">IconName</a>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        std::string CastBarCaption = info-&gt;<a class="code" href="structGameObjectInfo.html#a1afbc2026388f9fb132ffcf485610211">castBarCaption</a>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keywordtype">int</span> loc_idx = <a class="code" href="classWorldSession.html#a9604e93019df8f73ce57701ebe8e5a3e">GetSessionDbLocaleIndex</a>();</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">if</span> (loc_idx &gt;= 0)</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <a class="code" href="structGameObjectLocale.html">GameObjectLocale</a> <span class="keyword">const</span>* gl = <a class="code" href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>.GetGameObjectLocale(entryID);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="keywordflow">if</span> (gl)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                <span class="keywordflow">if</span> (gl-&gt;<a class="code" href="structGameObjectLocale.html#a462917eda1e095c99054495abf70cd67">Name</a>.size() &gt; <span class="keywordtype">size_t</span>(loc_idx) &amp;&amp; !gl-&gt;<a class="code" href="structGameObjectLocale.html#a462917eda1e095c99054495abf70cd67">Name</a>[loc_idx].empty())</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                    Name = gl-&gt;<a class="code" href="structGameObjectLocale.html#a462917eda1e095c99054495abf70cd67">Name</a>[loc_idx];</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                <span class="keywordflow">if</span> (gl-&gt;<a class="code" href="structGameObjectLocale.html#ae78195bdc8edd6f4996c617e7a541e12">CastBarCaption</a>.size() &gt; <span class="keywordtype">size_t</span>(loc_idx) &amp;&amp; !gl-&gt;<a class="code" href="structGameObjectLocale.html#ae78195bdc8edd6f4996c617e7a541e12">CastBarCaption</a>[loc_idx].empty())</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                    CastBarCaption = gl-&gt;<a class="code" href="structGameObjectLocale.html#ae78195bdc8edd6f4996c617e7a541e12">CastBarCaption</a>[loc_idx];</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <a class="code" href="Log_8h.html#adbee991aac31d91a88ae6276d32ba9f6">DETAIL_LOG</a>(<span class="stringliteral">&quot;WORLD: CMSG_GAMEOBJECT_QUERY &#39;%s&#39; - Entry: %u. &quot;</span>, info-&gt;<a class="code" href="structGameObjectInfo.html#a701b61686c1dfeca238f58b43b821fdb">name</a>, entryID);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca84ef80abf17abf6d836d70914f608218">SMSG_GAMEOBJECT_QUERY_RESPONSE</a>, 150);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(entryID);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(info-&gt;<a class="code" href="structGameObjectInfo.html#a92d57c060c5501830c3311ba70008730">type</a>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(info-&gt;<a class="code" href="structGameObjectInfo.html#adf4e46a2d24c6de48e9075041231514f">displayId</a>);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        data &lt;&lt; Name;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(0) &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(0) &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(0);           <span class="comment">// name2, name3, name4</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        data &lt;&lt; IconName;                                   <span class="comment">// 2.0.3, string. Icon name to use instead of default icon for go&#39;s (ex: &quot;Attack&quot; makes sword)</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        data &lt;&lt; CastBarCaption;                             <span class="comment">// 2.0.3, string. Text will appear in Cast Bar when using GO (ex: &quot;Collecting&quot;)</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        data &lt;&lt; info-&gt;<a class="code" href="structGameObjectInfo.html#a03b62edf1d78fb9503ba71d45c799adc">unk1</a>;                                 <span class="comment">// 2.0.3, string</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        data.<a class="code" href="classByteBuffer.html#ab71feec2acb9ff88a5c7c7d0adaa7653">append</a>(info-&gt;<a class="code" href="structGameObjectInfo.html#abcc4ab475a2dc4cd5108e1e7b109df99">raw</a>.data, 24);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        data &lt;&lt; float(info-&gt;<a class="code" href="structGameObjectInfo.html#a4272aba3c63877191439cdc5926577e2">size</a>);                          <span class="comment">// go size</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> questItem : info-&gt;<a class="code" href="structGameObjectInfo.html#a6fa6457d0d1fb73e096e963b2ebf7579">questItems</a>)</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(questItem);            <span class="comment">// itemId[6], quest drop</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <a class="code" href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a>(<span class="stringliteral">&quot;WORLD: Sent SMSG_GAMEOBJECT_QUERY_RESPONSE&quot;</span>);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <a class="code" href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a>(<span class="stringliteral">&quot;WORLD: CMSG_GAMEOBJECT_QUERY - Guid: %s Entry: %u Missing gameobject info!&quot;</span>,</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                  guid.<a class="code" href="classObjectGuid.html#a0eb47d3c61516f4242e8599b55ae755e">GetString</a>().c_str(), entryID);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca84ef80abf17abf6d836d70914f608218">SMSG_GAMEOBJECT_QUERY_RESPONSE</a>, 4);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(entryID | 0x80000000);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <a class="code" href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a>(<span class="stringliteral">&quot;WORLD: Sent SMSG_GAMEOBJECT_QUERY_RESPONSE&quot;</span>);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;}</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="classWorldSession.html#a91706613e6d80951c92581eb5ac5924e">  294</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a91706613e6d80951c92581eb5ac5924e">WorldSession::HandleCorpseQueryOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; <span class="comment">/*recv_data*/</span>)</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;{</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="Log_8h.html#adbee991aac31d91a88ae6276d32ba9f6">DETAIL_LOG</a>(<span class="stringliteral">&quot;WORLD: Received opcode MSG_CORPSE_QUERY&quot;</span>);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="classCorpse.html">Corpse</a>* corpse = <a class="code" href="classWorldSession.html#ae448834fe91656409fc30f46d11e2481">GetPlayer</a>()-&gt;<a class="code" href="classPlayer.html#a8c1208da22d449910537b53d26308fa3">GetCorpse</a>();</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">if</span> (!corpse)</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacabec667ccb691d08d5a0c9b088dc862db">MSG_CORPSE_QUERY</a>, 1);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(0);                                   <span class="comment">// corpse not found</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> corpsemapid = corpse-&gt;<a class="code" href="classWorldObject.html#a485ded18163bda1b789be2283781780e">GetMapId</a>();</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordtype">float</span> x = corpse-&gt;<a class="code" href="classWorldObject.html#aa66c526ae67a978c3c8abfef4e45df50">GetPositionX</a>();</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordtype">float</span> y = corpse-&gt;<a class="code" href="classWorldObject.html#a950bb10c341d39dff61c394009860ac3">GetPositionY</a>();</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordtype">float</span> z = corpse-&gt;<a class="code" href="classWorldObject.html#a9c900e733e0e4b039682234dd9514a7e">GetPositionZ</a>();</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> mapid = corpsemapid;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="comment">// if corpse at different map</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">if</span> (corpsemapid != <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classWorldObject.html#a485ded18163bda1b789be2283781780e">GetMapId</a>())</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="comment">// search entrance map for proper show entrance</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="structMapEntry.html">MapEntry</a> <span class="keyword">const</span>* corpseMapEntry = <a class="code" href="DBCStores_8cpp.html#ac28198d1c28605951e9debe1298b8304">sMapStore</a>.LookupEntry(corpsemapid))</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            <span class="keywordflow">if</span> (corpseMapEntry-&gt;IsDungeon() &amp;&amp; corpseMapEntry-&gt;ghost_entrance_map &gt;= 0)</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                <span class="comment">// if corpse map have entrance</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classTerrainInfo.html">TerrainInfo</a> <span class="keyword">const</span>* entranceMap = <a class="code" href="GridMap_8h.html#a4bf179707a1ece6259d7ea379003eec1">sTerrainMgr</a>.LoadTerrain(corpseMapEntry-&gt;ghost_entrance_map))</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                    mapid = corpseMapEntry-&gt;ghost_entrance_map;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                    x = corpseMapEntry-&gt;ghost_entrance_x;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                    y = corpseMapEntry-&gt;ghost_entrance_y;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                    z = entranceMap-&gt;GetHeightStatic(x, y, <a class="code" href="GridDefines_8h.html#a9059fa76eb5e8e86f870405d63e72c4c">MAX_HEIGHT</a>);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                }</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacabec667ccb691d08d5a0c9b088dc862db">MSG_CORPSE_QUERY</a>, 1 + (6 * 4));</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(1);                                       <span class="comment">// corpse found</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(mapid);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    data &lt;&lt; float(x);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    data &lt;&lt; float(y);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    data &lt;&lt; float(z);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(corpsemapid);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);                                      <span class="comment">// unknown</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;}</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="classWorldSession.html#a922db59459278711032af3707eaf8ee2">  345</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a922db59459278711032af3707eaf8ee2">WorldSession::HandleNpcTextQueryOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; recv_data)</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;{</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> textID;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="classObjectGuid.html">ObjectGuid</a> guid;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    recv_data &gt;&gt; textID;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    recv_data &gt;&gt; guid;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <a class="code" href="Log_8h.html#adbee991aac31d91a88ae6276d32ba9f6">DETAIL_LOG</a>(<span class="stringliteral">&quot;WORLD: CMSG_NPC_TEXT_QUERY ID &#39;%u&#39;&quot;</span>, textID);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="structGossipText.html">GossipText</a> <span class="keyword">const</span>* gossip = <a class="code" href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>.GetGossipText(textID);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca7a18aa05d8aa961f8e8f713682186672">SMSG_NPC_TEXT_UPDATE</a>, 100);            <span class="comment">// guess size</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    data &lt;&lt; textID;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">if</span> (!gossip)</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code" href="NPCHandler_8h.html#a114c9636000e930cd1dc1ef7e444814f">MAX_GOSSIP_TEXT_OPTIONS</a>; ++i)</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            data &lt;&lt; float(0);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            data &lt;&lt; <span class="stringliteral">&quot;Greetings $N&quot;</span>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            data &lt;&lt; <span class="stringliteral">&quot;Greetings $N&quot;</span>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        std::string Text_0[<a class="code" href="NPCHandler_8h.html#a114c9636000e930cd1dc1ef7e444814f">MAX_GOSSIP_TEXT_OPTIONS</a>], Text_1[<a class="code" href="NPCHandler_8h.html#a114c9636000e930cd1dc1ef7e444814f">MAX_GOSSIP_TEXT_OPTIONS</a>];</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keywordtype">bool</span> locales = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordtype">int</span> loc_idx = <a class="code" href="classWorldSession.html#a9604e93019df8f73ce57701ebe8e5a3e">GetSessionDbLocaleIndex</a>();</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="NPCHandler_8h.html#a114c9636000e930cd1dc1ef7e444814f">MAX_GOSSIP_TEXT_OPTIONS</a>; ++i)</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            <span class="keywordflow">if</span> (gossip-&gt;<a class="code" href="structGossipText.html#a30882f3f0415185ec12ef4d316a0b428">Options</a>[i].<a class="code" href="structGossipTextOption.html#a0eeaf965e8ec8ad4a3fa9da777db9c0c">broadcastTextId</a>)</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                locales = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                Text_0[i] = <a class="code" href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>.GetBroadcastText(gossip-&gt;<a class="code" href="structGossipText.html#a30882f3f0415185ec12ef4d316a0b428">Options</a>[i].<a class="code" href="structGossipTextOption.html#a0eeaf965e8ec8ad4a3fa9da777db9c0c">broadcastTextId</a>)-&gt;GetText(loc_idx, <a class="code" href="SharedDefines_8h.html#a3667e3c5ec056737c8789615a989324fa8f9913149a2518b5548e5125495a01c3">GENDER_MALE</a>);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                Text_1[i] = <a class="code" href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>.GetBroadcastText(gossip-&gt;<a class="code" href="structGossipText.html#a30882f3f0415185ec12ef4d316a0b428">Options</a>[i].<a class="code" href="structGossipTextOption.html#a0eeaf965e8ec8ad4a3fa9da777db9c0c">broadcastTextId</a>)-&gt;GetText(loc_idx, <a class="code" href="SharedDefines_8h.html#a3667e3c5ec056737c8789615a989324faf3da8f6e862fb5230f0bbb8613684463">GENDER_FEMALE</a>);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (locales)</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                Text_0[i] = gossip-&gt;<a class="code" href="structGossipText.html#a30882f3f0415185ec12ef4d316a0b428">Options</a>[i].<a class="code" href="structGossipTextOption.html#a046d637b91807db067c6e7050184322d">Text_0</a>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                Text_1[i] = gossip-&gt;<a class="code" href="structGossipText.html#a30882f3f0415185ec12ef4d316a0b428">Options</a>[i].<a class="code" href="structGossipTextOption.html#a8d64d7b8fcdbd995cc11e22adde8c0de">Text_1</a>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="keywordflow">if</span> (locales)</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            <a class="code" href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>.GetNpcTextLocaleStringsAll(textID, loc_idx, &amp;Text_0, &amp;Text_1);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160; </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="NPCHandler_8h.html#a114c9636000e930cd1dc1ef7e444814f">MAX_GOSSIP_TEXT_OPTIONS</a>; ++i)</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            data &lt;&lt; gossip-&gt;<a class="code" href="structGossipText.html#a30882f3f0415185ec12ef4d316a0b428">Options</a>[i].<a class="code" href="structGossipTextOption.html#a5c743df7a7ad634c5b3f3376547fda00">Probability</a>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160; </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            <span class="keywordflow">if</span> (Text_0[i].empty())</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                data &lt;&lt; Text_1[i];</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                data &lt;&lt; Text_0[i];</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <span class="keywordflow">if</span> (Text_1[i].empty())</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                data &lt;&lt; Text_0[i];</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                data &lt;&lt; Text_1[i];</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            data &lt;&lt; gossip-&gt;<a class="code" href="structGossipText.html#a30882f3f0415185ec12ef4d316a0b428">Options</a>[i].<a class="code" href="structGossipTextOption.html#a33bc5a0c156918b00380710aeb275d3d">Language</a>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="SharedDefines_8h.html#a0e527855c554e31654c9beb340145574">Emote</a> : gossip-&gt;<a class="code" href="structGossipText.html#a30882f3f0415185ec12ef4d316a0b428">Options</a>[i].<a class="code" href="structGossipTextOption.html#a88ce09f36a0733eaad7aa976bfd80924">Emotes</a>)</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                data &lt;&lt; <a class="code" href="SharedDefines_8h.html#a0e527855c554e31654c9beb340145574">Emote</a>._Delay;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                data &lt;&lt; <a class="code" href="SharedDefines_8h.html#a0e527855c554e31654c9beb340145574">Emote</a>._Emote;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            }</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a>(<span class="stringliteral">&quot;WORLD: Sent SMSG_NPC_TEXT_UPDATE&quot;</span>);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;}</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno"><a class="line" href="classWorldSession.html#abc768acad0d68404afdcef70b22dbf8f">  428</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#abc768acad0d68404afdcef70b22dbf8f">WorldSession::HandlePageTextQueryOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; recv_data)</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;{</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <a class="code" href="Log_8h.html#adbee991aac31d91a88ae6276d32ba9f6">DETAIL_LOG</a>(<span class="stringliteral">&quot;WORLD: Received opcode CMSG_PAGE_TEXT_QUERY&quot;</span>);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    recv_data.<a class="code" href="classByteBuffer.html#a45e6b7d03df82a0be6eab9975193881e">hexlike</a>();</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> pageID;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    recv_data &gt;&gt; pageID;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    recv_data.<a class="code" href="classByteBuffer.html#a13c94e2d389aa4c7427d1ba0c79fc955">read_skip</a>&lt;<a class="code" href="Define_8h.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a>&gt;();                          <span class="comment">// guid</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">while</span> (pageID)</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <a class="code" href="structPageText.html">PageText</a> <span class="keyword">const</span>* pPage = <a class="code" href="SQLStorages_8cpp.html#a43f9f242946d8cdd720c8cac140c68cf">sPageTextStore</a>.<a class="code" href="classSQLStorage.html#ace42ec0424ef41d187eb7c1bdcfa8c62">LookupEntry</a>&lt;<a class="code" href="structPageText.html">PageText</a>&gt;(pageID);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <span class="comment">// guess size</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca2217db5e75c3588029aae68ee23b67a1">SMSG_PAGE_TEXT_QUERY_RESPONSE</a>, 50);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        data &lt;&lt; pageID;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <span class="keywordflow">if</span> (!pPage)</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            data &lt;&lt; <span class="stringliteral">&quot;Item page missing.&quot;</span>;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            pageID = 0;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            std::string Text = pPage-&gt;<a class="code" href="structPageText.html#a15e2241f497a8832a87593152cda25e0">Text</a>;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <span class="keywordtype">int</span> loc_idx = <a class="code" href="classWorldSession.html#a9604e93019df8f73ce57701ebe8e5a3e">GetSessionDbLocaleIndex</a>();</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <span class="keywordflow">if</span> (loc_idx &gt;= 0)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                <a class="code" href="structPageTextLocale.html">PageTextLocale</a> <span class="keyword">const</span>* pl = <a class="code" href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>.GetPageTextLocale(pageID);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                <span class="keywordflow">if</span> (pl)</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                    <span class="keywordflow">if</span> (pl-&gt;<a class="code" href="structPageTextLocale.html#a1ec4c4c6704672e64b9bff1799c4562d">Text</a>.size() &gt; <span class="keywordtype">size_t</span>(loc_idx) &amp;&amp; !pl-&gt;<a class="code" href="structPageTextLocale.html#a1ec4c4c6704672e64b9bff1799c4562d">Text</a>[loc_idx].empty())</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                        Text = pl-&gt;<a class="code" href="structPageTextLocale.html#a1ec4c4c6704672e64b9bff1799c4562d">Text</a>[loc_idx];</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            data &lt;&lt; Text;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(pPage-&gt;<a class="code" href="structPageText.html#a27e38b936064b7eb28c82b3a34259803">Next_Page</a>);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            pageID = pPage-&gt;<a class="code" href="structPageText.html#a27e38b936064b7eb28c82b3a34259803">Next_Page</a>;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        }</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <a class="code" href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a>(<span class="stringliteral">&quot;WORLD: Sent SMSG_PAGE_TEXT_QUERY_RESPONSE&quot;</span>);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;}</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; </div>
<div class="line"><a name="l00475"></a><span class="lineno"><a class="line" href="classWorldSession.html#a2e378500542bdd38f6b9a0525e9f86c1">  475</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a2e378500542bdd38f6b9a0525e9f86c1">WorldSession::HandleCorpseMapPositionQueryOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; recv_data)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;{</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <a class="code" href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a>(<span class="stringliteral">&quot;WORLD: Recv CMSG_CORPSE_MAP_POSITION_QUERY&quot;</span>);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> unk;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    recv_data &gt;&gt; unk;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca5294699e2b7d665ea74fc564fb6d56a2">SMSG_CORPSE_TRANSPORT_QUERY</a>, 4 + 4 + 4 + 4);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    data &lt;&lt; float(0);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    data &lt;&lt; float(0);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    data &lt;&lt; float(0);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    data &lt;&lt; float(0);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="classWorldSession.html#ad5d90e29080b28d79d13a45cf1480aad">  490</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#ad5d90e29080b28d79d13a45cf1480aad">WorldSession::HandleQueryQuestsCompletedOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; <span class="comment">/*recv_data */</span>)</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;{</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacada94c15b66bfb20fae9a7112c6a82ced">SMSG_ALL_QUESTS_COMPLETED</a>, 4 + 4 * count);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(count);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">for</span> (QuestStatusMap::const_iterator itr = <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a2993e8a7570b49ded926f2fd8306a9f3">getQuestStatusMap</a>().begin(); itr != <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a2993e8a7570b49ded926f2fd8306a9f3">getQuestStatusMap</a>().end(); ++itr)</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <span class="keywordflow">if</span> (itr-&gt;second.m_rewarded)</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(itr-&gt;first);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            ++count;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    }</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    data.<a class="code" href="classByteBuffer.html#a1c6679ea7a9b1eb27762460f87b25836">put</a>&lt;<a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;(0, count);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;}</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="classWorldSession.html#aad6765c8bb267c7a97a42fbba79ede87">  509</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#aad6765c8bb267c7a97a42fbba79ede87">WorldSession::HandleQuestPOIQueryOpcode</a>(<a class="code" href="classWorldPacket.html">WorldPacket</a>&amp; recv_data)</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;{</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    recv_data &gt;&gt; count;                                     <span class="comment">// quest count, max=25</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keywordflow">if</span> (count &gt; <a class="code" href="QuestDef_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>)</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    {</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        recv_data.<a class="code" href="classByteBuffer.html#a1e1a47f362861d8cd61cdf27f7eb1812">rpos</a>(recv_data.<a class="code" href="classByteBuffer.html#a822527905d8efa5938e6a9f1adde97fd">wpos</a>());                   <span class="comment">// set to end to avoid warnings spam</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    }</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacae1479ae10611af08bc9fc4a9f49ba7fc">SMSG_QUEST_POI_QUERY_RESPONSE</a>, 4 + (4 + 4)*count);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(count);                                  <span class="comment">// count</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160; </div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; count; ++i)</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        recv_data &gt;&gt; questId;                               <span class="comment">// quest id</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordtype">bool</span> questOk = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <a class="code" href="Define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> questSlot = <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a3454be68dff7bb9d8ee581591cac3c95">FindQuestSlot</a>(questId);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="keywordflow">if</span> (questSlot != <a class="code" href="QuestDef_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>)</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            questOk = <a class="code" href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">_player</a>-&gt;<a class="code" href="classPlayer.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(questSlot) == questId;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordflow">if</span> (questOk)</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            <a class="code" href="ObjectMgr_8h.html#a83dfb812941874d387ff34ad433e7fa6">QuestPOIVector</a> <span class="keyword">const</span>* POI = <a class="code" href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>.GetQuestPOIVector(questId);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <span class="keywordflow">if</span> (POI)</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(questId);                    <span class="comment">// quest ID</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(POI-&gt;size());                <span class="comment">// POI count</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160; </div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; itr : *POI)</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                    data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(itr.PoiId);             <span class="comment">// POI index</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                    data &lt;&lt; <a class="code" href="Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(itr.ObjectiveIndex);     <span class="comment">// objective index</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                    data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(itr.MapId);             <span class="comment">// mapid</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                    data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(itr.MapAreaId);         <span class="comment">// world map area id</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                    data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(itr.FloorId);           <span class="comment">// floor id</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                    data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(itr.Unk3);              <span class="comment">// unknown</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                    data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(itr.Unk4);              <span class="comment">// unknown</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                    data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(itr.points.size());     <span class="comment">// POI points count</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                    <span class="keywordflow">for</span> (std::vector&lt;QuestPOIPoint&gt;::const_iterator itr2 = itr.points.begin(); itr2 != itr.points.end(); ++itr2)</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                    {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                        data &lt;&lt; <a class="code" href="Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(itr2-&gt;x);             <span class="comment">// POI point x</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                        data &lt;&lt; <a class="code" href="Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(itr2-&gt;y);             <span class="comment">// POI point y</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                    }</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            }</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            {</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(questId);                    <span class="comment">// quest ID</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);                          <span class="comment">// POI count</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(questId);                        <span class="comment">// quest ID</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);                              <span class="comment">// POI count</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;}</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160; </div>
<div class="line"><a name="l00578"></a><span class="lineno"><a class="line" href="classWorldSession.html#a29a87e6745d3412fba76772d9c0e546c">  578</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWorldSession.html#a29a87e6745d3412fba76772d9c0e546c">WorldSession::SendQueryTimeResponse</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <a class="code" href="classWorldPacket.html">WorldPacket</a> data(<a class="code" href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacaba777cea368481d2420fd6581452f6e7">SMSG_QUERY_TIME_RESPONSE</a>, 4 + 4);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(time(<span class="keyword">nullptr</span>));</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    data &lt;&lt; <a class="code" href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(<a class="code" href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>.GetNextDailyQuestsResetTime() - time(<span class="keyword">nullptr</span>));</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <a class="code" href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">SendPacket</a>(data);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;}</div>
<div class="ttc" id="aCommon_8h_html"><div class="ttname"><a href="Common_8h.html">Common.h</a></div></div>
<div class="ttc" id="aDBCStores_8cpp_html_ac28198d1c28605951e9debe1298b8304"><div class="ttname"><a href="DBCStores_8cpp.html#ac28198d1c28605951e9debe1298b8304">sMapStore</a></div><div class="ttdeci">DBCStorage&lt; MapEntry &gt; sMapStore(MapEntryfmt)</div></div>
<div class="ttc" id="aDatabaseEnv_8h_html"><div class="ttname"><a href="DatabaseEnv_8h.html">DatabaseEnv.h</a></div></div>
<div class="ttc" id="aDatabaseImpl_8h_html"><div class="ttname"><a href="DatabaseImpl_8h.html">DatabaseImpl.h</a></div></div>
<div class="ttc" id="aDefine_8h_html_a0bf9964a3ce962c07ad3d8b5432bbbcd"><div class="ttname"><a href="Define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a></div><div class="ttdeci">std::int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="Define_8h_source.html#l00112">Define.h:112</a></div></div>
<div class="ttc" id="aDefine_8h_html_a15a8d014fadf85c99a2268d8cbd00767"><div class="ttname"><a href="Define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a></div><div class="ttdeci">std::uint8_t uint8</div><div class="ttdef"><b>Definition:</b> <a href="Define_8h_source.html#l00118">Define.h:118</a></div></div>
<div class="ttc" id="aDefine_8h_html_a22f78cc9780bf32aff91ae17c3101c8d"><div class="ttname"><a href="Define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a></div><div class="ttdeci">std::uint32_t uint32</div><div class="ttdef"><b>Definition:</b> <a href="Define_8h_source.html#l00116">Define.h:116</a></div></div>
<div class="ttc" id="aDefine_8h_html_ac4dd6ce78ce3b840c53bd4b3c63ed09b"><div class="ttname"><a href="Define_8h.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a></div><div class="ttdeci">std::uint64_t uint64</div><div class="ttdef"><b>Definition:</b> <a href="Define_8h_source.html#l00115">Define.h:115</a></div></div>
<div class="ttc" id="aDefine_8h_html_ad9c79638db63f1dfe2b085743b5cbf7b"><div class="ttname"><a href="Define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a></div><div class="ttdeci">std::uint16_t uint16</div><div class="ttdef"><b>Definition:</b> <a href="Define_8h_source.html#l00117">Define.h:117</a></div></div>
<div class="ttc" id="aGridDefines_8h_html"><div class="ttname"><a href="GridDefines_8h.html">GridDefines.h</a></div></div>
<div class="ttc" id="aGridDefines_8h_html_a9059fa76eb5e8e86f870405d63e72c4c"><div class="ttname"><a href="GridDefines_8h.html#a9059fa76eb5e8e86f870405d63e72c4c">MAX_HEIGHT</a></div><div class="ttdeci">#define MAX_HEIGHT</div><div class="ttdef"><b>Definition:</b> <a href="GridDefines_8h_source.html#l00058">GridDefines.h:58</a></div></div>
<div class="ttc" id="aGridMap_8h_html_a4bf179707a1ece6259d7ea379003eec1"><div class="ttname"><a href="GridMap_8h.html#a4bf179707a1ece6259d7ea379003eec1">sTerrainMgr</a></div><div class="ttdeci">#define sTerrainMgr</div><div class="ttdef"><b>Definition:</b> <a href="GridMap_8h_source.html#l00258">GridMap.h:258</a></div></div>
<div class="ttc" id="aLanguage_8h_html"><div class="ttname"><a href="Language_8h.html">Language.h</a></div></div>
<div class="ttc" id="aLog_8h_html"><div class="ttname"><a href="Log_8h.html">Log.h</a></div></div>
<div class="ttc" id="aLog_8h_html_a21a2c7330a04ac78200a986f66609369"><div class="ttname"><a href="Log_8h.html#a21a2c7330a04ac78200a986f66609369">DEBUG_LOG</a></div><div class="ttdeci">#define DEBUG_LOG(...)</div><div class="ttdef"><b>Definition:</b> <a href="Log_8h_source.html#l00262">Log.h:262</a></div></div>
<div class="ttc" id="aLog_8h_html_adbee991aac31d91a88ae6276d32ba9f6"><div class="ttname"><a href="Log_8h.html#adbee991aac31d91a88ae6276d32ba9f6">DETAIL_LOG</a></div><div class="ttdeci">#define DETAIL_LOG(...)</div><div class="ttdef"><b>Definition:</b> <a href="Log_8h_source.html#l00250">Log.h:250</a></div></div>
<div class="ttc" id="aNPCHandler_8h_html"><div class="ttname"><a href="NPCHandler_8h.html">NPCHandler.h</a></div></div>
<div class="ttc" id="aNPCHandler_8h_html_a114c9636000e930cd1dc1ef7e444814f"><div class="ttname"><a href="NPCHandler_8h.html#a114c9636000e930cd1dc1ef7e444814f">MAX_GOSSIP_TEXT_OPTIONS</a></div><div class="ttdeci">#define MAX_GOSSIP_TEXT_OPTIONS</div><div class="ttdef"><b>Definition:</b> <a href="NPCHandler_8h_source.html#l00073">NPCHandler.h:73</a></div></div>
<div class="ttc" id="aObjectGuid_8h_html"><div class="ttname"><a href="ObjectGuid_8h.html">ObjectGuid.h</a></div></div>
<div class="ttc" id="aObjectGuid_8h_html_abe8666ac87665ba963053cdd2b014750ac30cd6a15de9e7763b2bcea91be46eb3"><div class="ttname"><a href="ObjectGuid_8h.html#abe8666ac87665ba963053cdd2b014750ac30cd6a15de9e7763b2bcea91be46eb3">HIGHGUID_PLAYER</a></div><div class="ttdeci">@ HIGHGUID_PLAYER</div><div class="ttdef"><b>Definition:</b> <a href="ObjectGuid_8h_source.html#l00063">ObjectGuid.h:63</a></div></div>
<div class="ttc" id="aObjectMgr_8h_html"><div class="ttname"><a href="ObjectMgr_8h.html">ObjectMgr.h</a></div></div>
<div class="ttc" id="aObjectMgr_8h_html_a736e30da2b5261060ac6cdbb5de3b787"><div class="ttname"><a href="ObjectMgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a></div><div class="ttdeci">#define sObjectMgr</div><div class="ttdef"><b>Definition:</b> <a href="ObjectMgr_8h_source.html#l01464">ObjectMgr.h:1464</a></div></div>
<div class="ttc" id="aObjectMgr_8h_html_a83dfb812941874d387ff34ad433e7fa6"><div class="ttname"><a href="ObjectMgr_8h.html#a83dfb812941874d387ff34ad433e7fa6">QuestPOIVector</a></div><div class="ttdeci">std::vector&lt; QuestPOI &gt; QuestPOIVector</div><div class="ttdef"><b>Definition:</b> <a href="ObjectMgr_8h_source.html#l00376">ObjectMgr.h:376</a></div></div>
<div class="ttc" id="aOpcodes_8h_html"><div class="ttname"><a href="Opcodes_8h.html">Opcodes.h</a></div></div>
<div class="ttc" id="aPlayer_8h_html"><div class="ttname"><a href="Player_8h.html">Player.h</a></div></div>
<div class="ttc" id="aQuestDef_8h_html_a95d52fc66ae096a6bcac03b3cdccf3b8"><div class="ttname"><a href="QuestDef_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a></div><div class="ttdeci">#define MAX_QUEST_LOG_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="QuestDef_8h_source.html#l00032">QuestDef.h:32</a></div></div>
<div class="ttc" id="aSQLStorages_8cpp_html_a43f9f242946d8cdd720c8cac140c68cf"><div class="ttname"><a href="SQLStorages_8cpp.html#a43f9f242946d8cdd720c8cac140c68cf">sPageTextStore</a></div><div class="ttdeci">SQLStorage sPageTextStore(PageTextfmt, &quot;entry&quot;, &quot;page_text&quot;)</div></div>
<div class="ttc" id="aSQLStorages_8h_html"><div class="ttname"><a href="SQLStorages_8h.html">SQLStorages.h</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a0e527855c554e31654c9beb340145574"><div class="ttname"><a href="SharedDefines_8h.html#a0e527855c554e31654c9beb340145574">Emote</a></div><div class="ttdeci">Emote</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l00799">SharedDefines.h:800</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a3667e3c5ec056737c8789615a989324fa8f9913149a2518b5548e5125495a01c3"><div class="ttname"><a href="SharedDefines_8h.html#a3667e3c5ec056737c8789615a989324fa8f9913149a2518b5548e5125495a01c3">GENDER_MALE</a></div><div class="ttdeci">@ GENDER_MALE</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l00026">SharedDefines.h:26</a></div></div>
<div class="ttc" id="aSharedDefines_8h_html_a3667e3c5ec056737c8789615a989324faf3da8f6e862fb5230f0bbb8613684463"><div class="ttname"><a href="SharedDefines_8h.html#a3667e3c5ec056737c8789615a989324faf3da8f6e862fb5230f0bbb8613684463">GENDER_FEMALE</a></div><div class="ttdeci">@ GENDER_FEMALE</div><div class="ttdef"><b>Definition:</b> <a href="SharedDefines_8h_source.html#l00027">SharedDefines.h:27</a></div></div>
<div class="ttc" id="aWorldPacket_8h_html"><div class="ttname"><a href="WorldPacket_8h.html">WorldPacket.h</a></div></div>
<div class="ttc" id="aWorldSession_8h_html"><div class="ttname"><a href="WorldSession_8h.html">WorldSession.h</a></div></div>
<div class="ttc" id="aWorld_8h_html"><div class="ttname"><a href="World_8h.html">World.h</a></div></div>
<div class="ttc" id="aclassByteBuffer_html_a13c94e2d389aa4c7427d1ba0c79fc955"><div class="ttname"><a href="classByteBuffer.html#a13c94e2d389aa4c7427d1ba0c79fc955">ByteBuffer::read_skip</a></div><div class="ttdeci">void read_skip()</div><div class="ttdef"><b>Definition:</b> <a href="ByteBuffer_8h_source.html#l00289">ByteBuffer.h:289</a></div></div>
<div class="ttc" id="aclassByteBuffer_html_a1c6679ea7a9b1eb27762460f87b25836"><div class="ttname"><a href="classByteBuffer.html#a1c6679ea7a9b1eb27762460f87b25836">ByteBuffer::put</a></div><div class="ttdeci">void put(size_t pos, T value)</div><div class="ttdef"><b>Definition:</b> <a href="ByteBuffer_8h_source.html#l00105">ByteBuffer.h:105</a></div></div>
<div class="ttc" id="aclassByteBuffer_html_a1e1a47f362861d8cd61cdf27f7eb1812"><div class="ttname"><a href="classByteBuffer.html#a1e1a47f362861d8cd61cdf27f7eb1812">ByteBuffer::rpos</a></div><div class="ttdeci">size_t rpos() const</div><div class="ttdef"><b>Definition:</b> <a href="ByteBuffer_8h_source.html#l00272">ByteBuffer.h:272</a></div></div>
<div class="ttc" id="aclassByteBuffer_html_a45e6b7d03df82a0be6eab9975193881e"><div class="ttname"><a href="classByteBuffer.html#a45e6b7d03df82a0be6eab9975193881e">ByteBuffer::hexlike</a></div><div class="ttdeci">void hexlike() const</div><div class="ttdef"><b>Definition:</b> <a href="ByteBuffer_8cpp_source.html#l00062">ByteBuffer.cpp:62</a></div></div>
<div class="ttc" id="aclassByteBuffer_html_a822527905d8efa5938e6a9f1adde97fd"><div class="ttname"><a href="classByteBuffer.html#a822527905d8efa5938e6a9f1adde97fd">ByteBuffer::wpos</a></div><div class="ttdeci">size_t wpos() const</div><div class="ttdef"><b>Definition:</b> <a href="ByteBuffer_8h_source.html#l00280">ByteBuffer.h:280</a></div></div>
<div class="ttc" id="aclassByteBuffer_html_ab71feec2acb9ff88a5c7c7d0adaa7653"><div class="ttname"><a href="classByteBuffer.html#ab71feec2acb9ff88a5c7c7d0adaa7653">ByteBuffer::append</a></div><div class="ttdeci">void append(const std::string &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="ByteBuffer_8h_source.html#l00381">ByteBuffer.h:381</a></div></div>
<div class="ttc" id="aclassCorpse_html"><div class="ttname"><a href="classCorpse.html">Corpse</a></div><div class="ttdef"><b>Definition:</b> <a href="Corpse_8h_source.html#l00049">Corpse.h:50</a></div></div>
<div class="ttc" id="aclassDatabase_html_a7ca2df98b64655a7d7e0cb21bbde220d"><div class="ttname"><a href="classDatabase.html#a7ca2df98b64655a7d7e0cb21bbde220d">Database::AsyncPQuery</a></div><div class="ttdeci">bool AsyncPQuery(Class *object, void(Class::*method)(QueryResult *), const char *format,...) ATTR_PRINTF(4</div><div class="ttdef"><b>Definition:</b> <a href="DatabaseImpl_8h_source.html#l00112">DatabaseImpl.h:112</a></div></div>
<div class="ttc" id="aclassField_html"><div class="ttname"><a href="classField.html">Field</a></div><div class="ttdef"><b>Definition:</b> <a href="Field_8h_source.html#l00024">Field.h:25</a></div></div>
<div class="ttc" id="aclassField_html_a090beafdf8b41555058a87d00443498a"><div class="ttname"><a href="classField.html#a090beafdf8b41555058a87d00443498a">Field::GetUInt8</a></div><div class="ttdeci">uint8 GetUInt8() const</div><div class="ttdef"><b>Definition:</b> <a href="Field_8h_source.html#l00056">Field.h:56</a></div></div>
<div class="ttc" id="aclassField_html_ac3fe5bf9cdc61b5be66a4c79598cba5e"><div class="ttname"><a href="classField.html#ac3fe5bf9cdc61b5be66a4c79598cba5e">Field::GetCppString</a></div><div class="ttdeci">std::string GetCppString() const</div><div class="ttdef"><b>Definition:</b> <a href="Field_8h_source.html#l00049">Field.h:49</a></div></div>
<div class="ttc" id="aclassObjectGuid_html"><div class="ttname"><a href="classObjectGuid.html">ObjectGuid</a></div><div class="ttdef"><b>Definition:</b> <a href="ObjectGuid_8h_source.html#l00087">ObjectGuid.h:88</a></div></div>
<div class="ttc" id="aclassObjectGuid_html_a07e7802fc81a89510d4286ecf52ddb08"><div class="ttname"><a href="classObjectGuid.html#a07e7802fc81a89510d4286ecf52ddb08">ObjectGuid::WriteAsPacked</a></div><div class="ttdeci">PackedGuid WriteAsPacked() const</div><div class="ttdef"><b>Definition:</b> <a href="ObjectGuid_8h_source.html#l00259">ObjectGuid.h:259</a></div></div>
<div class="ttc" id="aclassObjectGuid_html_a0eb47d3c61516f4242e8599b55ae755e"><div class="ttname"><a href="classObjectGuid.html#a0eb47d3c61516f4242e8599b55ae755e">ObjectGuid::GetString</a></div><div class="ttdeci">std::string GetString() const</div><div class="ttdef"><b>Definition:</b> <a href="ObjectGuid_8cpp_source.html#l00047">ObjectGuid.cpp:47</a></div></div>
<div class="ttc" id="aclassObjectGuid_html_a66935d98ce09dcb80d05a34b2697496a"><div class="ttname"><a href="classObjectGuid.html#a66935d98ce09dcb80d05a34b2697496a">ObjectGuid::GetCounter</a></div><div class="ttdeci">uint32 GetCounter() const</div><div class="ttdef"><b>Definition:</b> <a href="ObjectGuid_8h_source.html#l00112">ObjectGuid.h:112</a></div></div>
<div class="ttc" id="aclassObjectMgr_html_acb8c34b9004a950cf03753ae6ea87dde"><div class="ttname"><a href="classObjectMgr.html#acb8c34b9004a950cf03753ae6ea87dde">ObjectMgr::GetGameObjectInfo</a></div><div class="ttdeci">static GameObjectInfo const  * GetGameObjectInfo(uint32 id)</div><div class="ttdoc">Wrapper for sGOStorage.LookupEntry.</div><div class="ttdef"><b>Definition:</b> <a href="ObjectMgr_8cpp_source.html#l04536">ObjectMgr.cpp:4536</a></div></div>
<div class="ttc" id="aclassObjectMgr_html_afc7d19c6dafd93035f5248e5ab0c234b"><div class="ttname"><a href="classObjectMgr.html#afc7d19c6dafd93035f5248e5ab0c234b">ObjectMgr::GetCreatureTemplate</a></div><div class="ttdeci">static CreatureInfo const  * GetCreatureTemplate(uint32 id)</div><div class="ttdoc">Wrapper for sCreatureStorage.LookupEntry.</div><div class="ttdef"><b>Definition:</b> <a href="ObjectMgr_8cpp_source.html#l04539">ObjectMgr.cpp:4539</a></div></div>
<div class="ttc" id="aclassObject_html_ae7e0c11556aeda48ab347a56b6b7bd6a"><div class="ttname"><a href="classObject.html#ae7e0c11556aeda48ab347a56b6b7bd6a">Object::GetObjectGuid</a></div><div class="ttdeci">ObjectGuid const  &amp; GetObjectGuid() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00409">Object.h:409</a></div></div>
<div class="ttc" id="aclassPlayer_html"><div class="ttname"><a href="classPlayer.html">Player</a></div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l01063">Player.h:1064</a></div></div>
<div class="ttc" id="aclassPlayer_html_a2993e8a7570b49ded926f2fd8306a9f3"><div class="ttname"><a href="classPlayer.html#a2993e8a7570b49ded926f2fd8306a9f3">Player::getQuestStatusMap</a></div><div class="ttdeci">QuestStatusMap &amp; getQuestStatusMap()</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l01634">Player.h:1634</a></div></div>
<div class="ttc" id="aclassPlayer_html_a3454be68dff7bb9d8ee581591cac3c95"><div class="ttname"><a href="classPlayer.html#a3454be68dff7bb9d8ee581591cac3c95">Player::FindQuestSlot</a></div><div class="ttdeci">uint16 FindQuestSlot(uint32 quest_id) const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l15316">Player.cpp:15316</a></div></div>
<div class="ttc" id="aclassPlayer_html_a78498168eaeb91ca88e76f9e38867213"><div class="ttname"><a href="classPlayer.html#a78498168eaeb91ca88e76f9e38867213">Player::GetQuestSlotQuestId</a></div><div class="ttdeci">uint32 GetQuestSlotQuestId(uint16 slot) const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l01495">Player.h:1495</a></div></div>
<div class="ttc" id="aclassPlayer_html_a8c1208da22d449910537b53d26308fa3"><div class="ttname"><a href="classPlayer.html#a8c1208da22d449910537b53d26308fa3">Player::GetCorpse</a></div><div class="ttdeci">Corpse * GetCorpse() const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8cpp_source.html#l05006">Player.cpp:5006</a></div></div>
<div class="ttc" id="aclassPlayer_html_aa1c6cb7cbb3f2c0cb37140d8724225f4"><div class="ttname"><a href="classPlayer.html#aa1c6cb7cbb3f2c0cb37140d8724225f4">Player::GetDeclinedNames</a></div><div class="ttdeci">DeclinedName const  * GetDeclinedNames() const</div><div class="ttdef"><b>Definition:</b> <a href="Player_8h_source.html#l02465">Player.h:2465</a></div></div>
<div class="ttc" id="aclassQueryResult_html"><div class="ttname"><a href="classQueryResult.html">QueryResult</a></div><div class="ttdef"><b>Definition:</b> <a href="QueryResult_8h_source.html#l00026">QueryResult.h:27</a></div></div>
<div class="ttc" id="aclassQueryResult_html_ae59bcb12d59b9a369953be91ddb5c446"><div class="ttname"><a href="classQueryResult.html#ae59bcb12d59b9a369953be91ddb5c446">QueryResult::Fetch</a></div><div class="ttdeci">Field * Fetch() const</div><div class="ttdef"><b>Definition:</b> <a href="QueryResult_8h_source.html#l00036">QueryResult.h:36</a></div></div>
<div class="ttc" id="aclassSQLStorage_html_ace42ec0424ef41d187eb7c1bdcfa8c62"><div class="ttname"><a href="classSQLStorage.html#ace42ec0424ef41d187eb7c1bdcfa8c62">SQLStorage::LookupEntry</a></div><div class="ttdeci">T const  * LookupEntry(uint32 id) const</div><div class="ttdef"><b>Definition:</b> <a href="SQLStorage_8h_source.html#l00113">SQLStorage.h:113</a></div></div>
<div class="ttc" id="aclassTerrainInfo_html"><div class="ttname"><a href="classTerrainInfo.html">TerrainInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="GridMap_8h_source.html#l00139">GridMap.h:140</a></div></div>
<div class="ttc" id="aclassUnit_html_a0d13935c40d0392f7f7b5a34540461b2"><div class="ttname"><a href="classUnit.html#a0d13935c40d0392f7f7b5a34540461b2">Unit::getGender</a></div><div class="ttdeci">uint8 getGender() const</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l01396">Unit.h:1396</a></div></div>
<div class="ttc" id="aclassUnit_html_a58a507ebe628930b8a506144b364d84b"><div class="ttname"><a href="classUnit.html#a58a507ebe628930b8a506144b364d84b">Unit::getClass</a></div><div class="ttdeci">uint8 getClass() const</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l01394">Unit.h:1394</a></div></div>
<div class="ttc" id="aclassUnit_html_aa763cca3344c39360cf4f891300a17df"><div class="ttname"><a href="classUnit.html#aa763cca3344c39360cf4f891300a17df">Unit::getRace</a></div><div class="ttdeci">virtual uint8 getRace() const</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l01392">Unit.h:1392</a></div></div>
<div class="ttc" id="aclassWorldObject_html_a485ded18163bda1b789be2283781780e"><div class="ttname"><a href="classWorldObject.html#a485ded18163bda1b789be2283781780e">WorldObject::GetMapId</a></div><div class="ttdeci">uint32 GetMapId() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l01043">Object.h:1043</a></div></div>
<div class="ttc" id="aclassWorldObject_html_a950bb10c341d39dff61c394009860ac3"><div class="ttname"><a href="classWorldObject.html#a950bb10c341d39dff61c394009860ac3">WorldObject::GetPositionY</a></div><div class="ttdeci">float GetPositionY() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00969">Object.h:969</a></div></div>
<div class="ttc" id="aclassWorldObject_html_a9c900e733e0e4b039682234dd9514a7e"><div class="ttname"><a href="classWorldObject.html#a9c900e733e0e4b039682234dd9514a7e">WorldObject::GetPositionZ</a></div><div class="ttdeci">float GetPositionZ() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00970">Object.h:970</a></div></div>
<div class="ttc" id="aclassWorldObject_html_aa66c526ae67a978c3c8abfef4e45df50"><div class="ttname"><a href="classWorldObject.html#aa66c526ae67a978c3c8abfef4e45df50">WorldObject::GetPositionX</a></div><div class="ttdeci">float GetPositionX() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l00968">Object.h:968</a></div></div>
<div class="ttc" id="aclassWorldObject_html_af60e24425abfff16a925c7b5808d8b38"><div class="ttname"><a href="classWorldObject.html#af60e24425abfff16a925c7b5808d8b38">WorldObject::GetName</a></div><div class="ttdeci">char const  * GetName() const</div><div class="ttdef"><b>Definition:</b> <a href="Object_8h_source.html#l01058">Object.h:1058</a></div></div>
<div class="ttc" id="aclassWorldPacket_html"><div class="ttname"><a href="classWorldPacket.html">WorldPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="WorldPacket_8h_source.html#l00029">WorldPacket.h:30</a></div></div>
<div class="ttc" id="aclassWorldSession_html"><div class="ttname"><a href="classWorldSession.html">WorldSession</a></div><div class="ttdoc">Player session in the World.</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00243">WorldSession.h:244</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a15a10b125d9f54c3945a3daf319b228f"><div class="ttname"><a href="classWorldSession.html#a15a10b125d9f54c3945a3daf319b228f">WorldSession::SendPacket</a></div><div class="ttdeci">void SendPacket(WorldPacket const &amp;packet) const</div><div class="ttdoc">Send a packet to the client.</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8cpp_source.html#l00202">WorldSession.cpp:202</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a1ce97318ddeffb7fdbeeaf6c7df2b710"><div class="ttname"><a href="classWorldSession.html#a1ce97318ddeffb7fdbeeaf6c7df2b710">WorldSession::m_offlineNameResponses</a></div><div class="ttdeci">std::deque&lt; CharacterNameQueryResponse &gt; m_offlineNameResponses</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l01073">WorldSession.h:1073</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a20af5457521b2d3c651018f1b52146d9"><div class="ttname"><a href="classWorldSession.html#a20af5457521b2d3c651018f1b52146d9">WorldSession::m_sessionState</a></div><div class="ttdeci">WorldSessionState m_sessionState</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l01036">WorldSession.h:1036</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a29a87e6745d3412fba76772d9c0e546c"><div class="ttname"><a href="classWorldSession.html#a29a87e6745d3412fba76772d9c0e546c">WorldSession::SendQueryTimeResponse</a></div><div class="ttdeci">void SendQueryTimeResponse() const</div><div class="ttdef"><b>Definition:</b> <a href="QueryHandler_8cpp_source.html#l00578">QueryHandler.cpp:578</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a2e378500542bdd38f6b9a0525e9f86c1"><div class="ttname"><a href="classWorldSession.html#a2e378500542bdd38f6b9a0525e9f86c1">WorldSession::HandleCorpseMapPositionQueryOpcode</a></div><div class="ttdeci">void HandleCorpseMapPositionQueryOpcode(WorldPacket &amp;recvPacket)</div><div class="ttdef"><b>Definition:</b> <a href="QueryHandler_8cpp_source.html#l00475">QueryHandler.cpp:475</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a3e590c3e755ac99074972fe3a83267f1"><div class="ttname"><a href="classWorldSession.html#a3e590c3e755ac99074972fe3a83267f1">WorldSession::HandleNameQueryOpcode</a></div><div class="ttdeci">void HandleNameQueryOpcode(WorldPacket &amp;recvPacket)</div><div class="ttdef"><b>Definition:</b> <a href="QueryHandler_8cpp_source.html#l00136">QueryHandler.cpp:136</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a3f7948baa451136f0607acf23e566c61"><div class="ttname"><a href="classWorldSession.html#a3f7948baa451136f0607acf23e566c61">WorldSession::SendNameQueryResponseFromDB</a></div><div class="ttdeci">void SendNameQueryResponseFromDB(ObjectGuid guid) const</div><div class="ttdef"><b>Definition:</b> <a href="QueryHandler_8cpp_source.html#l00076">QueryHandler.cpp:76</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a62daf552c8cab5a453ab1a13fb123d8b"><div class="ttname"><a href="classWorldSession.html#a62daf552c8cab5a453ab1a13fb123d8b">WorldSession::SendNameQueryResponse</a></div><div class="ttdeci">void SendNameQueryResponse(CharacterNameQueryResponse &amp;response) const</div><div class="ttdef"><b>Definition:</b> <a href="QueryHandler_8cpp_source.html#l00035">QueryHandler.cpp:35</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a7402c943865afaeb210e773ed36e2dbd"><div class="ttname"><a href="classWorldSession.html#a7402c943865afaeb210e773ed36e2dbd">WorldSession::HandleCreatureQueryOpcode</a></div><div class="ttdeci">void HandleCreatureQueryOpcode(WorldPacket &amp;recvPacket)</div><div class="ttdoc">Only static data send in this packet !!!</div><div class="ttdef"><b>Definition:</b> <a href="QueryHandler_8cpp_source.html#l00185">QueryHandler.cpp:185</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a8af7d700b87df69d0fa00f4822a11ac0"><div class="ttname"><a href="classWorldSession.html#a8af7d700b87df69d0fa00f4822a11ac0">WorldSession::HandleGameObjectQueryOpcode</a></div><div class="ttdeci">void HandleGameObjectQueryOpcode(WorldPacket &amp;recvPacket)</div><div class="ttdoc">Only static data send in this packet !!!</div><div class="ttdef"><b>Definition:</b> <a href="QueryHandler_8cpp_source.html#l00240">QueryHandler.cpp:240</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a91706613e6d80951c92581eb5ac5924e"><div class="ttname"><a href="classWorldSession.html#a91706613e6d80951c92581eb5ac5924e">WorldSession::HandleCorpseQueryOpcode</a></div><div class="ttdeci">void HandleCorpseQueryOpcode(WorldPacket &amp;recvPacket)</div><div class="ttdef"><b>Definition:</b> <a href="QueryHandler_8cpp_source.html#l00294">QueryHandler.cpp:294</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a922db59459278711032af3707eaf8ee2"><div class="ttname"><a href="classWorldSession.html#a922db59459278711032af3707eaf8ee2">WorldSession::HandleNpcTextQueryOpcode</a></div><div class="ttdeci">void HandleNpcTextQueryOpcode(WorldPacket &amp;recvPacket)</div><div class="ttdef"><b>Definition:</b> <a href="QueryHandler_8cpp_source.html#l00345">QueryHandler.cpp:345</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a9604e93019df8f73ce57701ebe8e5a3e"><div class="ttname"><a href="classWorldSession.html#a9604e93019df8f73ce57701ebe8e5a3e">WorldSession::GetSessionDbLocaleIndex</a></div><div class="ttdeci">int GetSessionDbLocaleIndex() const</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00463">WorldSession.h:463</a></div></div>
<div class="ttc" id="aclassWorldSession_html_a9fa5510daf576fe281d1961430902dd9"><div class="ttname"><a href="classWorldSession.html#a9fa5510daf576fe281d1961430902dd9">WorldSession::GetAccountId</a></div><div class="ttdeci">uint32 GetAccountId() const</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00295">WorldSession.h:295</a></div></div>
<div class="ttc" id="aclassWorldSession_html_aaaa2363b99d5a167cc35d223a01a2781"><div class="ttname"><a href="classWorldSession.html#aaaa2363b99d5a167cc35d223a01a2781">WorldSession::_player</a></div><div class="ttdeci">Player * _player</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l01032">WorldSession.h:1032</a></div></div>
<div class="ttc" id="aclassWorldSession_html_aad6765c8bb267c7a97a42fbba79ede87"><div class="ttname"><a href="classWorldSession.html#aad6765c8bb267c7a97a42fbba79ede87">WorldSession::HandleQuestPOIQueryOpcode</a></div><div class="ttdeci">void HandleQuestPOIQueryOpcode(WorldPacket &amp;recv_data)</div><div class="ttdef"><b>Definition:</b> <a href="QueryHandler_8cpp_source.html#l00509">QueryHandler.cpp:509</a></div></div>
<div class="ttc" id="aclassWorldSession_html_abc768acad0d68404afdcef70b22dbf8f"><div class="ttname"><a href="classWorldSession.html#abc768acad0d68404afdcef70b22dbf8f">WorldSession::HandlePageTextQueryOpcode</a></div><div class="ttdeci">void HandlePageTextQueryOpcode(WorldPacket &amp;recvPacket)</div><div class="ttdef"><b>Definition:</b> <a href="QueryHandler_8cpp_source.html#l00428">QueryHandler.cpp:428</a></div></div>
<div class="ttc" id="aclassWorldSession_html_ac5541e7882cbfc0b3462e421c1de8b80"><div class="ttname"><a href="classWorldSession.html#ac5541e7882cbfc0b3462e421c1de8b80">WorldSession::HandleQueryTimeOpcode</a></div><div class="ttdeci">void HandleQueryTimeOpcode(WorldPacket &amp;recvPacket)</div><div class="ttdef"><b>Definition:</b> <a href="QueryHandler_8cpp_source.html#l00179">QueryHandler.cpp:179</a></div></div>
<div class="ttc" id="aclassWorldSession_html_aca87c7d8d6aa49dbe1246b86185dd466"><div class="ttname"><a href="classWorldSession.html#aca87c7d8d6aa49dbe1246b86185dd466">WorldSession::SendNameQueryResponseFromDBCallBack</a></div><div class="ttdeci">static void SendNameQueryResponseFromDBCallBack(QueryResult *result, uint32 accountId)</div><div class="ttdef"><b>Definition:</b> <a href="QueryHandler_8cpp_source.html#l00094">QueryHandler.cpp:94</a></div></div>
<div class="ttc" id="aclassWorldSession_html_ad5d90e29080b28d79d13a45cf1480aad"><div class="ttname"><a href="classWorldSession.html#ad5d90e29080b28d79d13a45cf1480aad">WorldSession::HandleQueryQuestsCompletedOpcode</a></div><div class="ttdeci">void HandleQueryQuestsCompletedOpcode(WorldPacket &amp;recv_data)</div><div class="ttdef"><b>Definition:</b> <a href="QueryHandler_8cpp_source.html#l00490">QueryHandler.cpp:490</a></div></div>
<div class="ttc" id="aclassWorldSession_html_ae448834fe91656409fc30f46d11e2481"><div class="ttname"><a href="classWorldSession.html#ae448834fe91656409fc30f46d11e2481">WorldSession::GetPlayer</a></div><div class="ttdeci">Player * GetPlayer() const</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00297">WorldSession.h:297</a></div></div>
<div class="ttc" id="aclassWorldSession_html_af8412ed02049bcd4acd3945aa0c41056"><div class="ttname"><a href="classWorldSession.html#af8412ed02049bcd4acd3945aa0c41056">WorldSession::m_offlineNameQueries</a></div><div class="ttdeci">std::set&lt; ObjectGuid &gt; m_offlineNameQueries</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l01072">WorldSession.h:1072</a></div></div>
<div class="ttc" id="agroup__mangosd_html_ga4af16b54c7219346503d4c430d955f41"><div class="ttname"><a href="group__mangosd.html#ga4af16b54c7219346503d4c430d955f41">CharacterDatabase</a></div><div class="ttdeci">DatabaseType CharacterDatabase</div><div class="ttdoc">Accessor to the character database.</div><div class="ttdef"><b>Definition:</b> <a href="mangosd_2Main_8cpp_source.html#l00062">mangosd/Main.cpp:62</a></div></div>
<div class="ttc" id="agroup__u2w_html_ga8c9f2cb96962bbba77bd38e8bd014659"><div class="ttname"><a href="group__u2w.html#ga8c9f2cb96962bbba77bd38e8bd014659">MAX_DECLINED_NAME_CASES</a></div><div class="ttdeci">#define MAX_DECLINED_NAME_CASES</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00178">WorldSession.h:178</a></div></div>
<div class="ttc" id="agroup__u2w_html_gga248297ba2ec93193a5f1bcc064ddfc87ac9bc053aadde5099899189a94f400248"><div class="ttname"><a href="group__u2w.html#gga248297ba2ec93193a5f1bcc064ddfc87ac9bc053aadde5099899189a94f400248">WORLD_SESSION_STATE_READY</a></div><div class="ttdeci">@ WORLD_SESSION_STATE_READY</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00174">WorldSession.h:174</a></div></div>
<div class="ttc" id="agroup__u2w_html_ggabeeee4622d9285fa92e9b61857002caca1d8179db7154c052e613899fafa4458e"><div class="ttname"><a href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca1d8179db7154c052e613899fafa4458e">SMSG_CREATURE_QUERY_RESPONSE</a></div><div class="ttdeci">@ SMSG_CREATURE_QUERY_RESPONSE</div><div class="ttdef"><b>Definition:</b> <a href="Opcodes_8h_source.html#l00134">Opcodes.h:134</a></div></div>
<div class="ttc" id="agroup__u2w_html_ggabeeee4622d9285fa92e9b61857002caca2217db5e75c3588029aae68ee23b67a1"><div class="ttname"><a href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca2217db5e75c3588029aae68ee23b67a1">SMSG_PAGE_TEXT_QUERY_RESPONSE</a></div><div class="ttdeci">@ SMSG_PAGE_TEXT_QUERY_RESPONSE</div><div class="ttdef"><b>Definition:</b> <a href="Opcodes_8h_source.html#l00128">Opcodes.h:128</a></div></div>
<div class="ttc" id="agroup__u2w_html_ggabeeee4622d9285fa92e9b61857002caca42caacdf381083e5cad46747a1e2515a"><div class="ttname"><a href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca42caacdf381083e5cad46747a1e2515a">SMSG_NAME_QUERY_RESPONSE</a></div><div class="ttdeci">@ SMSG_NAME_QUERY_RESPONSE</div><div class="ttdef"><b>Definition:</b> <a href="Opcodes_8h_source.html#l00118">Opcodes.h:118</a></div></div>
<div class="ttc" id="agroup__u2w_html_ggabeeee4622d9285fa92e9b61857002caca5294699e2b7d665ea74fc564fb6d56a2"><div class="ttname"><a href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca5294699e2b7d665ea74fc564fb6d56a2">SMSG_CORPSE_TRANSPORT_QUERY</a></div><div class="ttdeci">@ SMSG_CORPSE_TRANSPORT_QUERY</div><div class="ttdef"><b>Definition:</b> <a href="Opcodes_8h_source.html#l01244">Opcodes.h:1244</a></div></div>
<div class="ttc" id="agroup__u2w_html_ggabeeee4622d9285fa92e9b61857002caca7a18aa05d8aa961f8e8f713682186672"><div class="ttname"><a href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca7a18aa05d8aa961f8e8f713682186672">SMSG_NPC_TEXT_UPDATE</a></div><div class="ttdeci">@ SMSG_NPC_TEXT_UPDATE</div><div class="ttdef"><b>Definition:</b> <a href="Opcodes_8h_source.html#l00421">Opcodes.h:421</a></div></div>
<div class="ttc" id="agroup__u2w_html_ggabeeee4622d9285fa92e9b61857002caca84ef80abf17abf6d836d70914f608218"><div class="ttname"><a href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002caca84ef80abf17abf6d836d70914f608218">SMSG_GAMEOBJECT_QUERY_RESPONSE</a></div><div class="ttdeci">@ SMSG_GAMEOBJECT_QUERY_RESPONSE</div><div class="ttdef"><b>Definition:</b> <a href="Opcodes_8h_source.html#l00132">Opcodes.h:132</a></div></div>
<div class="ttc" id="agroup__u2w_html_ggabeeee4622d9285fa92e9b61857002cacaba777cea368481d2420fd6581452f6e7"><div class="ttname"><a href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacaba777cea368481d2420fd6581452f6e7">SMSG_QUERY_TIME_RESPONSE</a></div><div class="ttdeci">@ SMSG_QUERY_TIME_RESPONSE</div><div class="ttdef"><b>Definition:</b> <a href="Opcodes_8h_source.html#l00500">Opcodes.h:500</a></div></div>
<div class="ttc" id="agroup__u2w_html_ggabeeee4622d9285fa92e9b61857002cacabec667ccb691d08d5a0c9b088dc862db"><div class="ttname"><a href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacabec667ccb691d08d5a0c9b088dc862db">MSG_CORPSE_QUERY</a></div><div class="ttdeci">@ MSG_CORPSE_QUERY</div><div class="ttdef"><b>Definition:</b> <a href="Opcodes_8h_source.html#l00571">Opcodes.h:571</a></div></div>
<div class="ttc" id="agroup__u2w_html_ggabeeee4622d9285fa92e9b61857002cacada94c15b66bfb20fae9a7112c6a82ced"><div class="ttname"><a href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacada94c15b66bfb20fae9a7112c6a82ced">SMSG_ALL_QUESTS_COMPLETED</a></div><div class="ttdeci">@ SMSG_ALL_QUESTS_COMPLETED</div><div class="ttdef"><b>Definition:</b> <a href="Opcodes_8h_source.html#l01318">Opcodes.h:1318</a></div></div>
<div class="ttc" id="agroup__u2w_html_ggabeeee4622d9285fa92e9b61857002cacae1479ae10611af08bc9fc4a9f49ba7fc"><div class="ttname"><a href="group__u2w.html#ggabeeee4622d9285fa92e9b61857002cacae1479ae10611af08bc9fc4a9f49ba7fc">SMSG_QUEST_POI_QUERY_RESPONSE</a></div><div class="ttdeci">@ SMSG_QUEST_POI_QUERY_RESPONSE</div><div class="ttdef"><b>Definition:</b> <a href="Opcodes_8h_source.html#l00521">Opcodes.h:521</a></div></div>
<div class="ttc" id="agroup__world_html_ga05dfb35c344e5b947a19e4284e7f5fa7"><div class="ttname"><a href="group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a></div><div class="ttdeci">#define sWorld</div><div class="ttdef"><b>Definition:</b> <a href="World_8h_source.html#l00832">World.h:832</a></div></div>
<div class="ttc" id="agroup__world_html_gga0400d571bb6627ef2b170a4e0dc846cdaec39fe9ae0432b5e3abcb811a3780221"><div class="ttname"><a href="group__world.html#gga0400d571bb6627ef2b170a4e0dc846cdaec39fe9ae0432b5e3abcb811a3780221">CONFIG_BOOL_DECLINED_NAMES_USED</a></div><div class="ttdeci">@ CONFIG_BOOL_DECLINED_NAMES_USED</div><div class="ttdef"><b>Definition:</b> <a href="World_8h_source.html#l00371">World.h:371</a></div></div>
<div class="ttc" id="astructCharacterNameQueryResponse_html"><div class="ttname"><a href="structCharacterNameQueryResponse.html">CharacterNameQueryResponse</a></div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00185">WorldSession.h:186</a></div></div>
<div class="ttc" id="astructCharacterNameQueryResponse_html_a075792986cbdd5d4c55aa6cd73efc80d"><div class="ttname"><a href="structCharacterNameQueryResponse.html#a075792986cbdd5d4c55aa6cd73efc80d">CharacterNameQueryResponse::declined</a></div><div class="ttdeci">DeclinedName declined</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00193">WorldSession.h:193</a></div></div>
<div class="ttc" id="astructCharacterNameQueryResponse_html_a50861451c8adb12f243b2682c8908ecb"><div class="ttname"><a href="structCharacterNameQueryResponse.html#a50861451c8adb12f243b2682c8908ecb">CharacterNameQueryResponse::classid</a></div><div class="ttdeci">uint32 classid</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00192">WorldSession.h:192</a></div></div>
<div class="ttc" id="astructCharacterNameQueryResponse_html_a701e7f193d82daa0cda4f40c93bd06c5"><div class="ttname"><a href="structCharacterNameQueryResponse.html#a701e7f193d82daa0cda4f40c93bd06c5">CharacterNameQueryResponse::guid</a></div><div class="ttdeci">ObjectGuid guid</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00187">WorldSession.h:187</a></div></div>
<div class="ttc" id="astructCharacterNameQueryResponse_html_aa7c85c4b4bf19a8a7eaea7d70d8ba598"><div class="ttname"><a href="structCharacterNameQueryResponse.html#aa7c85c4b4bf19a8a7eaea7d70d8ba598">CharacterNameQueryResponse::realm</a></div><div class="ttdeci">std::string realm</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00189">WorldSession.h:189</a></div></div>
<div class="ttc" id="astructCharacterNameQueryResponse_html_ad0f92c329dca3425fdc31346d29517a9"><div class="ttname"><a href="structCharacterNameQueryResponse.html#ad0f92c329dca3425fdc31346d29517a9">CharacterNameQueryResponse::race</a></div><div class="ttdeci">uint32 race</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00190">WorldSession.h:190</a></div></div>
<div class="ttc" id="astructCharacterNameQueryResponse_html_adb1568cc19e8a5ad7526b0c6a7eda6c0"><div class="ttname"><a href="structCharacterNameQueryResponse.html#adb1568cc19e8a5ad7526b0c6a7eda6c0">CharacterNameQueryResponse::gender</a></div><div class="ttdeci">uint32 gender</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00191">WorldSession.h:191</a></div></div>
<div class="ttc" id="astructCharacterNameQueryResponse_html_af51c2f9963da2c76cd453e5a067fb2a9"><div class="ttname"><a href="structCharacterNameQueryResponse.html#af51c2f9963da2c76cd453e5a067fb2a9">CharacterNameQueryResponse::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00188">WorldSession.h:188</a></div></div>
<div class="ttc" id="astructCreatureInfo_html"><div class="ttname"><a href="structCreatureInfo.html">CreatureInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="Creature_8h_source.html#l00087">Creature.h:88</a></div></div>
<div class="ttc" id="astructCreatureInfo_html_a0f3d0ced9f1de4a0a448675ddf64fcf6"><div class="ttname"><a href="structCreatureInfo.html#a0f3d0ced9f1de4a0a448675ddf64fcf6">CreatureInfo::CreatureTypeFlags</a></div><div class="ttdeci">uint32 CreatureTypeFlags</div><div class="ttdef"><b>Definition:</b> <a href="Creature_8h_source.html#l00109">Creature.h:109</a></div></div>
<div class="ttc" id="astructCreatureInfo_html_a24f54abf4e9658781b71891ed43518bd"><div class="ttname"><a href="structCreatureInfo.html#a24f54abf4e9658781b71891ed43518bd">CreatureInfo::QuestItems</a></div><div class="ttdeci">uint32 QuestItems[6]</div><div class="ttdef"><b>Definition:</b> <a href="Creature_8h_source.html#l00151">Creature.h:151</a></div></div>
<div class="ttc" id="astructCreatureInfo_html_a2d6ea83588e36f5dbd6f9ea473edf749"><div class="ttname"><a href="structCreatureInfo.html#a2d6ea83588e36f5dbd6f9ea473edf749">CreatureInfo::HealthMultiplier</a></div><div class="ttdeci">float HealthMultiplier</div><div class="ttdef"><b>Definition:</b> <a href="Creature_8h_source.html#l00125">Creature.h:125</a></div></div>
<div class="ttc" id="astructCreatureInfo_html_a3f9472919692f379cd668127b8b4a2ca"><div class="ttname"><a href="structCreatureInfo.html#a3f9472919692f379cd668127b8b4a2ca">CreatureInfo::Name</a></div><div class="ttdeci">char * Name</div><div class="ttdef"><b>Definition:</b> <a href="Creature_8h_source.html#l00090">Creature.h:90</a></div></div>
<div class="ttc" id="astructCreatureInfo_html_a55f9e7b8189a5de4ef01d0787b161801"><div class="ttname"><a href="structCreatureInfo.html#a55f9e7b8189a5de4ef01d0787b161801">CreatureInfo::Family</a></div><div class="ttdeci">uint32 Family</div><div class="ttdef"><b>Definition:</b> <a href="Creature_8h_source.html#l00099">Creature.h:99</a></div></div>
<div class="ttc" id="astructCreatureInfo_html_a5999350aca0104be803da6bd24ec15bc"><div class="ttname"><a href="structCreatureInfo.html#a5999350aca0104be803da6bd24ec15bc">CreatureInfo::KillCredit</a></div><div class="ttdeci">uint32 KillCredit[MAX_KILL_CREDIT]</div><div class="ttdef"><b>Definition:</b> <a href="Creature_8h_source.html#l00150">Creature.h:150</a></div></div>
<div class="ttc" id="astructCreatureInfo_html_a61e098669d93844d12260656178d9759"><div class="ttname"><a href="structCreatureInfo.html#a61e098669d93844d12260656178d9759">CreatureInfo::IconName</a></div><div class="ttdeci">char * IconName</div><div class="ttdef"><b>Definition:</b> <a href="Creature_8h_source.html#l00092">Creature.h:92</a></div></div>
<div class="ttc" id="astructCreatureInfo_html_a8dc1430294293bea573b63171ec1369e"><div class="ttname"><a href="structCreatureInfo.html#a8dc1430294293bea573b63171ec1369e">CreatureInfo::Rank</a></div><div class="ttdeci">uint32 Rank</div><div class="ttdef"><b>Definition:</b> <a href="Creature_8h_source.html#l00123">Creature.h:123</a></div></div>
<div class="ttc" id="astructCreatureInfo_html_a95109eab450e42ae34975e9fe19692f8"><div class="ttname"><a href="structCreatureInfo.html#a95109eab450e42ae34975e9fe19692f8">CreatureInfo::ModelId</a></div><div class="ttdeci">uint32 ModelId[MAX_CREATURE_MODEL]</div><div class="ttdef"><b>Definition:</b> <a href="Creature_8h_source.html#l00096">Creature.h:96</a></div></div>
<div class="ttc" id="astructCreatureInfo_html_abbca0c4c7958b9542f625dd4914d75be"><div class="ttname"><a href="structCreatureInfo.html#abbca0c4c7958b9542f625dd4914d75be">CreatureInfo::SubName</a></div><div class="ttdeci">char * SubName</div><div class="ttdef"><b>Definition:</b> <a href="Creature_8h_source.html#l00091">Creature.h:91</a></div></div>
<div class="ttc" id="astructCreatureInfo_html_aceb233a74bbf2d2bcad51c15c2b82198"><div class="ttname"><a href="structCreatureInfo.html#aceb233a74bbf2d2bcad51c15c2b82198">CreatureInfo::PowerMultiplier</a></div><div class="ttdeci">float PowerMultiplier</div><div class="ttdef"><b>Definition:</b> <a href="Creature_8h_source.html#l00126">Creature.h:126</a></div></div>
<div class="ttc" id="astructCreatureInfo_html_ad6a14a407ef572de310d03f2315386e7"><div class="ttname"><a href="structCreatureInfo.html#ad6a14a407ef572de310d03f2315386e7">CreatureInfo::CreatureType</a></div><div class="ttdeci">uint32 CreatureType</div><div class="ttdef"><b>Definition:</b> <a href="Creature_8h_source.html#l00100">Creature.h:100</a></div></div>
<div class="ttc" id="astructCreatureInfo_html_afceaca4bb88da58a00876158a7be3665"><div class="ttname"><a href="structCreatureInfo.html#afceaca4bb88da58a00876158a7be3665">CreatureInfo::MovementTemplateId</a></div><div class="ttdeci">uint32 MovementTemplateId</div><div class="ttdef"><b>Definition:</b> <a href="Creature_8h_source.html#l00162">Creature.h:162</a></div></div>
<div class="ttc" id="astructCreatureInfo_html_aff2da127dd6eb58fa37aa19661a983b7"><div class="ttname"><a href="structCreatureInfo.html#aff2da127dd6eb58fa37aa19661a983b7">CreatureInfo::RacialLeader</a></div><div class="ttdeci">bool RacialLeader</div><div class="ttdef"><b>Definition:</b> <a href="Creature_8h_source.html#l00103">Creature.h:103</a></div></div>
<div class="ttc" id="astructDeclinedName_html"><div class="ttname"><a href="structDeclinedName.html">DeclinedName</a></div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00180">WorldSession.h:181</a></div></div>
<div class="ttc" id="astructDeclinedName_html_acda589ff9e0fdb0a813707736191d049"><div class="ttname"><a href="structDeclinedName.html#acda589ff9e0fdb0a813707736191d049">DeclinedName::name</a></div><div class="ttdeci">std::string name[MAX_DECLINED_NAME_CASES]</div><div class="ttdef"><b>Definition:</b> <a href="WorldSession_8h_source.html#l00182">WorldSession.h:182</a></div></div>
<div class="ttc" id="astructGameObjectInfo_html"><div class="ttname"><a href="structGameObjectInfo.html">GameObjectInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="GameObject_8h_source.html#l00040">GameObject.h:41</a></div></div>
<div class="ttc" id="astructGameObjectInfo_html_a03b62edf1d78fb9503ba71d45c799adc"><div class="ttname"><a href="structGameObjectInfo.html#a03b62edf1d78fb9503ba71d45c799adc">GameObjectInfo::unk1</a></div><div class="ttdeci">char * unk1</div><div class="ttdef"><b>Definition:</b> <a href="GameObject_8h_source.html#l00048">GameObject.h:48</a></div></div>
<div class="ttc" id="astructGameObjectInfo_html_a1afbc2026388f9fb132ffcf485610211"><div class="ttname"><a href="structGameObjectInfo.html#a1afbc2026388f9fb132ffcf485610211">GameObjectInfo::castBarCaption</a></div><div class="ttdeci">char * castBarCaption</div><div class="ttdef"><b>Definition:</b> <a href="GameObject_8h_source.html#l00047">GameObject.h:47</a></div></div>
<div class="ttc" id="astructGameObjectInfo_html_a4272aba3c63877191439cdc5926577e2"><div class="ttname"><a href="structGameObjectInfo.html#a4272aba3c63877191439cdc5926577e2">GameObjectInfo::size</a></div><div class="ttdeci">float size</div><div class="ttdef"><b>Definition:</b> <a href="GameObject_8h_source.html#l00052">GameObject.h:52</a></div></div>
<div class="ttc" id="astructGameObjectInfo_html_a6fa6457d0d1fb73e096e963b2ebf7579"><div class="ttname"><a href="structGameObjectInfo.html#a6fa6457d0d1fb73e096e963b2ebf7579">GameObjectInfo::questItems</a></div><div class="ttdeci">uint32 questItems[6]</div><div class="ttdef"><b>Definition:</b> <a href="GameObject_8h_source.html#l00053">GameObject.h:53</a></div></div>
<div class="ttc" id="astructGameObjectInfo_html_a701b61686c1dfeca238f58b43b821fdb"><div class="ttname"><a href="structGameObjectInfo.html#a701b61686c1dfeca238f58b43b821fdb">GameObjectInfo::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="GameObject_8h_source.html#l00045">GameObject.h:45</a></div></div>
<div class="ttc" id="astructGameObjectInfo_html_a92d57c060c5501830c3311ba70008730"><div class="ttname"><a href="structGameObjectInfo.html#a92d57c060c5501830c3311ba70008730">GameObjectInfo::type</a></div><div class="ttdeci">uint32 type</div><div class="ttdef"><b>Definition:</b> <a href="GameObject_8h_source.html#l00043">GameObject.h:43</a></div></div>
<div class="ttc" id="astructGameObjectInfo_html_abcc4ab475a2dc4cd5108e1e7b109df99"><div class="ttname"><a href="structGameObjectInfo.html#abcc4ab475a2dc4cd5108e1e7b109df99">GameObjectInfo::raw</a></div><div class="ttdeci">struct GameObjectInfo::@995::@1027 raw</div></div>
<div class="ttc" id="astructGameObjectInfo_html_abd725e4c5d6874999df8103b2c6ad568"><div class="ttname"><a href="structGameObjectInfo.html#abd725e4c5d6874999df8103b2c6ad568">GameObjectInfo::IconName</a></div><div class="ttdeci">char * IconName</div><div class="ttdef"><b>Definition:</b> <a href="GameObject_8h_source.html#l00046">GameObject.h:46</a></div></div>
<div class="ttc" id="astructGameObjectInfo_html_adf4e46a2d24c6de48e9075041231514f"><div class="ttname"><a href="structGameObjectInfo.html#adf4e46a2d24c6de48e9075041231514f">GameObjectInfo::displayId</a></div><div class="ttdeci">uint32 displayId</div><div class="ttdef"><b>Definition:</b> <a href="GameObject_8h_source.html#l00044">GameObject.h:44</a></div></div>
<div class="ttc" id="astructGameObjectLocale_html"><div class="ttname"><a href="structGameObjectLocale.html">GameObjectLocale</a></div><div class="ttdef"><b>Definition:</b> <a href="GameObject_8h_source.html#l00610">GameObject.h:611</a></div></div>
<div class="ttc" id="astructGameObjectLocale_html_a462917eda1e095c99054495abf70cd67"><div class="ttname"><a href="structGameObjectLocale.html#a462917eda1e095c99054495abf70cd67">GameObjectLocale::Name</a></div><div class="ttdeci">std::vector&lt; std::string &gt; Name</div><div class="ttdef"><b>Definition:</b> <a href="GameObject_8h_source.html#l00612">GameObject.h:612</a></div></div>
<div class="ttc" id="astructGameObjectLocale_html_ae78195bdc8edd6f4996c617e7a541e12"><div class="ttname"><a href="structGameObjectLocale.html#ae78195bdc8edd6f4996c617e7a541e12">GameObjectLocale::CastBarCaption</a></div><div class="ttdeci">std::vector&lt; std::string &gt; CastBarCaption</div><div class="ttdef"><b>Definition:</b> <a href="GameObject_8h_source.html#l00613">GameObject.h:613</a></div></div>
<div class="ttc" id="astructGossipTextOption_html_a046d637b91807db067c6e7050184322d"><div class="ttname"><a href="structGossipTextOption.html#a046d637b91807db067c6e7050184322d">GossipTextOption::Text_0</a></div><div class="ttdeci">std::string Text_0</div><div class="ttdef"><b>Definition:</b> <a href="NPCHandler_8h_source.html#l00065">NPCHandler.h:65</a></div></div>
<div class="ttc" id="astructGossipTextOption_html_a0eeaf965e8ec8ad4a3fa9da777db9c0c"><div class="ttname"><a href="structGossipTextOption.html#a0eeaf965e8ec8ad4a3fa9da777db9c0c">GossipTextOption::broadcastTextId</a></div><div class="ttdeci">uint32 broadcastTextId</div><div class="ttdef"><b>Definition:</b> <a href="NPCHandler_8h_source.html#l00070">NPCHandler.h:70</a></div></div>
<div class="ttc" id="astructGossipTextOption_html_a33bc5a0c156918b00380710aeb275d3d"><div class="ttname"><a href="structGossipTextOption.html#a33bc5a0c156918b00380710aeb275d3d">GossipTextOption::Language</a></div><div class="ttdeci">uint32 Language</div><div class="ttdef"><b>Definition:</b> <a href="NPCHandler_8h_source.html#l00067">NPCHandler.h:67</a></div></div>
<div class="ttc" id="astructGossipTextOption_html_a5c743df7a7ad634c5b3f3376547fda00"><div class="ttname"><a href="structGossipTextOption.html#a5c743df7a7ad634c5b3f3376547fda00">GossipTextOption::Probability</a></div><div class="ttdeci">float Probability</div><div class="ttdef"><b>Definition:</b> <a href="NPCHandler_8h_source.html#l00068">NPCHandler.h:68</a></div></div>
<div class="ttc" id="astructGossipTextOption_html_a88ce09f36a0733eaad7aa976bfd80924"><div class="ttname"><a href="structGossipTextOption.html#a88ce09f36a0733eaad7aa976bfd80924">GossipTextOption::Emotes</a></div><div class="ttdeci">QEmote Emotes[3]</div><div class="ttdef"><b>Definition:</b> <a href="NPCHandler_8h_source.html#l00069">NPCHandler.h:69</a></div></div>
<div class="ttc" id="astructGossipTextOption_html_a8d64d7b8fcdbd995cc11e22adde8c0de"><div class="ttname"><a href="structGossipTextOption.html#a8d64d7b8fcdbd995cc11e22adde8c0de">GossipTextOption::Text_1</a></div><div class="ttdeci">std::string Text_1</div><div class="ttdef"><b>Definition:</b> <a href="NPCHandler_8h_source.html#l00066">NPCHandler.h:66</a></div></div>
<div class="ttc" id="astructGossipText_html"><div class="ttname"><a href="structGossipText.html">GossipText</a></div><div class="ttdef"><b>Definition:</b> <a href="NPCHandler_8h_source.html#l00075">NPCHandler.h:76</a></div></div>
<div class="ttc" id="astructGossipText_html_a30882f3f0415185ec12ef4d316a0b428"><div class="ttname"><a href="structGossipText.html#a30882f3f0415185ec12ef4d316a0b428">GossipText::Options</a></div><div class="ttdeci">GossipTextOption Options[MAX_GOSSIP_TEXT_OPTIONS]</div><div class="ttdef"><b>Definition:</b> <a href="NPCHandler_8h_source.html#l00077">NPCHandler.h:77</a></div></div>
<div class="ttc" id="astructMapEntry_html"><div class="ttname"><a href="structMapEntry.html">MapEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="DBCStructure_8h_source.html#l01460">DBCStructure.h:1461</a></div></div>
<div class="ttc" id="astructPageTextLocale_html"><div class="ttname"><a href="structPageTextLocale.html">PageTextLocale</a></div><div class="ttdef"><b>Definition:</b> <a href="NPCHandler_8h_source.html#l00044">NPCHandler.h:45</a></div></div>
<div class="ttc" id="astructPageTextLocale_html_a1ec4c4c6704672e64b9bff1799c4562d"><div class="ttname"><a href="structPageTextLocale.html#a1ec4c4c6704672e64b9bff1799c4562d">PageTextLocale::Text</a></div><div class="ttdeci">std::vector&lt; std::string &gt; Text</div><div class="ttdef"><b>Definition:</b> <a href="NPCHandler_8h_source.html#l00046">NPCHandler.h:46</a></div></div>
<div class="ttc" id="astructPageText_html"><div class="ttname"><a href="structPageText.html">PageText</a></div><div class="ttdef"><b>Definition:</b> <a href="NPCHandler_8h_source.html#l00029">NPCHandler.h:30</a></div></div>
<div class="ttc" id="astructPageText_html_a15e2241f497a8832a87593152cda25e0"><div class="ttname"><a href="structPageText.html#a15e2241f497a8832a87593152cda25e0">PageText::Text</a></div><div class="ttdeci">char * Text</div><div class="ttdef"><b>Definition:</b> <a href="NPCHandler_8h_source.html#l00032">NPCHandler.h:32</a></div></div>
<div class="ttc" id="astructPageText_html_a27e38b936064b7eb28c82b3a34259803"><div class="ttname"><a href="structPageText.html#a27e38b936064b7eb28c82b3a34259803">PageText::Next_Page</a></div><div class="ttdeci">uint32 Next_Page</div><div class="ttdef"><b>Definition:</b> <a href="NPCHandler_8h_source.html#l00034">NPCHandler.h:34</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_1699be727a800b1d059c6f7f2b91d2ee.html">game</a></li><li class="navelem"><a class="el" href="dir_cd88f974f65999c85b4646cf8392f257.html">Entities</a></li><li class="navelem"><a class="el" href="QueryHandler_8cpp.html">QueryHandler.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
